const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Employee-B1AdoMPK.js","assets/GenerateUI-DHEUxYdu.js","assets/GenerateUI-CoxamYiN.css","assets/Issue-PZrX2tdK.js","assets/Task-D9Bog_cc.js","assets/Timesheet-DyCL72TJ.js"])))=>i.map(i=>d[i]);
var sS=Object.defineProperty,rS=Object.defineProperties;var oS=Object.getOwnPropertyDescriptors;var vc=Object.getOwnPropertySymbols;var R0=Object.prototype.hasOwnProperty,D0=Object.prototype.propertyIsEnumerable;var Eh=(n,e,t)=>e in n?sS(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ce=(n,e)=>{for(var t in e||(e={}))R0.call(e,t)&&Eh(n,t,e[t]);if(vc)for(var t of vc(e))D0.call(e,t)&&Eh(n,t,e[t]);return n},$e=(n,e)=>rS(n,oS(e));var wa=(n,e)=>{var t={};for(var i in n)R0.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&vc)for(var i of vc(n))e.indexOf(i)<0&&D0.call(n,i)&&(t[i]=n[i]);return t};var ye=(n,e,t)=>Eh(n,typeof e!="symbol"?e+"":e,t);var Ke=(n,e,t)=>new Promise((i,s)=>{var r=l=>{try{a(t.next(l))}catch(u){s(u)}},o=l=>{try{a(t.throw(l))}catch(u){s(u)}},a=l=>l.done?i(l.value):Promise.resolve(l.value).then(r,o);a((t=t.apply(n,e)).next())});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}})();/**
* @vue/shared v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function fm(n){const e=Object.create(null);for(const t of n.split(","))e[t]=1;return t=>t in e}const ft={},Po=[],zi=()=>{},aS=()=>!1,vd=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),pm=n=>n.startsWith("onUpdate:"),zt=Object.assign,mm=(n,e)=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)},lS=Object.prototype.hasOwnProperty,rt=(n,e)=>lS.call(n,e),De=Array.isArray,Eo=n=>$l(n)==="[object Map]",na=n=>$l(n)==="[object Set]",I0=n=>$l(n)==="[object Date]",He=n=>typeof n=="function",St=n=>typeof n=="string",yi=n=>typeof n=="symbol",dt=n=>n!==null&&typeof n=="object",Jv=n=>(dt(n)||He(n))&&He(n.then)&&He(n.catch),Yv=Object.prototype.toString,$l=n=>Yv.call(n),cS=n=>$l(n).slice(8,-1),Xv=n=>$l(n)==="[object Object]",gm=n=>St(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,qa=fm(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),bd=n=>{const e=Object.create(null);return t=>e[t]||(e[t]=n(t))},uS=/-(\w)/g,ni=bd(n=>n.replace(uS,(e,t)=>t?t.toUpperCase():"")),dS=/\B([A-Z])/g,tr=bd(n=>n.replace(dS,"-$1").toLowerCase()),xd=bd(n=>n.charAt(0).toUpperCase()+n.slice(1)),eu=bd(n=>n?`on${xd(n)}`:""),Vs=(n,e)=>!Object.is(n,e),tu=(n,...e)=>{for(let t=0;t<n.length;t++)n[t](...e)},Qv=(n,e,t,i=!1)=>{Object.defineProperty(n,e,{configurable:!0,enumerable:!1,writable:i,value:t})},Pu=n=>{const e=parseFloat(n);return isNaN(e)?n:e},hS=n=>{const e=St(n)?Number(n):NaN;return isNaN(e)?n:e};let j0;const wd=()=>j0||(j0=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});function Hl(n){if(De(n)){const e={};for(let t=0;t<n.length;t++){const i=n[t],s=St(i)?gS(i):Hl(i);if(s)for(const r in s)e[r]=s[r]}return e}else if(St(n)||dt(n))return n}const fS=/;(?![^(]*\))/g,pS=/:([^]+)/,mS=/\/\*[^]*?\*\//g;function gS(n){const e={};return n.replace(mS,"").split(fS).forEach(t=>{if(t){const i=t.split(pS);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function Ye(n){let e="";if(St(n))e=n;else if(De(n))for(let t=0;t<n.length;t++){const i=Ye(n[t]);i&&(e+=i+" ")}else if(dt(n))for(const t in n)n[t]&&(e+=t+" ");return e.trim()}function A$(n){if(!n)return null;let{class:e,style:t}=n;return e&&!St(e)&&(n.class=Ye(e)),t&&(n.style=Hl(t)),n}const yS="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",_S=fm(yS);function eb(n){return!!n||n===""}function vS(n,e){if(n.length!==e.length)return!1;let t=!0;for(let i=0;t&&i<n.length;i++)t=$r(n[i],e[i]);return t}function $r(n,e){if(n===e)return!0;let t=I0(n),i=I0(e);if(t||i)return t&&i?n.getTime()===e.getTime():!1;if(t=yi(n),i=yi(e),t||i)return n===e;if(t=De(n),i=De(e),t||i)return t&&i?vS(n,e):!1;if(t=dt(n),i=dt(e),t||i){if(!t||!i)return!1;const s=Object.keys(n).length,r=Object.keys(e).length;if(s!==r)return!1;for(const o in n){const a=n.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!$r(n[o],e[o]))return!1}}return String(n)===String(e)}function ym(n,e){return n.findIndex(t=>$r(t,e))}const tb=n=>!!(n&&n.__v_isRef===!0),xe=n=>St(n)?n:n==null?"":De(n)||dt(n)&&(n.toString===Yv||!He(n.toString))?tb(n)?xe(n.value):JSON.stringify(n,nb,2):String(n),nb=(n,e)=>tb(e)?nb(n,e.value):Eo(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[i,s],r)=>(t[Ah(i,r)+" =>"]=s,t),{})}:na(e)?{[`Set(${e.size})`]:[...e.values()].map(t=>Ah(t))}:yi(e)?Ah(e):dt(e)&&!De(e)&&!Xv(e)?String(e):e,Ah=(n,e="")=>{var t;return yi(n)?`Symbol(${(t=n.description)!=null?t:e})`:n};/**
* @vue/reactivity v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let xn;class ib{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=xn,!e&&xn&&(this.index=(xn.scopes||(xn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=xn;try{return xn=this,e()}finally{xn=t}}}on(){xn=this}off(){xn=this.parent}stop(e){if(this._active){let t,i;for(t=0,i=this.effects.length;t<i;t++)this.effects[t].stop();for(t=0,i=this.cleanups.length;t<i;t++)this.cleanups[t]();if(this.scopes)for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function O$(n){return new ib(n)}function bS(){return xn}function L$(n,e=!1){xn&&xn.cleanups.push(n)}let mt;const Oh=new WeakSet;class sb{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,xn&&xn.active&&xn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Oh.has(this)&&(Oh.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||ob(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,N0(this),ab(this);const e=mt,t=di;mt=this,di=!0;try{return this.fn()}finally{lb(this),mt=e,di=t,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)bm(e);this.deps=this.depsTail=void 0,N0(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Oh.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Uf(this)&&this.run()}get dirty(){return Uf(this)}}let rb=0,Ga,Ja;function ob(n,e=!1){if(n.flags|=8,e){n.next=Ja,Ja=n;return}n.next=Ga,Ga=n}function _m(){rb++}function vm(){if(--rb>0)return;if(Ja){let e=Ja;for(Ja=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let n;for(;Ga;){let e=Ga;for(Ga=void 0;e;){const t=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(i){n||(n=i)}e=t}}if(n)throw n}function ab(n){for(let e=n.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function lb(n){let e,t=n.depsTail,i=t;for(;i;){const s=i.prevDep;i.version===-1?(i===t&&(t=s),bm(i),xS(i)):e=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=s}n.deps=e,n.depsTail=t}function Uf(n){for(let e=n.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(cb(e.dep.computed)||e.dep.version!==e.version))return!0;return!!n._dirty}function cb(n){if(n.flags&4&&!(n.flags&16)||(n.flags&=-17,n.globalVersion===gl))return;n.globalVersion=gl;const e=n.dep;if(n.flags|=2,e.version>0&&!n.isSSR&&n.deps&&!Uf(n)){n.flags&=-3;return}const t=mt,i=di;mt=n,di=!0;try{ab(n);const s=n.fn(n._value);(e.version===0||Vs(s,n._value))&&(n._value=s,e.version++)}catch(s){throw e.version++,s}finally{mt=t,di=i,lb(n),n.flags&=-3}}function bm(n,e=!1){const{dep:t,prevSub:i,nextSub:s}=n;if(i&&(i.nextSub=s,n.prevSub=void 0),s&&(s.prevSub=i,n.nextSub=void 0),t.subs===n&&(t.subs=i,!i&&t.computed)){t.computed.flags&=-5;for(let r=t.computed.deps;r;r=r.nextDep)bm(r,!0)}!e&&!--t.sc&&t.map&&t.map.delete(t.key)}function xS(n){const{prevDep:e,nextDep:t}=n;e&&(e.nextDep=t,n.prevDep=void 0),t&&(t.prevDep=e,n.nextDep=void 0)}let di=!0;const ub=[];function nr(){ub.push(di),di=!1}function ir(){const n=ub.pop();di=n===void 0?!0:n}function N0(n){const{cleanup:e}=n;if(n.cleanup=void 0,e){const t=mt;mt=void 0;try{e()}finally{mt=t}}}let gl=0,wS=class{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}};class kd{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!mt||!di||mt===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==mt)t=this.activeLink=new wS(mt,this),mt.deps?(t.prevDep=mt.depsTail,mt.depsTail.nextDep=t,mt.depsTail=t):mt.deps=mt.depsTail=t,db(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){const i=t.nextDep;i.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=i),t.prevDep=mt.depsTail,t.nextDep=void 0,mt.depsTail.nextDep=t,mt.depsTail=t,mt.deps===t&&(mt.deps=i)}return t}trigger(e){this.version++,gl++,this.notify(e)}notify(e){_m();try{for(let t=this.subs;t;t=t.prevSub)t.sub.notify()&&t.sub.dep.notify()}finally{vm()}}}function db(n){if(n.dep.sc++,n.sub.flags&4){const e=n.dep.computed;if(e&&!n.dep.subs){e.flags|=20;for(let i=e.deps;i;i=i.nextDep)db(i)}const t=n.dep.subs;t!==n&&(n.prevSub=t,t&&(t.nextSub=n)),n.dep.subs=n}}const Eu=new WeakMap,Rr=Symbol(""),Zf=Symbol(""),yl=Symbol("");function dn(n,e,t){if(di&&mt){let i=Eu.get(n);i||Eu.set(n,i=new Map);let s=i.get(t);s||(i.set(t,s=new kd),s.map=i,s.key=t),s.track()}}function as(n,e,t,i,s,r){const o=Eu.get(n);if(!o){gl++;return}const a=l=>{l&&l.trigger()};if(_m(),e==="clear")o.forEach(a);else{const l=De(n),u=l&&gm(t);if(l&&t==="length"){const d=Number(i);o.forEach((f,p)=>{(p==="length"||p===yl||!yi(p)&&p>=d)&&a(f)})}else switch((t!==void 0||o.has(void 0))&&a(o.get(t)),u&&a(o.get(yl)),e){case"add":l?u&&a(o.get("length")):(a(o.get(Rr)),Eo(n)&&a(o.get(Zf)));break;case"delete":l||(a(o.get(Rr)),Eo(n)&&a(o.get(Zf)));break;case"set":Eo(n)&&a(o.get(Rr));break}}vm()}function kS(n,e){const t=Eu.get(n);return t&&t.get(e)}function uo(n){const e=it(n);return e===n?e:(dn(e,"iterate",yl),ei(n)?e:e.map(hn))}function Sd(n){return dn(n=it(n),"iterate",yl),n}const SS={__proto__:null,[Symbol.iterator](){return Lh(this,Symbol.iterator,hn)},concat(...n){return uo(this).concat(...n.map(e=>De(e)?uo(e):e))},entries(){return Lh(this,"entries",n=>(n[1]=hn(n[1]),n))},every(n,e){return Ji(this,"every",n,e,void 0,arguments)},filter(n,e){return Ji(this,"filter",n,e,t=>t.map(hn),arguments)},find(n,e){return Ji(this,"find",n,e,hn,arguments)},findIndex(n,e){return Ji(this,"findIndex",n,e,void 0,arguments)},findLast(n,e){return Ji(this,"findLast",n,e,hn,arguments)},findLastIndex(n,e){return Ji(this,"findLastIndex",n,e,void 0,arguments)},forEach(n,e){return Ji(this,"forEach",n,e,void 0,arguments)},includes(...n){return Rh(this,"includes",n)},indexOf(...n){return Rh(this,"indexOf",n)},join(n){return uo(this).join(n)},lastIndexOf(...n){return Rh(this,"lastIndexOf",n)},map(n,e){return Ji(this,"map",n,e,void 0,arguments)},pop(){return ka(this,"pop")},push(...n){return ka(this,"push",n)},reduce(n,...e){return z0(this,"reduce",n,e)},reduceRight(n,...e){return z0(this,"reduceRight",n,e)},shift(){return ka(this,"shift")},some(n,e){return Ji(this,"some",n,e,void 0,arguments)},splice(...n){return ka(this,"splice",n)},toReversed(){return uo(this).toReversed()},toSorted(n){return uo(this).toSorted(n)},toSpliced(...n){return uo(this).toSpliced(...n)},unshift(...n){return ka(this,"unshift",n)},values(){return Lh(this,"values",hn)}};function Lh(n,e,t){const i=Sd(n),s=i[e]();return i!==n&&!ei(n)&&(s._next=s.next,s.next=()=>{const r=s._next();return r.value&&(r.value=t(r.value)),r}),s}const MS=Array.prototype;function Ji(n,e,t,i,s,r){const o=Sd(n),a=o!==n&&!ei(n),l=o[e];if(l!==MS[e]){const f=l.apply(n,r);return a?hn(f):f}let u=t;o!==n&&(a?u=function(f,p){return t.call(this,hn(f),p,n)}:t.length>2&&(u=function(f,p){return t.call(this,f,p,n)}));const d=l.call(o,u,i);return a&&s?s(d):d}function z0(n,e,t,i){const s=Sd(n);let r=t;return s!==n&&(ei(n)?t.length>3&&(r=function(o,a,l){return t.call(this,o,a,l,n)}):r=function(o,a,l){return t.call(this,o,hn(a),l,n)}),s[e](r,...i)}function Rh(n,e,t){const i=it(n);dn(i,"iterate",yl);const s=i[e](...t);return(s===-1||s===!1)&&xm(t[0])?(t[0]=it(t[0]),i[e](...t)):s}function ka(n,e,t=[]){nr(),_m();const i=it(n)[e].apply(n,t);return vm(),ir(),i}const CS=fm("__proto__,__v_isRef,__isVue"),hb=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(yi));function TS(n){yi(n)||(n=String(n));const e=it(this);return dn(e,"has",n),e.hasOwnProperty(n)}class fb{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,i){const s=this._isReadonly,r=this._isShallow;if(t==="__v_isReactive")return!s;if(t==="__v_isReadonly")return s;if(t==="__v_isShallow")return r;if(t==="__v_raw")return i===(s?r?vb:_b:r?yb:gb).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const o=De(e);if(!s){let l;if(o&&(l=SS[t]))return l;if(t==="hasOwnProperty")return TS}const a=Reflect.get(e,t,Jt(e)?e:i);return(yi(t)?hb.has(t):CS(t))||(s||dn(e,"get",t),r)?a:Jt(a)?o&&gm(t)?a:a.value:dt(a)?s?xb(a):Vi(a):a}}class pb extends fb{constructor(e=!1){super(!1,e)}set(e,t,i,s){let r=e[t];if(!this._isShallow){const l=Hr(r);if(!ei(i)&&!Hr(i)&&(r=it(r),i=it(i)),!De(e)&&Jt(r)&&!Jt(i))return l?!1:(r.value=i,!0)}const o=De(e)&&gm(t)?Number(t)<e.length:rt(e,t),a=Reflect.set(e,t,i,Jt(e)?e:s);return e===it(s)&&(o?Vs(i,r)&&as(e,"set",t,i):as(e,"add",t,i)),a}deleteProperty(e,t){const i=rt(e,t);e[t];const s=Reflect.deleteProperty(e,t);return s&&i&&as(e,"delete",t,void 0),s}has(e,t){const i=Reflect.has(e,t);return(!yi(t)||!hb.has(t))&&dn(e,"has",t),i}ownKeys(e){return dn(e,"iterate",De(e)?"length":Rr),Reflect.ownKeys(e)}}class mb extends fb{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const PS=new pb,ES=new mb,AS=new pb(!0),OS=new mb(!0),Kf=n=>n,bc=n=>Reflect.getPrototypeOf(n);function LS(n,e,t){return function(...i){const s=this.__v_raw,r=it(s),o=Eo(r),a=n==="entries"||n===Symbol.iterator&&o,l=n==="keys"&&o,u=s[n](...i),d=t?Kf:e?qf:hn;return!e&&dn(r,"iterate",l?Zf:Rr),{next(){const{value:f,done:p}=u.next();return p?{value:f,done:p}:{value:a?[d(f[0]),d(f[1])]:d(f),done:p}},[Symbol.iterator](){return this}}}}function xc(n){return function(...e){return n==="delete"?!1:n==="clear"?void 0:this}}function RS(n,e){const t={get(s){const r=this.__v_raw,o=it(r),a=it(s);n||(Vs(s,a)&&dn(o,"get",s),dn(o,"get",a));const{has:l}=bc(o),u=e?Kf:n?qf:hn;if(l.call(o,s))return u(r.get(s));if(l.call(o,a))return u(r.get(a));r!==o&&r.get(s)},get size(){const s=this.__v_raw;return!n&&dn(it(s),"iterate",Rr),Reflect.get(s,"size",s)},has(s){const r=this.__v_raw,o=it(r),a=it(s);return n||(Vs(s,a)&&dn(o,"has",s),dn(o,"has",a)),s===a?r.has(s):r.has(s)||r.has(a)},forEach(s,r){const o=this,a=o.__v_raw,l=it(a),u=e?Kf:n?qf:hn;return!n&&dn(l,"iterate",Rr),a.forEach((d,f)=>s.call(r,u(d),u(f),o))}};return zt(t,n?{add:xc("add"),set:xc("set"),delete:xc("delete"),clear:xc("clear")}:{add(s){!e&&!ei(s)&&!Hr(s)&&(s=it(s));const r=it(this);return bc(r).has.call(r,s)||(r.add(s),as(r,"add",s,s)),this},set(s,r){!e&&!ei(r)&&!Hr(r)&&(r=it(r));const o=it(this),{has:a,get:l}=bc(o);let u=a.call(o,s);u||(s=it(s),u=a.call(o,s));const d=l.call(o,s);return o.set(s,r),u?Vs(r,d)&&as(o,"set",s,r):as(o,"add",s,r),this},delete(s){const r=it(this),{has:o,get:a}=bc(r);let l=o.call(r,s);l||(s=it(s),l=o.call(r,s)),a&&a.call(r,s);const u=r.delete(s);return l&&as(r,"delete",s,void 0),u},clear(){const s=it(this),r=s.size!==0,o=s.clear();return r&&as(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=LS(s,n,e)}),t}function Md(n,e){const t=RS(n,e);return(i,s,r)=>s==="__v_isReactive"?!n:s==="__v_isReadonly"?n:s==="__v_raw"?i:Reflect.get(rt(t,s)&&s in i?t:i,s,r)}const DS={get:Md(!1,!1)},IS={get:Md(!1,!0)},jS={get:Md(!0,!1)},NS={get:Md(!0,!0)},gb=new WeakMap,yb=new WeakMap,_b=new WeakMap,vb=new WeakMap;function zS(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function BS(n){return n.__v_skip||!Object.isExtensible(n)?0:zS(cS(n))}function Vi(n){return Hr(n)?n:Cd(n,!1,PS,DS,gb)}function bb(n){return Cd(n,!1,AS,IS,yb)}function xb(n){return Cd(n,!0,ES,jS,_b)}function D$(n){return Cd(n,!0,OS,NS,vb)}function Cd(n,e,t,i,s){if(!dt(n)||n.__v_raw&&!(e&&n.__v_isReactive))return n;const r=s.get(n);if(r)return r;const o=BS(n);if(o===0)return n;const a=new Proxy(n,o===2?i:t);return s.set(n,a),a}function Ao(n){return Hr(n)?Ao(n.__v_raw):!!(n&&n.__v_isReactive)}function Hr(n){return!!(n&&n.__v_isReadonly)}function ei(n){return!!(n&&n.__v_isShallow)}function xm(n){return n?!!n.__v_raw:!1}function it(n){const e=n&&n.__v_raw;return e?it(e):n}function FS(n){return!rt(n,"__v_skip")&&Object.isExtensible(n)&&Qv(n,"__v_skip",!0),n}const hn=n=>dt(n)?Vi(n):n,qf=n=>dt(n)?xb(n):n;function Jt(n){return n?n.__v_isRef===!0:!1}function pe(n){return wb(n,!1)}function $S(n){return wb(n,!0)}function wb(n,e){return Jt(n)?n:new HS(n,e)}class HS{constructor(e,t){this.dep=new kd,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:it(e),this._value=t?e:hn(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,i=this.__v_isShallow||ei(e)||Hr(e);e=i?e:it(e),Vs(e,t)&&(this._rawValue=e,this._value=i?e:hn(e),this.dep.trigger())}}function Tt(n){return Jt(n)?n.value:n}const VS={get:(n,e,t)=>e==="__v_raw"?n:Tt(Reflect.get(n,e,t)),set:(n,e,t,i)=>{const s=n[e];return Jt(s)&&!Jt(t)?(s.value=t,!0):Reflect.set(n,e,t,i)}};function kb(n){return Ao(n)?n:new Proxy(n,VS)}class WS{constructor(e){this.__v_isRef=!0,this._value=void 0;const t=this.dep=new kd,{get:i,set:s}=e(t.track.bind(t),t.trigger.bind(t));this._get=i,this._set=s}get value(){return this._value=this._get()}set value(e){this._set(e)}}function I$(n){return new WS(n)}function j$(n){const e=De(n)?new Array(n.length):{};for(const t in n)e[t]=Sb(n,t);return e}class US{constructor(e,t,i){this._object=e,this._key=t,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return kS(it(this._object),this._key)}}class ZS{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function N$(n,e,t){return Jt(n)?n:He(n)?new ZS(n):dt(n)&&arguments.length>1?Sb(n,e,t):pe(n)}function Sb(n,e,t){const i=n[e];return Jt(i)?i:new US(n,e,t)}class KS{constructor(e,t,i){this.fn=e,this.setter=t,this._value=void 0,this.dep=new kd(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=gl-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&mt!==this)return ob(this,!0),!0}get value(){const e=this.dep.track();return cb(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function qS(n,e,t=!1){let i,s;return He(n)?i=n:(i=n.get,s=n.set),new KS(i,s,t)}const wc={},Au=new WeakMap;let wr;function GS(n,e=!1,t=wr){if(t){let i=Au.get(t);i||Au.set(t,i=[]),i.push(n)}}function JS(n,e,t=ft){const{immediate:i,deep:s,once:r,scheduler:o,augmentJob:a,call:l}=t,u=g=>s?g:ei(g)||s===!1||s===0?ls(g,1):ls(g);let d,f,p,m,_=!1,b=!1;if(Jt(n)?(f=()=>n.value,_=ei(n)):Ao(n)?(f=()=>u(n),_=!0):De(n)?(b=!0,_=n.some(g=>Ao(g)||ei(g)),f=()=>n.map(g=>{if(Jt(g))return g.value;if(Ao(g))return u(g);if(He(g))return l?l(g,2):g()})):He(n)?e?f=l?()=>l(n,2):n:f=()=>{if(p){nr();try{p()}finally{ir()}}const g=wr;wr=d;try{return l?l(n,3,[m]):n(m)}finally{wr=g}}:f=zi,e&&s){const g=f,w=s===!0?1/0:s;f=()=>ls(g(),w)}const k=bS(),M=()=>{d.stop(),k&&mm(k.effects,d)};if(r&&e){const g=e;e=(...w)=>{g(...w),M()}}let E=b?new Array(n.length).fill(wc):wc;const A=g=>{if(!(!(d.flags&1)||!d.dirty&&!g))if(e){const w=d.run();if(s||_||(b?w.some((v,S)=>Vs(v,E[S])):Vs(w,E))){p&&p();const v=wr;wr=d;try{const S=[w,E===wc?void 0:b&&E[0]===wc?[]:E,m];l?l(e,3,S):e(...S),E=w}finally{wr=v}}}else d.run()};return a&&a(A),d=new sb(f),d.scheduler=o?()=>o(A,!1):A,m=g=>GS(g,!1,d),p=d.onStop=()=>{const g=Au.get(d);if(g){if(l)l(g,4);else for(const w of g)w();Au.delete(d)}},e?i?A(!0):E=d.run():o?o(A.bind(null,!0),!0):d.run(),M.pause=d.pause.bind(d),M.resume=d.resume.bind(d),M.stop=M,M}function ls(n,e=1/0,t){if(e<=0||!dt(n)||n.__v_skip||(t=t||new Set,t.has(n)))return n;if(t.add(n),e--,Jt(n))ls(n.value,e,t);else if(De(n))for(let i=0;i<n.length;i++)ls(n[i],e,t);else if(na(n)||Eo(n))n.forEach(i=>{ls(i,e,t)});else if(Xv(n)){for(const i in n)ls(n[i],e,t);for(const i of Object.getOwnPropertySymbols(n))Object.prototype.propertyIsEnumerable.call(n,i)&&ls(n[i],e,t)}return n}/**
* @vue/runtime-core v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Vl(n,e,t,i){try{return i?n(...i):n()}catch(s){Wl(s,e,t)}}function _i(n,e,t,i){if(He(n)){const s=Vl(n,e,t,i);return s&&Jv(s)&&s.catch(r=>{Wl(r,e,t)}),s}if(De(n)){const s=[];for(let r=0;r<n.length;r++)s.push(_i(n[r],e,t,i));return s}}function Wl(n,e,t,i=!0){const s=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||ft;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${t}`;for(;a;){const d=a.ec;if(d){for(let f=0;f<d.length;f++)if(d[f](n,l,u)===!1)return}a=a.parent}if(r){nr(),Vl(r,null,10,[n,l,u]),ir();return}}YS(n,t,s,i,o)}function YS(n,e,t,i=!0,s=!1){if(s)throw n;console.error(n)}const wn=[];let Pi=-1;const Oo=[];let Cs=null,go=0;const Mb=Promise.resolve();let Ou=null;function Lo(n){const e=Ou||Mb;return n?e.then(this?n.bind(this):n):e}function XS(n){let e=Pi+1,t=wn.length;for(;e<t;){const i=e+t>>>1,s=wn[i],r=_l(s);r<n||r===n&&s.flags&2?e=i+1:t=i}return e}function wm(n){if(!(n.flags&1)){const e=_l(n),t=wn[wn.length-1];!t||!(n.flags&2)&&e>=_l(t)?wn.push(n):wn.splice(XS(e),0,n),n.flags|=1,Cb()}}function Cb(){Ou||(Ou=Mb.then(Pb))}function QS(n){De(n)?Oo.push(...n):Cs&&n.id===-1?Cs.splice(go+1,0,n):n.flags&1||(Oo.push(n),n.flags|=1),Cb()}function B0(n,e,t=Pi+1){for(;t<wn.length;t++){const i=wn[t];if(i&&i.flags&2){if(n&&i.id!==n.uid)continue;wn.splice(t,1),t--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function Tb(n){if(Oo.length){const e=[...new Set(Oo)].sort((t,i)=>_l(t)-_l(i));if(Oo.length=0,Cs){Cs.push(...e);return}for(Cs=e,go=0;go<Cs.length;go++){const t=Cs[go];t.flags&4&&(t.flags&=-2),t.flags&8||t(),t.flags&=-2}Cs=null,go=0}}const _l=n=>n.id==null?n.flags&2?-1:1/0:n.id;function Pb(n){try{for(Pi=0;Pi<wn.length;Pi++){const e=wn[Pi];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Vl(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Pi<wn.length;Pi++){const e=wn[Pi];e&&(e.flags&=-2)}Pi=-1,wn.length=0,Tb(),Ou=null,(wn.length||Oo.length)&&Pb()}}let qt=null,Eb=null;function Lu(n){const e=qt;return qt=n,Eb=n&&n.type.__scopeId||null,e}function $t(n,e=qt,t){if(!e||n._n)return n;const i=(...s)=>{i._d&&Y0(-1);const r=Lu(e);let o;try{o=n(...s)}finally{Lu(r),i._d&&Y0(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function ps(n,e){if(qt===null)return n;const t=Od(qt),i=n.dirs||(n.dirs=[]);for(let s=0;s<e.length;s++){let[r,o,a,l=ft]=e[s];r&&(He(r)&&(r={mounted:r,updated:r}),r.deep&&ls(o),i.push({dir:r,instance:t,value:o,oldValue:void 0,arg:a,modifiers:l}))}return n}function fr(n,e,t,i){const s=n.dirs,r=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];r&&(a.oldValue=r[o].value);let l=a.dir[i];l&&(nr(),_i(l,t,8,[n.el,a,n,e]),ir())}}const Ab=Symbol("_vte"),Ob=n=>n.__isTeleport,Ya=n=>n&&(n.disabled||n.disabled===""),eM=n=>n&&(n.defer||n.defer===""),F0=n=>typeof SVGElement!="undefined"&&n instanceof SVGElement,$0=n=>typeof MathMLElement=="function"&&n instanceof MathMLElement,Gf=(n,e)=>{const t=n&&n.to;return St(t)?e?e(t):null:t},tM={name:"Teleport",__isTeleport:!0,process(n,e,t,i,s,r,o,a,l,u){const{mc:d,pc:f,pbc:p,o:{insert:m,querySelector:_,createText:b,createComment:k}}=u,M=Ya(e.props);let{shapeFlag:E,children:A,dynamicChildren:g}=e;if(n==null){const w=e.el=b(""),v=e.anchor=b("");m(w,t,i),m(v,t,i);const S=(O,I)=>{E&16&&(s&&s.isCE&&(s.ce._teleportTarget=O),d(A,O,I,s,r,o,a,l))},T=()=>{const O=e.target=Gf(e.props,_),I=Lb(O,e,b,m);O&&(o!=="svg"&&F0(O)?o="svg":o!=="mathml"&&$0(O)&&(o="mathml"),M||(S(O,I),nu(e,!1)))};M&&(S(t,v),nu(e,!0)),eM(e.props)?An(T,r):T()}else{e.el=n.el,e.targetStart=n.targetStart;const w=e.anchor=n.anchor,v=e.target=n.target,S=e.targetAnchor=n.targetAnchor,T=Ya(n.props),O=T?t:v,I=T?w:S;if(o==="svg"||F0(v)?o="svg":(o==="mathml"||$0(v))&&(o="mathml"),g?(p(n.dynamicChildren,g,O,s,r,o,a),Tm(n,e,!0)):l||f(n,e,O,I,s,r,o,a,!1),M)T?e.props&&n.props&&e.props.to!==n.props.to&&(e.props.to=n.props.to):kc(e,t,w,u,1);else if((e.props&&e.props.to)!==(n.props&&n.props.to)){const N=e.target=Gf(e.props,_);N&&kc(e,N,null,u,0)}else T&&kc(e,v,S,u,1);nu(e,M)}},remove(n,e,t,{um:i,o:{remove:s}},r){const{shapeFlag:o,children:a,anchor:l,targetStart:u,targetAnchor:d,target:f,props:p}=n;if(f&&(s(u),s(d)),r&&s(l),o&16){const m=r||!Ya(p);for(let _=0;_<a.length;_++){const b=a[_];i(b,e,t,m,!!b.dynamicChildren)}}},move:kc,hydrate:nM};function kc(n,e,t,{o:{insert:i},m:s},r=2){r===0&&i(n.targetAnchor,e,t);const{el:o,anchor:a,shapeFlag:l,children:u,props:d}=n,f=r===2;if(f&&i(o,e,t),(!f||Ya(d))&&l&16)for(let p=0;p<u.length;p++)s(u[p],e,t,2);f&&i(a,e,t)}function nM(n,e,t,i,s,r,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:u,createText:d}},f){const p=e.target=Gf(e.props,l);if(p){const m=Ya(e.props),_=p._lpa||p.firstChild;if(e.shapeFlag&16)if(m)e.anchor=f(o(n),e,a(n),t,i,s,r),e.targetStart=_,e.targetAnchor=_&&o(_);else{e.anchor=o(n);let b=_;for(;b;){if(b&&b.nodeType===8){if(b.data==="teleport start anchor")e.targetStart=b;else if(b.data==="teleport anchor"){e.targetAnchor=b,p._lpa=e.targetAnchor&&o(e.targetAnchor);break}}b=o(b)}e.targetAnchor||Lb(p,e,d,u),f(_&&o(_),e,p,t,i,s,r)}nu(e,m)}return e.anchor&&o(e.anchor)}const z$=tM;function nu(n,e){const t=n.ctx;if(t&&t.ut){let i,s;for(e?(i=n.el,s=n.anchor):(i=n.targetStart,s=n.targetAnchor);i&&i!==s;)i.nodeType===1&&i.setAttribute("data-v-owner",t.uid),i=i.nextSibling;t.ut()}}function Lb(n,e,t,i){const s=e.targetStart=t(""),r=e.targetAnchor=t("");return s[Ab]=r,n&&(i(s,n),i(r,n)),r}const Ts=Symbol("_leaveCb"),Sc=Symbol("_enterCb");function iM(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ii(()=>{n.isMounted=!0}),Sm(()=>{n.isUnmounting=!0}),n}const Kn=[Function,Array],Rb={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Kn,onEnter:Kn,onAfterEnter:Kn,onEnterCancelled:Kn,onBeforeLeave:Kn,onLeave:Kn,onAfterLeave:Kn,onLeaveCancelled:Kn,onBeforeAppear:Kn,onAppear:Kn,onAfterAppear:Kn,onAppearCancelled:Kn},Db=n=>{const e=n.subTree;return e.component?Db(e.component):e},sM={name:"BaseTransition",props:Rb,setup(n,{slots:e}){const t=a2(),i=iM();return()=>{const s=e.default&&Nb(e.default(),!0);if(!s||!s.length)return;const r=Ib(s),o=it(n),{mode:a}=o;if(i.isLeaving)return Dh(r);const l=H0(r);if(!l)return Dh(r);let u=Jf(l,o,i,t,p=>u=p);l.type!==kn&&vl(l,u);const d=t.subTree,f=d&&H0(d);if(f&&f.type!==kn&&!Mr(l,f)&&Db(t).type!==kn){const p=Jf(f,o,i,t);if(vl(f,p),a==="out-in"&&l.type!==kn)return i.isLeaving=!0,p.afterLeave=()=>{i.isLeaving=!1,t.job.flags&8||t.update(),delete p.afterLeave},Dh(r);a==="in-out"&&l.type!==kn&&(p.delayLeave=(m,_,b)=>{const k=jb(i,f);k[String(f.key)]=f,m[Ts]=()=>{_(),m[Ts]=void 0,delete u.delayedLeave},u.delayedLeave=b})}return r}}};function Ib(n){let e=n[0];if(n.length>1){for(const t of n)if(t.type!==kn){e=t;break}}return e}const rM=sM;function jb(n,e){const{leavingVNodes:t}=n;let i=t.get(e.type);return i||(i=Object.create(null),t.set(e.type,i)),i}function Jf(n,e,t,i,s){const{appear:r,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:d,onEnterCancelled:f,onBeforeLeave:p,onLeave:m,onAfterLeave:_,onLeaveCancelled:b,onBeforeAppear:k,onAppear:M,onAfterAppear:E,onAppearCancelled:A}=e,g=String(n.key),w=jb(t,n),v=(O,I)=>{O&&_i(O,i,9,I)},S=(O,I)=>{const N=I[1];v(O,I),De(O)?O.every(B=>B.length<=1)&&N():O.length<=1&&N()},T={mode:o,persisted:a,beforeEnter(O){let I=l;if(!t.isMounted)if(r)I=k||l;else return;O[Ts]&&O[Ts](!0);const N=w[g];N&&Mr(n,N)&&N.el[Ts]&&N.el[Ts](),v(I,[O])},enter(O){let I=u,N=d,B=f;if(!t.isMounted)if(r)I=M||u,N=E||d,B=A||f;else return;let V=!1;const W=O[Sc]=Z=>{V||(V=!0,Z?v(B,[O]):v(N,[O]),T.delayedLeave&&T.delayedLeave(),O[Sc]=void 0)};I?S(I,[O,W]):W()},leave(O,I){const N=String(n.key);if(O[Sc]&&O[Sc](!0),t.isUnmounting)return I();v(p,[O]);let B=!1;const V=O[Ts]=W=>{B||(B=!0,I(),W?v(b,[O]):v(_,[O]),O[Ts]=void 0,w[N]===n&&delete w[N])};w[N]=n,m?S(m,[O,V]):V()},clone(O){const I=Jf(O,e,t,i,s);return s&&s(I),I}};return T}function Dh(n){if(Ul(n))return n=Gs(n),n.children=null,n}function H0(n){if(!Ul(n))return Ob(n.type)&&n.children?Ib(n.children):n;const{shapeFlag:e,children:t}=n;if(t){if(e&16)return t[0];if(e&32&&He(t.default))return t.default()}}function vl(n,e){n.shapeFlag&6&&n.component?(n.transition=e,vl(n.component.subTree,e)):n.shapeFlag&128?(n.ssContent.transition=e.clone(n.ssContent),n.ssFallback.transition=e.clone(n.ssFallback)):n.transition=e}function Nb(n,e=!1,t){let i=[],s=0;for(let r=0;r<n.length;r++){let o=n[r];const a=t==null?o.key:String(t)+String(o.key!=null?o.key:r);o.type===xt?(o.patchFlag&128&&s++,i=i.concat(Nb(o.children,e,a))):(e||o.type!==kn)&&i.push(a!=null?Gs(o,{key:a}):o)}if(s>1)for(let r=0;r<i.length;r++)i[r].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function Td(n,e){return He(n)?zt({name:n.name},e,{setup:n}):n}function km(n){n.ids=[n.ids[0]+n.ids[2]+++"-",0,0]}function Yf(n,e,t,i,s=!1){if(De(n)){n.forEach((_,b)=>Yf(_,e&&(De(e)?e[b]:e),t,i,s));return}if(Ro(i)&&!s)return;const r=i.shapeFlag&4?Od(i.component):i.el,o=s?null:r,{i:a,r:l}=n,u=e&&e.r,d=a.refs===ft?a.refs={}:a.refs,f=a.setupState,p=it(f),m=f===ft?()=>!1:_=>rt(p,_);if(u!=null&&u!==l&&(St(u)?(d[u]=null,m(u)&&(f[u]=null)):Jt(u)&&(u.value=null)),He(l))Vl(l,a,12,[o,d]);else{const _=St(l),b=Jt(l);if(_||b){const k=()=>{if(n.f){const M=_?m(l)?f[l]:d[l]:l.value;s?De(M)&&mm(M,r):De(M)?M.includes(r)||M.push(r):_?(d[l]=[r],m(l)&&(f[l]=d[l])):(l.value=[r],n.k&&(d[n.k]=l.value))}else _?(d[l]=o,m(l)&&(f[l]=o)):b&&(l.value=o,n.k&&(d[n.k]=o))};o?(k.id=-1,An(k,t)):k()}}}const V0=n=>n.nodeType===8;wd().requestIdleCallback;wd().cancelIdleCallback;function oM(n,e){if(V0(n)&&n.data==="["){let t=1,i=n.nextSibling;for(;i;){if(i.nodeType===1){if(e(i)===!1)break}else if(V0(i))if(i.data==="]"){if(--t===0)break}else i.data==="["&&t++;i=i.nextSibling}}else e(n)}const Ro=n=>!!n.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function B$(n){He(n)&&(n={loader:n});const{loader:e,loadingComponent:t,errorComponent:i,delay:s=200,hydrate:r,timeout:o,suspensible:a=!0,onError:l}=n;let u=null,d,f=0;const p=()=>(f++,u=null,m()),m=()=>{let _;return u||(_=u=e().catch(b=>{if(b=b instanceof Error?b:new Error(String(b)),l)return new Promise((k,M)=>{l(b,()=>k(p()),()=>M(b),f+1)});throw b}).then(b=>_!==u&&u?u:(b&&(b.__esModule||b[Symbol.toStringTag]==="Module")&&(b=b.default),d=b,b)))};return Td({name:"AsyncComponentWrapper",__asyncLoader:m,__asyncHydrate(_,b,k){const M=r?()=>{const E=r(k,A=>oM(_,A));E&&(b.bum||(b.bum=[])).push(E)}:k;d?M():m().then(()=>!b.isUnmounted&&M())},get __asyncResolved(){return d},setup(){const _=Kt;if(km(_),d)return()=>Ih(d,_);const b=A=>{u=null,Wl(A,_,13,!i)};if(a&&_.suspense||Vo)return m().then(A=>()=>Ih(A,_)).catch(A=>(b(A),()=>i?Pe(i,{error:A}):null));const k=pe(!1),M=pe(),E=pe(!!s);return s&&setTimeout(()=>{E.value=!1},s),o!=null&&setTimeout(()=>{if(!k.value&&!M.value){const A=new Error(`Async component timed out after ${o}ms.`);b(A),M.value=A}},o),m().then(()=>{k.value=!0,_.parent&&Ul(_.parent.vnode)&&_.parent.update()}).catch(A=>{b(A),M.value=A}),()=>{if(k.value&&d)return Ih(d,_);if(M.value&&i)return Pe(i,{error:M.value});if(t&&!E.value)return Pe(t)}}})}function Ih(n,e){const{ref:t,props:i,children:s,ce:r}=e.vnode,o=Pe(n,i,s);return o.ref=t,o.ce=r,delete e.vnode.ce,o}const Ul=n=>n.type.__isKeepAlive;function aM(n,e){zb(n,"a",e)}function lM(n,e){zb(n,"da",e)}function zb(n,e,t=Kt){const i=n.__wdc||(n.__wdc=()=>{let s=t;for(;s;){if(s.isDeactivated)return;s=s.parent}return n()});if(Pd(e,i,t),t){let s=t.parent;for(;s&&s.parent;)Ul(s.parent.vnode)&&cM(i,e,t,s),s=s.parent}}function cM(n,e,t,i){const s=Pd(e,n,i,!0);Qr(()=>{mm(i[e],s)},t)}function Pd(n,e,t=Kt,i=!1){if(t){const s=t[n]||(t[n]=[]),r=e.__weh||(e.__weh=(...o)=>{nr();const a=Zl(t),l=_i(e,t,n,o);return a(),ir(),l});return i?s.unshift(r):s.push(r),r}}const gs=n=>(e,t=Kt)=>{(!Vo||n==="sp")&&Pd(n,(...i)=>e(...i),t)},uM=gs("bm"),ii=gs("m"),dM=gs("bu"),hM=gs("u"),Sm=gs("bum"),Qr=gs("um"),fM=gs("sp"),pM=gs("rtg"),mM=gs("rtc");function gM(n,e=Kt){Pd("ec",n,e)}const Bb="components";function ia(n,e){return $b(Bb,n,!0,e)||n}const Fb=Symbol.for("v-ndc");function F$(n){return St(n)?$b(Bb,n,!1)||n:n||Fb}function $b(n,e,t=!0,i=!1){const s=qt||Kt;if(s){const r=s.type;{const a=tC(r,!1);if(a&&(a===e||a===ni(e)||a===xd(ni(e))))return r}const o=W0(s[n]||r[n],e)||W0(s.appContext[n],e);return!o&&i?r:o}}function W0(n,e){return n&&(n[e]||n[ni(e)]||n[xd(ni(e))])}function Ws(n,e,t,i){let s;const r=t,o=De(n);if(o||St(n)){const a=o&&Ao(n);let l=!1;a&&(l=!ei(n),n=Sd(n)),s=new Array(n.length);for(let u=0,d=n.length;u<d;u++)s[u]=e(l?hn(n[u]):n[u],u,void 0,r)}else if(typeof n=="number"){s=new Array(n);for(let a=0;a<n;a++)s[a]=e(a+1,a,void 0,r)}else if(dt(n))if(n[Symbol.iterator])s=Array.from(n,(a,l)=>e(a,l,void 0,r));else{const a=Object.keys(n);s=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const d=a[l];s[l]=e(n[d],d,l,r)}}else s=[];return s}function $$(n,e){for(let t=0;t<e.length;t++){const i=e[t];if(De(i))for(let s=0;s<i.length;s++)n[i[s].name]=i[s].fn;else i&&(n[i.name]=i.key?(...s)=>{const r=i.fn(...s);return r&&(r.key=i.key),r}:i.fn)}return n}function Is(n,e,t={},i,s){if(qt.ce||qt.parent&&Ro(qt.parent)&&qt.parent.ce)return e!=="default"&&(t.name=e),K(),$n(xt,null,[Pe("slot",t,i&&i())],64);let r=n[e];r&&r._c&&(r._d=!1),K();const o=r&&Hb(r(t)),a=t.key||o&&o.key,l=$n(xt,{key:(a&&!yi(a)?a:`_${e}`)+(!o&&i?"_fb":"")},o||(i?i():[]),o&&n._===1?64:-2);return!s&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),r&&r._c&&(r._d=!0),l}function Hb(n){return n.some(e=>xl(e)?!(e.type===kn||e.type===xt&&!Hb(e.children)):!0)?n:null}function H$(n,e){const t={};for(const i in n)t[eu(i)]=n[i];return t}const Xf=n=>n?l2(n)?Od(n):Xf(n.parent):null,Xa=zt(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>Xf(n.parent),$root:n=>Xf(n.root),$host:n=>n.ce,$emit:n=>n.emit,$options:n=>Mm(n),$forceUpdate:n=>n.f||(n.f=()=>{wm(n.update)}),$nextTick:n=>n.n||(n.n=Lo.bind(n.proxy)),$watch:n=>zM.bind(n)}),jh=(n,e)=>n!==ft&&!n.__isScriptSetup&&rt(n,e),yM={get({_:n},e){if(e==="__v_skip")return!0;const{ctx:t,setupState:i,data:s,props:r,accessCache:o,type:a,appContext:l}=n;let u;if(e[0]!=="$"){const m=o[e];if(m!==void 0)switch(m){case 1:return i[e];case 2:return s[e];case 4:return t[e];case 3:return r[e]}else{if(jh(i,e))return o[e]=1,i[e];if(s!==ft&&rt(s,e))return o[e]=2,s[e];if((u=n.propsOptions[0])&&rt(u,e))return o[e]=3,r[e];if(t!==ft&&rt(t,e))return o[e]=4,t[e];ep&&(o[e]=0)}}const d=Xa[e];let f,p;if(d)return e==="$attrs"&&dn(n.attrs,"get",""),d(n);if((f=a.__cssModules)&&(f=f[e]))return f;if(t!==ft&&rt(t,e))return o[e]=4,t[e];if(p=l.config.globalProperties,rt(p,e))return p[e]},set({_:n},e,t){const{data:i,setupState:s,ctx:r}=n;return jh(s,e)?(s[e]=t,!0):i!==ft&&rt(i,e)?(i[e]=t,!0):rt(n.props,e)||e[0]==="$"&&e.slice(1)in n?!1:(r[e]=t,!0)},has({_:{data:n,setupState:e,accessCache:t,ctx:i,appContext:s,propsOptions:r}},o){let a;return!!t[o]||n!==ft&&rt(n,o)||jh(e,o)||(a=r[0])&&rt(a,o)||rt(i,o)||rt(Xa,o)||rt(s.config.globalProperties,o)},defineProperty(n,e,t){return t.get!=null?n._.accessCache[e]=0:rt(t,"value")&&this.set(n,e,t.value,null),Reflect.defineProperty(n,e,t)}};function _M(){return Vb().slots}function V$(){return Vb().attrs}function Vb(){const n=a2();return n.setupContext||(n.setupContext=u2(n))}function Qf(n){return De(n)?n.reduce((e,t)=>(e[t]=null,e),{}):n}function W$(n,e){const t=Qf(n);for(const i in e){if(i.startsWith("__skip"))continue;let s=t[i];s?De(s)||He(s)?s=t[i]={type:s,default:e[i]}:s.default=e[i]:s===null&&(s=t[i]={default:e[i]}),s&&e[`__skip_${i}`]&&(s.skipFactory=!0)}return t}let ep=!0;function vM(n){const e=Mm(n),t=n.proxy,i=n.ctx;ep=!1,e.beforeCreate&&U0(e.beforeCreate,n,"bc");const{data:s,computed:r,methods:o,watch:a,provide:l,inject:u,created:d,beforeMount:f,mounted:p,beforeUpdate:m,updated:_,activated:b,deactivated:k,beforeDestroy:M,beforeUnmount:E,destroyed:A,unmounted:g,render:w,renderTracked:v,renderTriggered:S,errorCaptured:T,serverPrefetch:O,expose:I,inheritAttrs:N,components:B,directives:V,filters:W}=e;if(u&&bM(u,i,null),o)for(const z in o){const H=o[z];He(H)&&(i[z]=H.bind(t))}if(s){const z=s.call(t,t);dt(z)&&(n.data=Vi(z))}if(ep=!0,r)for(const z in r){const H=r[z],ee=He(H)?H.bind(t,t):He(H.get)?H.get.bind(t,t):zi,G=!He(H)&&He(H.set)?H.set.bind(t):zi,te=yt({get:ee,set:G});Object.defineProperty(i,z,{enumerable:!0,configurable:!0,get:()=>te.value,set:we=>te.value=we})}if(a)for(const z in a)Wb(a[z],i,t,z);if(l){const z=He(l)?l.call(t):l;Reflect.ownKeys(z).forEach(H=>{iu(H,z[H])})}d&&U0(d,n,"c");function R(z,H){De(H)?H.forEach(ee=>z(ee.bind(t))):H&&z(H.bind(t))}if(R(uM,f),R(ii,p),R(dM,m),R(hM,_),R(aM,b),R(lM,k),R(gM,T),R(mM,v),R(pM,S),R(Sm,E),R(Qr,g),R(fM,O),De(I))if(I.length){const z=n.exposed||(n.exposed={});I.forEach(H=>{Object.defineProperty(z,H,{get:()=>t[H],set:ee=>t[H]=ee})})}else n.exposed||(n.exposed={});w&&n.render===zi&&(n.render=w),N!=null&&(n.inheritAttrs=N),B&&(n.components=B),V&&(n.directives=V),O&&km(n)}function bM(n,e,t=zi){De(n)&&(n=tp(n));for(const i in n){const s=n[i];let r;dt(s)?"default"in s?r=hi(s.from||i,s.default,!0):r=hi(s.from||i):r=hi(s),Jt(r)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[i]=r}}function U0(n,e,t){_i(De(n)?n.map(i=>i.bind(e.proxy)):n.bind(e.proxy),e,t)}function Wb(n,e,t,i){let s=i.includes(".")?n2(t,i):()=>t[i];if(St(n)){const r=e[n];He(r)&&fi(s,r)}else if(He(n))fi(s,n.bind(t));else if(dt(n))if(De(n))n.forEach(r=>Wb(r,e,t,i));else{const r=He(n.handler)?n.handler.bind(t):e[n.handler];He(r)&&fi(s,r,n)}}function Mm(n){const e=n.type,{mixins:t,extends:i}=e,{mixins:s,optionsCache:r,config:{optionMergeStrategies:o}}=n.appContext,a=r.get(e);let l;return a?l=a:!s.length&&!t&&!i?l=e:(l={},s.length&&s.forEach(u=>Ru(l,u,o,!0)),Ru(l,e,o)),dt(e)&&r.set(e,l),l}function Ru(n,e,t,i=!1){const{mixins:s,extends:r}=e;r&&Ru(n,r,t,!0),s&&s.forEach(o=>Ru(n,o,t,!0));for(const o in e)if(!(i&&o==="expose")){const a=xM[o]||t&&t[o];n[o]=a?a(n[o],e[o]):e[o]}return n}const xM={data:Z0,props:K0,emits:K0,methods:ja,computed:ja,beforeCreate:bn,created:bn,beforeMount:bn,mounted:bn,beforeUpdate:bn,updated:bn,beforeDestroy:bn,beforeUnmount:bn,destroyed:bn,unmounted:bn,activated:bn,deactivated:bn,errorCaptured:bn,serverPrefetch:bn,components:ja,directives:ja,watch:kM,provide:Z0,inject:wM};function Z0(n,e){return e?n?function(){return zt(He(n)?n.call(this,this):n,He(e)?e.call(this,this):e)}:e:n}function wM(n,e){return ja(tp(n),tp(e))}function tp(n){if(De(n)){const e={};for(let t=0;t<n.length;t++)e[n[t]]=n[t];return e}return n}function bn(n,e){return n?[...new Set([].concat(n,e))]:e}function ja(n,e){return n?zt(Object.create(null),n,e):e}function K0(n,e){return n?De(n)&&De(e)?[...new Set([...n,...e])]:zt(Object.create(null),Qf(n),Qf(e!=null?e:{})):e}function kM(n,e){if(!n)return e;if(!e)return n;const t=zt(Object.create(null),n);for(const i in e)t[i]=bn(n[i],e[i]);return t}function Ub(){return{app:null,config:{isNativeTag:aS,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let SM=0;function MM(n,e){return function(i,s=null){He(i)||(i=zt({},i)),s!=null&&!dt(s)&&(s=null);const r=Ub(),o=new WeakSet,a=[];let l=!1;const u=r.app={_uid:SM++,_component:i,_props:s,_container:null,_context:r,_instance:null,version:iC,get config(){return r.config},set config(d){},use(d,...f){return o.has(d)||(d&&He(d.install)?(o.add(d),d.install(u,...f)):He(d)&&(o.add(d),d(u,...f))),u},mixin(d){return r.mixins.includes(d)||r.mixins.push(d),u},component(d,f){return f?(r.components[d]=f,u):r.components[d]},directive(d,f){return f?(r.directives[d]=f,u):r.directives[d]},mount(d,f,p){if(!l){const m=u._ceVNode||Pe(i,s);return m.appContext=r,p===!0?p="svg":p===!1&&(p=void 0),f&&e?e(m,d):n(m,d,p),l=!0,u._container=d,d.__vue_app__=u,Od(m.component)}},onUnmount(d){a.push(d)},unmount(){l&&(_i(a,u._instance,16),n(null,u._container),delete u._container.__vue_app__)},provide(d,f){return r.provides[d]=f,u},runWithContext(d){const f=Do;Do=u;try{return d()}finally{Do=f}}};return u}}let Do=null;function iu(n,e){if(Kt){let t=Kt.provides;const i=Kt.parent&&Kt.parent.provides;i===t&&(t=Kt.provides=Object.create(i)),t[n]=e}}function hi(n,e,t=!1){const i=Kt||qt;if(i||Do){const s=Do?Do._context.provides:i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(s&&n in s)return s[n];if(arguments.length>1)return t&&He(e)?e.call(i&&i.proxy):e}}const Zb={},Kb=()=>Object.create(Zb),qb=n=>Object.getPrototypeOf(n)===Zb;function CM(n,e,t,i=!1){const s={},r=Kb();n.propsDefaults=Object.create(null),Gb(n,e,s,r);for(const o in n.propsOptions[0])o in s||(s[o]=void 0);t?n.props=i?s:bb(s):n.type.props?n.props=s:n.props=r,n.attrs=r}function TM(n,e,t,i){const{props:s,attrs:r,vnode:{patchFlag:o}}=n,a=it(s),[l]=n.propsOptions;let u=!1;if((i||o>0)&&!(o&16)){if(o&8){const d=n.vnode.dynamicProps;for(let f=0;f<d.length;f++){let p=d[f];if(Ed(n.emitsOptions,p))continue;const m=e[p];if(l)if(rt(r,p))m!==r[p]&&(r[p]=m,u=!0);else{const _=ni(p);s[_]=np(l,a,_,m,n,!1)}else m!==r[p]&&(r[p]=m,u=!0)}}}else{Gb(n,e,s,r)&&(u=!0);let d;for(const f in a)(!e||!rt(e,f)&&((d=tr(f))===f||!rt(e,d)))&&(l?t&&(t[f]!==void 0||t[d]!==void 0)&&(s[f]=np(l,a,f,void 0,n,!0)):delete s[f]);if(r!==a)for(const f in r)(!e||!rt(e,f))&&(delete r[f],u=!0)}u&&as(n.attrs,"set","")}function Gb(n,e,t,i){const[s,r]=n.propsOptions;let o=!1,a;if(e)for(let l in e){if(qa(l))continue;const u=e[l];let d;s&&rt(s,d=ni(l))?!r||!r.includes(d)?t[d]=u:(a||(a={}))[d]=u:Ed(n.emitsOptions,l)||(!(l in i)||u!==i[l])&&(i[l]=u,o=!0)}if(r){const l=it(t),u=a||ft;for(let d=0;d<r.length;d++){const f=r[d];t[f]=np(s,l,f,u[f],n,!rt(u,f))}}return o}function np(n,e,t,i,s,r){const o=n[t];if(o!=null){const a=rt(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&He(l)){const{propsDefaults:u}=s;if(t in u)i=u[t];else{const d=Zl(s);i=u[t]=l.call(null,e),d()}}else i=l;s.ce&&s.ce._setProp(t,i)}o[0]&&(r&&!a?i=!1:o[1]&&(i===""||i===tr(t))&&(i=!0))}return i}const PM=new WeakMap;function Jb(n,e,t=!1){const i=t?PM:e.propsCache,s=i.get(n);if(s)return s;const r=n.props,o={},a=[];let l=!1;if(!He(n)){const d=f=>{l=!0;const[p,m]=Jb(f,e,!0);zt(o,p),m&&a.push(...m)};!t&&e.mixins.length&&e.mixins.forEach(d),n.extends&&d(n.extends),n.mixins&&n.mixins.forEach(d)}if(!r&&!l)return dt(n)&&i.set(n,Po),Po;if(De(r))for(let d=0;d<r.length;d++){const f=ni(r[d]);q0(f)&&(o[f]=ft)}else if(r)for(const d in r){const f=ni(d);if(q0(f)){const p=r[d],m=o[f]=De(p)||He(p)?{type:p}:zt({},p),_=m.type;let b=!1,k=!0;if(De(_))for(let M=0;M<_.length;++M){const E=_[M],A=He(E)&&E.name;if(A==="Boolean"){b=!0;break}else A==="String"&&(k=!1)}else b=He(_)&&_.name==="Boolean";m[0]=b,m[1]=k,(b||rt(m,"default"))&&a.push(f)}}const u=[o,a];return dt(n)&&i.set(n,u),u}function q0(n){return n[0]!=="$"&&!qa(n)}const Yb=n=>n[0]==="_"||n==="$stable",Cm=n=>De(n)?n.map(Di):[Di(n)],EM=(n,e,t)=>{if(e._n)return e;const i=$t((...s)=>Cm(e(...s)),t);return i._c=!1,i},Xb=(n,e,t)=>{const i=n._ctx;for(const s in n){if(Yb(s))continue;const r=n[s];if(He(r))e[s]=EM(s,r,i);else if(r!=null){const o=Cm(r);e[s]=()=>o}}},Qb=(n,e)=>{const t=Cm(e);n.slots.default=()=>t},e2=(n,e,t)=>{for(const i in e)(t||i!=="_")&&(n[i]=e[i])},AM=(n,e,t)=>{const i=n.slots=Kb();if(n.vnode.shapeFlag&32){const s=e._;s?(e2(i,e,t),t&&Qv(i,"_",s,!0)):Xb(e,i)}else e&&Qb(n,e)},OM=(n,e,t)=>{const{vnode:i,slots:s}=n;let r=!0,o=ft;if(i.shapeFlag&32){const a=e._;a?t&&a===1?r=!1:e2(s,e,t):(r=!e.$stable,Xb(e,s)),o=e}else e&&(Qb(n,e),o={default:1});if(r)for(const a in s)!Yb(a)&&o[a]==null&&delete s[a]},An=UM;function LM(n){return RM(n)}function RM(n,e){const t=wd();t.__VUE__=!0;const{insert:i,remove:s,patchProp:r,createElement:o,createText:a,createComment:l,setText:u,setElementText:d,parentNode:f,nextSibling:p,setScopeId:m=zi,insertStaticContent:_}=n,b=(j,F,q,oe=null,ne=null,ae=null,ve=void 0,ge=null,fe=!!F.dynamicChildren)=>{if(j===F)return;j&&!Mr(j,F)&&(oe=X(j),we(j,ne,ae,!0),j=null),F.patchFlag===-2&&(fe=!1,F.dynamicChildren=null);const{type:le,ref:Ie,shapeFlag:ke}=F;switch(le){case Ad:k(j,F,q,oe);break;case kn:M(j,F,q,oe);break;case su:j==null&&E(F,q,oe,ve);break;case xt:B(j,F,q,oe,ne,ae,ve,ge,fe);break;default:ke&1?w(j,F,q,oe,ne,ae,ve,ge,fe):ke&6?V(j,F,q,oe,ne,ae,ve,ge,fe):(ke&64||ke&128)&&le.process(j,F,q,oe,ne,ae,ve,ge,fe,Q)}Ie!=null&&ne&&Yf(Ie,j&&j.ref,ae,F||j,!F)},k=(j,F,q,oe)=>{if(j==null)i(F.el=a(F.children),q,oe);else{const ne=F.el=j.el;F.children!==j.children&&u(ne,F.children)}},M=(j,F,q,oe)=>{j==null?i(F.el=l(F.children||""),q,oe):F.el=j.el},E=(j,F,q,oe)=>{[j.el,j.anchor]=_(j.children,F,q,oe,j.el,j.anchor)},A=({el:j,anchor:F},q,oe)=>{let ne;for(;j&&j!==F;)ne=p(j),i(j,q,oe),j=ne;i(F,q,oe)},g=({el:j,anchor:F})=>{let q;for(;j&&j!==F;)q=p(j),s(j),j=q;s(F)},w=(j,F,q,oe,ne,ae,ve,ge,fe)=>{F.type==="svg"?ve="svg":F.type==="math"&&(ve="mathml"),j==null?v(F,q,oe,ne,ae,ve,ge,fe):O(j,F,ne,ae,ve,ge,fe)},v=(j,F,q,oe,ne,ae,ve,ge)=>{let fe,le;const{props:Ie,shapeFlag:ke,transition:Le,dirs:Ne}=j;if(fe=j.el=o(j.type,ae,Ie&&Ie.is,Ie),ke&8?d(fe,j.children):ke&16&&T(j.children,fe,null,oe,ne,Nh(j,ae),ve,ge),Ne&&fr(j,null,oe,"created"),S(fe,j,j.scopeId,ve,oe),Ie){for(const ot in Ie)ot!=="value"&&!qa(ot)&&r(fe,ot,null,Ie[ot],ae,oe);"value"in Ie&&r(fe,"value",null,Ie.value,ae),(le=Ie.onVnodeBeforeMount)&&Ci(le,oe,j)}Ne&&fr(j,null,oe,"beforeMount");const Ge=DM(ne,Le);Ge&&Le.beforeEnter(fe),i(fe,F,q),((le=Ie&&Ie.onVnodeMounted)||Ge||Ne)&&An(()=>{le&&Ci(le,oe,j),Ge&&Le.enter(fe),Ne&&fr(j,null,oe,"mounted")},ne)},S=(j,F,q,oe,ne)=>{if(q&&m(j,q),oe)for(let ae=0;ae<oe.length;ae++)m(j,oe[ae]);if(ne){let ae=ne.subTree;if(F===ae||s2(ae.type)&&(ae.ssContent===F||ae.ssFallback===F)){const ve=ne.vnode;S(j,ve,ve.scopeId,ve.slotScopeIds,ne.parent)}}},T=(j,F,q,oe,ne,ae,ve,ge,fe=0)=>{for(let le=fe;le<j.length;le++){const Ie=j[le]=ge?Ps(j[le]):Di(j[le]);b(null,Ie,F,q,oe,ne,ae,ve,ge)}},O=(j,F,q,oe,ne,ae,ve)=>{const ge=F.el=j.el;let{patchFlag:fe,dynamicChildren:le,dirs:Ie}=F;fe|=j.patchFlag&16;const ke=j.props||ft,Le=F.props||ft;let Ne;if(q&&pr(q,!1),(Ne=Le.onVnodeBeforeUpdate)&&Ci(Ne,q,F,j),Ie&&fr(F,j,q,"beforeUpdate"),q&&pr(q,!0),(ke.innerHTML&&Le.innerHTML==null||ke.textContent&&Le.textContent==null)&&d(ge,""),le?I(j.dynamicChildren,le,ge,q,oe,Nh(F,ne),ae):ve||H(j,F,ge,null,q,oe,Nh(F,ne),ae,!1),fe>0){if(fe&16)N(ge,ke,Le,q,ne);else if(fe&2&&ke.class!==Le.class&&r(ge,"class",null,Le.class,ne),fe&4&&r(ge,"style",ke.style,Le.style,ne),fe&8){const Ge=F.dynamicProps;for(let ot=0;ot<Ge.length;ot++){const st=Ge[ot],on=ke[st],Ft=Le[st];(Ft!==on||st==="value")&&r(ge,st,on,Ft,ne,q)}}fe&1&&j.children!==F.children&&d(ge,F.children)}else!ve&&le==null&&N(ge,ke,Le,q,ne);((Ne=Le.onVnodeUpdated)||Ie)&&An(()=>{Ne&&Ci(Ne,q,F,j),Ie&&fr(F,j,q,"updated")},oe)},I=(j,F,q,oe,ne,ae,ve)=>{for(let ge=0;ge<F.length;ge++){const fe=j[ge],le=F[ge],Ie=fe.el&&(fe.type===xt||!Mr(fe,le)||fe.shapeFlag&70)?f(fe.el):q;b(fe,le,Ie,null,oe,ne,ae,ve,!0)}},N=(j,F,q,oe,ne)=>{if(F!==q){if(F!==ft)for(const ae in F)!qa(ae)&&!(ae in q)&&r(j,ae,F[ae],null,ne,oe);for(const ae in q){if(qa(ae))continue;const ve=q[ae],ge=F[ae];ve!==ge&&ae!=="value"&&r(j,ae,ge,ve,ne,oe)}"value"in q&&r(j,"value",F.value,q.value,ne)}},B=(j,F,q,oe,ne,ae,ve,ge,fe)=>{const le=F.el=j?j.el:a(""),Ie=F.anchor=j?j.anchor:a("");let{patchFlag:ke,dynamicChildren:Le,slotScopeIds:Ne}=F;Ne&&(ge=ge?ge.concat(Ne):Ne),j==null?(i(le,q,oe),i(Ie,q,oe),T(F.children||[],q,Ie,ne,ae,ve,ge,fe)):ke>0&&ke&64&&Le&&j.dynamicChildren?(I(j.dynamicChildren,Le,q,ne,ae,ve,ge),(F.key!=null||ne&&F===ne.subTree)&&Tm(j,F,!0)):H(j,F,q,Ie,ne,ae,ve,ge,fe)},V=(j,F,q,oe,ne,ae,ve,ge,fe)=>{F.slotScopeIds=ge,j==null?F.shapeFlag&512?ne.ctx.activate(F,q,oe,ve,fe):W(F,q,oe,ne,ae,ve,fe):Z(j,F,fe)},W=(j,F,q,oe,ne,ae,ve)=>{const ge=j.component=YM(j,oe,ne);if(Ul(j)&&(ge.ctx.renderer=Q),XM(ge,!1,ve),ge.asyncDep){if(ne&&ne.registerDep(ge,R,ve),!j.el){const fe=ge.subTree=Pe(kn);M(null,fe,F,q)}}else R(ge,j,F,q,ne,ae,ve)},Z=(j,F,q)=>{const oe=F.component=j.component;if(VM(j,F,q))if(oe.asyncDep&&!oe.asyncResolved){z(oe,F,q);return}else oe.next=F,oe.update();else F.el=j.el,oe.vnode=F},R=(j,F,q,oe,ne,ae,ve)=>{const ge=()=>{if(j.isMounted){let{next:ke,bu:Le,u:Ne,parent:Ge,vnode:ot}=j;{const an=t2(j);if(an){ke&&(ke.el=ot.el,z(j,ke,ve)),an.asyncDep.then(()=>{j.isUnmounted||ge()});return}}let st=ke,on;pr(j,!1),ke?(ke.el=ot.el,z(j,ke,ve)):ke=ot,Le&&tu(Le),(on=ke.props&&ke.props.onVnodeBeforeUpdate)&&Ci(on,Ge,ke,ot),pr(j,!0);const Ft=zh(j),In=j.subTree;j.subTree=Ft,b(In,Ft,f(In.el),X(In),j,ne,ae),ke.el=Ft.el,st===null&&WM(j,Ft.el),Ne&&An(Ne,ne),(on=ke.props&&ke.props.onVnodeUpdated)&&An(()=>Ci(on,Ge,ke,ot),ne)}else{let ke;const{el:Le,props:Ne}=F,{bm:Ge,m:ot,parent:st,root:on,type:Ft}=j,In=Ro(F);if(pr(j,!1),Ge&&tu(Ge),!In&&(ke=Ne&&Ne.onVnodeBeforeMount)&&Ci(ke,st,F),pr(j,!0),Le&&he){const an=()=>{j.subTree=zh(j),he(Le,j.subTree,j,ne,null)};In&&Ft.__asyncHydrate?Ft.__asyncHydrate(Le,j,an):an()}else{on.ce&&on.ce._injectChildStyle(Ft);const an=j.subTree=zh(j);b(null,an,q,oe,j,ne,ae),F.el=an.el}if(ot&&An(ot,ne),!In&&(ke=Ne&&Ne.onVnodeMounted)){const an=F;An(()=>Ci(ke,st,an),ne)}(F.shapeFlag&256||st&&Ro(st.vnode)&&st.vnode.shapeFlag&256)&&j.a&&An(j.a,ne),j.isMounted=!0,F=q=oe=null}};j.scope.on();const fe=j.effect=new sb(ge);j.scope.off();const le=j.update=fe.run.bind(fe),Ie=j.job=fe.runIfDirty.bind(fe);Ie.i=j,Ie.id=j.uid,fe.scheduler=()=>wm(Ie),pr(j,!0),le()},z=(j,F,q)=>{F.component=j;const oe=j.vnode.props;j.vnode=F,j.next=null,TM(j,F.props,oe,q),OM(j,F.children,q),nr(),B0(j),ir()},H=(j,F,q,oe,ne,ae,ve,ge,fe=!1)=>{const le=j&&j.children,Ie=j?j.shapeFlag:0,ke=F.children,{patchFlag:Le,shapeFlag:Ne}=F;if(Le>0){if(Le&128){G(le,ke,q,oe,ne,ae,ve,ge,fe);return}else if(Le&256){ee(le,ke,q,oe,ne,ae,ve,ge,fe);return}}Ne&8?(Ie&16&&be(le,ne,ae),ke!==le&&d(q,ke)):Ie&16?Ne&16?G(le,ke,q,oe,ne,ae,ve,ge,fe):be(le,ne,ae,!0):(Ie&8&&d(q,""),Ne&16&&T(ke,q,oe,ne,ae,ve,ge,fe))},ee=(j,F,q,oe,ne,ae,ve,ge,fe)=>{j=j||Po,F=F||Po;const le=j.length,Ie=F.length,ke=Math.min(le,Ie);let Le;for(Le=0;Le<ke;Le++){const Ne=F[Le]=fe?Ps(F[Le]):Di(F[Le]);b(j[Le],Ne,q,null,ne,ae,ve,ge,fe)}le>Ie?be(j,ne,ae,!0,!1,ke):T(F,q,oe,ne,ae,ve,ge,fe,ke)},G=(j,F,q,oe,ne,ae,ve,ge,fe)=>{let le=0;const Ie=F.length;let ke=j.length-1,Le=Ie-1;for(;le<=ke&&le<=Le;){const Ne=j[le],Ge=F[le]=fe?Ps(F[le]):Di(F[le]);if(Mr(Ne,Ge))b(Ne,Ge,q,null,ne,ae,ve,ge,fe);else break;le++}for(;le<=ke&&le<=Le;){const Ne=j[ke],Ge=F[Le]=fe?Ps(F[Le]):Di(F[Le]);if(Mr(Ne,Ge))b(Ne,Ge,q,null,ne,ae,ve,ge,fe);else break;ke--,Le--}if(le>ke){if(le<=Le){const Ne=Le+1,Ge=Ne<Ie?F[Ne].el:oe;for(;le<=Le;)b(null,F[le]=fe?Ps(F[le]):Di(F[le]),q,Ge,ne,ae,ve,ge,fe),le++}}else if(le>Le)for(;le<=ke;)we(j[le],ne,ae,!0),le++;else{const Ne=le,Ge=le,ot=new Map;for(le=Ge;le<=Le;le++){const _n=F[le]=fe?Ps(F[le]):Di(F[le]);_n.key!=null&&ot.set(_n.key,le)}let st,on=0;const Ft=Le-Ge+1;let In=!1,an=0;const Ui=new Array(Ft);for(le=0;le<Ft;le++)Ui[le]=0;for(le=Ne;le<=ke;le++){const _n=j[le];if(on>=Ft){we(_n,ne,ae,!0);continue}let ln;if(_n.key!=null)ln=ot.get(_n.key);else for(st=Ge;st<=Le;st++)if(Ui[st-Ge]===0&&Mr(_n,F[st])){ln=st;break}ln===void 0?we(_n,ne,ae,!0):(Ui[ln-Ge]=le+1,ln>=an?an=ln:In=!0,b(_n,F[ln],q,null,ne,ae,ve,ge,fe),on++)}const ca=In?IM(Ui):Po;for(st=ca.length-1,le=Ft-1;le>=0;le--){const _n=Ge+le,ln=F[_n],ec=_n+1<Ie?F[_n+1].el:oe;Ui[le]===0?b(null,ln,q,ec,ne,ae,ve,ge,fe):In&&(st<0||le!==ca[st]?te(ln,q,ec,2):st--)}}},te=(j,F,q,oe,ne=null)=>{const{el:ae,type:ve,transition:ge,children:fe,shapeFlag:le}=j;if(le&6){te(j.component.subTree,F,q,oe);return}if(le&128){j.suspense.move(F,q,oe);return}if(le&64){ve.move(j,F,q,Q);return}if(ve===xt){i(ae,F,q);for(let ke=0;ke<fe.length;ke++)te(fe[ke],F,q,oe);i(j.anchor,F,q);return}if(ve===su){A(j,F,q);return}if(oe!==2&&le&1&&ge)if(oe===0)ge.beforeEnter(ae),i(ae,F,q),An(()=>ge.enter(ae),ne);else{const{leave:ke,delayLeave:Le,afterLeave:Ne}=ge,Ge=()=>i(ae,F,q),ot=()=>{ke(ae,()=>{Ge(),Ne&&Ne()})};Le?Le(ae,Ge,ot):ot()}else i(ae,F,q)},we=(j,F,q,oe=!1,ne=!1)=>{const{type:ae,props:ve,ref:ge,children:fe,dynamicChildren:le,shapeFlag:Ie,patchFlag:ke,dirs:Le,cacheIndex:Ne}=j;if(ke===-2&&(ne=!1),ge!=null&&Yf(ge,null,q,j,!0),Ne!=null&&(F.renderCache[Ne]=void 0),Ie&256){F.ctx.deactivate(j);return}const Ge=Ie&1&&Le,ot=!Ro(j);let st;if(ot&&(st=ve&&ve.onVnodeBeforeUnmount)&&Ci(st,F,j),Ie&6)Ce(j.component,q,oe);else{if(Ie&128){j.suspense.unmount(q,oe);return}Ge&&fr(j,null,F,"beforeUnmount"),Ie&64?j.type.remove(j,F,q,Q,oe):le&&!le.hasOnce&&(ae!==xt||ke>0&&ke&64)?be(le,F,q,!1,!0):(ae===xt&&ke&384||!ne&&Ie&16)&&be(fe,F,q),oe&&Te(j)}(ot&&(st=ve&&ve.onVnodeUnmounted)||Ge)&&An(()=>{st&&Ci(st,F,j),Ge&&fr(j,null,F,"unmounted")},q)},Te=j=>{const{type:F,el:q,anchor:oe,transition:ne}=j;if(F===xt){Ee(q,oe);return}if(F===su){g(j);return}const ae=()=>{s(q),ne&&!ne.persisted&&ne.afterLeave&&ne.afterLeave()};if(j.shapeFlag&1&&ne&&!ne.persisted){const{leave:ve,delayLeave:ge}=ne,fe=()=>ve(q,ae);ge?ge(j.el,ae,fe):fe()}else ae()},Ee=(j,F)=>{let q;for(;j!==F;)q=p(j),s(j),j=q;s(F)},Ce=(j,F,q)=>{const{bum:oe,scope:ne,job:ae,subTree:ve,um:ge,m:fe,a:le}=j;G0(fe),G0(le),oe&&tu(oe),ne.stop(),ae&&(ae.flags|=8,we(ve,j,F,q)),ge&&An(ge,F),An(()=>{j.isUnmounted=!0},F),F&&F.pendingBranch&&!F.isUnmounted&&j.asyncDep&&!j.asyncResolved&&j.suspenseId===F.pendingId&&(F.deps--,F.deps===0&&F.resolve())},be=(j,F,q,oe=!1,ne=!1,ae=0)=>{for(let ve=ae;ve<j.length;ve++)we(j[ve],F,q,oe,ne)},X=j=>{if(j.shapeFlag&6)return X(j.component.subTree);if(j.shapeFlag&128)return j.suspense.next();const F=p(j.anchor||j.el),q=F&&F[Ab];return q?p(q):F};let ue=!1;const me=(j,F,q)=>{j==null?F._vnode&&we(F._vnode,null,null,!0):b(F._vnode||null,j,F,null,null,null,q),F._vnode=j,ue||(ue=!0,B0(),Tb(),ue=!1)},Q={p:b,um:we,m:te,r:Te,mt:W,mc:T,pc:H,pbc:I,n:X,o:n};let ie,he;return{render:me,hydrate:ie,createApp:MM(me,ie)}}function Nh({type:n,props:e},t){return t==="svg"&&n==="foreignObject"||t==="mathml"&&n==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:t}function pr({effect:n,job:e},t){t?(n.flags|=32,e.flags|=4):(n.flags&=-33,e.flags&=-5)}function DM(n,e){return(!n||n&&!n.pendingBranch)&&e&&!e.persisted}function Tm(n,e,t=!1){const i=n.children,s=e.children;if(De(i)&&De(s))for(let r=0;r<i.length;r++){const o=i[r];let a=s[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[r]=Ps(s[r]),a.el=o.el),!t&&a.patchFlag!==-2&&Tm(o,a)),a.type===Ad&&(a.el=o.el)}}function IM(n){const e=n.slice(),t=[0];let i,s,r,o,a;const l=n.length;for(i=0;i<l;i++){const u=n[i];if(u!==0){if(s=t[t.length-1],n[s]<u){e[i]=s,t.push(i);continue}for(r=0,o=t.length-1;r<o;)a=r+o>>1,n[t[a]]<u?r=a+1:o=a;u<n[t[r]]&&(r>0&&(e[i]=t[r-1]),t[r]=i)}}for(r=t.length,o=t[r-1];r-- >0;)t[r]=o,o=e[o];return t}function t2(n){const e=n.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:t2(e)}function G0(n){if(n)for(let e=0;e<n.length;e++)n[e].flags|=8}const jM=Symbol.for("v-scx"),NM=()=>hi(jM);function U$(n,e){return Pm(n,null,e)}function fi(n,e,t){return Pm(n,e,t)}function Pm(n,e,t=ft){const{immediate:i,deep:s,flush:r,once:o}=t,a=zt({},t),l=e&&i||!e&&r!=="post";let u;if(Vo){if(r==="sync"){const m=NM();u=m.__watcherHandles||(m.__watcherHandles=[])}else if(!l){const m=()=>{};return m.stop=zi,m.resume=zi,m.pause=zi,m}}const d=Kt;a.call=(m,_,b)=>_i(m,d,_,b);let f=!1;r==="post"?a.scheduler=m=>{An(m,d&&d.suspense)}:r!=="sync"&&(f=!0,a.scheduler=(m,_)=>{_?m():wm(m)}),a.augmentJob=m=>{e&&(m.flags|=4),f&&(m.flags|=2,d&&(m.id=d.uid,m.i=d))};const p=JS(n,e,a);return Vo&&(u?u.push(p):l&&p()),p}function zM(n,e,t){const i=this.proxy,s=St(n)?n.includes(".")?n2(i,n):()=>i[n]:n.bind(i,i);let r;He(e)?r=e:(r=e.handler,t=e);const o=Zl(this),a=Pm(s,r.bind(i),t);return o(),a}function n2(n,e){const t=e.split(".");return()=>{let i=n;for(let s=0;s<t.length&&i;s++)i=i[t[s]];return i}}const BM=(n,e)=>e==="modelValue"||e==="model-value"?n.modelModifiers:n[`${e}Modifiers`]||n[`${ni(e)}Modifiers`]||n[`${tr(e)}Modifiers`];function FM(n,e,...t){if(n.isUnmounted)return;const i=n.vnode.props||ft;let s=t;const r=e.startsWith("update:"),o=r&&BM(i,e.slice(7));o&&(o.trim&&(s=t.map(d=>St(d)?d.trim():d)),o.number&&(s=t.map(Pu)));let a,l=i[a=eu(e)]||i[a=eu(ni(e))];!l&&r&&(l=i[a=eu(tr(e))]),l&&_i(l,n,6,s);const u=i[a+"Once"];if(u){if(!n.emitted)n.emitted={};else if(n.emitted[a])return;n.emitted[a]=!0,_i(u,n,6,s)}}function i2(n,e,t=!1){const i=e.emitsCache,s=i.get(n);if(s!==void 0)return s;const r=n.emits;let o={},a=!1;if(!He(n)){const l=u=>{const d=i2(u,e,!0);d&&(a=!0,zt(o,d))};!t&&e.mixins.length&&e.mixins.forEach(l),n.extends&&l(n.extends),n.mixins&&n.mixins.forEach(l)}return!r&&!a?(dt(n)&&i.set(n,null),null):(De(r)?r.forEach(l=>o[l]=null):zt(o,r),dt(n)&&i.set(n,o),o)}function Ed(n,e){return!n||!vd(e)?!1:(e=e.slice(2).replace(/Once$/,""),rt(n,e[0].toLowerCase()+e.slice(1))||rt(n,tr(e))||rt(n,e))}function zh(n){const{type:e,vnode:t,proxy:i,withProxy:s,propsOptions:[r],slots:o,attrs:a,emit:l,render:u,renderCache:d,props:f,data:p,setupState:m,ctx:_,inheritAttrs:b}=n,k=Lu(n);let M,E;try{if(t.shapeFlag&4){const g=s||i,w=g;M=Di(u.call(w,g,d,f,m,p,_)),E=a}else{const g=e;M=Di(g.length>1?g(f,{attrs:a,slots:o,emit:l}):g(f,null)),E=e.props?a:$M(a)}}catch(g){Qa.length=0,Wl(g,n,1),M=Pe(kn)}let A=M;if(E&&b!==!1){const g=Object.keys(E),{shapeFlag:w}=A;g.length&&w&7&&(r&&g.some(pm)&&(E=HM(E,r)),A=Gs(A,E,!1,!0))}return t.dirs&&(A=Gs(A,null,!1,!0),A.dirs=A.dirs?A.dirs.concat(t.dirs):t.dirs),t.transition&&vl(A,t.transition),M=A,Lu(k),M}const $M=n=>{let e;for(const t in n)(t==="class"||t==="style"||vd(t))&&((e||(e={}))[t]=n[t]);return e},HM=(n,e)=>{const t={};for(const i in n)(!pm(i)||!(i.slice(9)in e))&&(t[i]=n[i]);return t};function VM(n,e,t){const{props:i,children:s,component:r}=n,{props:o,children:a,patchFlag:l}=e,u=r.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&l>=0){if(l&1024)return!0;if(l&16)return i?J0(i,o,u):!!o;if(l&8){const d=e.dynamicProps;for(let f=0;f<d.length;f++){const p=d[f];if(o[p]!==i[p]&&!Ed(u,p))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?J0(i,o,u):!0:!!o;return!1}function J0(n,e,t){const i=Object.keys(e);if(i.length!==Object.keys(n).length)return!0;for(let s=0;s<i.length;s++){const r=i[s];if(e[r]!==n[r]&&!Ed(t,r))return!0}return!1}function WM({vnode:n,parent:e},t){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===n&&(i.el=n.el),i===n)(n=e.vnode).el=t,e=e.parent;else break}}const s2=n=>n.__isSuspense;function UM(n,e){e&&e.pendingBranch?De(n)?e.effects.push(...n):e.effects.push(n):QS(n)}const xt=Symbol.for("v-fgt"),Ad=Symbol.for("v-txt"),kn=Symbol.for("v-cmt"),su=Symbol.for("v-stc"),Qa=[];let Fn=null;function K(n=!1){Qa.push(Fn=n?null:[])}function ZM(){Qa.pop(),Fn=Qa[Qa.length-1]||null}let bl=1;function Y0(n){bl+=n,n<0&&Fn&&(Fn.hasOnce=!0)}function r2(n){return n.dynamicChildren=bl>0?Fn||Po:null,ZM(),bl>0&&Fn&&Fn.push(n),n}function Y(n,e,t,i,s,r){return r2(P(n,e,t,i,s,r,!0))}function $n(n,e,t,i,s){return r2(Pe(n,e,t,i,s,!0))}function xl(n){return n?n.__v_isVNode===!0:!1}function Mr(n,e){return n.type===e.type&&n.key===e.key}const o2=({key:n})=>n!=null?n:null,ru=({ref:n,ref_key:e,ref_for:t})=>(typeof n=="number"&&(n=""+n),n!=null?St(n)||Jt(n)||He(n)?{i:qt,r:n,k:e,f:!!t}:n:null);function P(n,e=null,t=null,i=0,s=null,r=n===xt?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:n,props:e,key:e&&o2(e),ref:e&&ru(e),scopeId:Eb,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:qt};return a?(Em(l,t),r&128&&n.normalize(l)):t&&(l.shapeFlag|=St(t)?8:16),bl>0&&!o&&Fn&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&Fn.push(l),l}const Pe=KM;function KM(n,e=null,t=null,i=0,s=null,r=!1){if((!n||n===Fb)&&(n=kn),xl(n)){const a=Gs(n,e,!0);return t&&Em(a,t),bl>0&&!r&&Fn&&(a.shapeFlag&6?Fn[Fn.indexOf(n)]=a:Fn.push(a)),a.patchFlag=-2,a}if(nC(n)&&(n=n.__vccOpts),e){e=qM(e);let{class:a,style:l}=e;a&&!St(a)&&(e.class=Ye(a)),dt(l)&&(xm(l)&&!De(l)&&(l=zt({},l)),e.style=Hl(l))}const o=St(n)?1:s2(n)?128:Ob(n)?64:dt(n)?4:He(n)?2:0;return P(n,e,t,i,s,o,r,!0)}function qM(n){return n?xm(n)||qb(n)?zt({},n):n:null}function Gs(n,e,t=!1,i=!1){const{props:s,ref:r,patchFlag:o,children:a,transition:l}=n,u=e?jo(s||{},e):s,d={__v_isVNode:!0,__v_skip:!0,type:n.type,props:u,key:u&&o2(u),ref:e&&e.ref?t&&r?De(r)?r.concat(ru(e)):[r,ru(e)]:ru(e):r,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:a,target:n.target,targetStart:n.targetStart,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:e&&n.type!==xt?o===-1?16:o|16:o,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:l,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&Gs(n.ssContent),ssFallback:n.ssFallback&&Gs(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce};return l&&i&&vl(d,l.clone(d)),d}function Ht(n=" ",e=0){return Pe(Ad,null,n,e)}function Io(n,e){const t=Pe(su,null,n);return t.staticCount=e,t}function Ae(n="",e=!1){return e?(K(),$n(kn,null,n)):Pe(kn,null,n)}function Di(n){return n==null||typeof n=="boolean"?Pe(kn):De(n)?Pe(xt,null,n.slice()):xl(n)?Ps(n):Pe(Ad,null,String(n))}function Ps(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:Gs(n)}function Em(n,e){let t=0;const{shapeFlag:i}=n;if(e==null)e=null;else if(De(e))t=16;else if(typeof e=="object")if(i&65){const s=e.default;s&&(s._c&&(s._d=!1),Em(n,s()),s._c&&(s._d=!0));return}else{t=32;const s=e._;!s&&!qb(e)?e._ctx=qt:s===3&&qt&&(qt.slots._===1?e._=1:(e._=2,n.patchFlag|=1024))}else He(e)?(e={default:e,_ctx:qt},t=32):(e=String(e),i&64?(t=16,e=[Ht(e)]):t=8);n.children=e,n.shapeFlag|=t}function jo(...n){const e={};for(let t=0;t<n.length;t++){const i=n[t];for(const s in i)if(s==="class")e.class!==i.class&&(e.class=Ye([e.class,i.class]));else if(s==="style")e.style=Hl([e.style,i.style]);else if(vd(s)){const r=e[s],o=i[s];o&&r!==o&&!(De(r)&&r.includes(o))&&(e[s]=r?[].concat(r,o):o)}else s!==""&&(e[s]=i[s])}return e}function Ci(n,e,t,i=null){_i(n,e,7,[t,i])}const GM=Ub();let JM=0;function YM(n,e,t){const i=n.type,s=(e?e.appContext:n.appContext)||GM,r={uid:JM++,vnode:n,type:i,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ib(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Jb(i,s),emitsOptions:i2(i,s),emit:null,emitted:null,propsDefaults:ft,inheritAttrs:i.inheritAttrs,ctx:ft,data:ft,props:ft,attrs:ft,slots:ft,refs:ft,setupState:ft,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=FM.bind(null,r),n.ce&&n.ce(r),r}let Kt=null;const a2=()=>Kt||qt;let Du,ip;{const n=wd(),e=(t,i)=>{let s;return(s=n[t])||(s=n[t]=[]),s.push(i),r=>{s.length>1?s.forEach(o=>o(r)):s[0](r)}};Du=e("__VUE_INSTANCE_SETTERS__",t=>Kt=t),ip=e("__VUE_SSR_SETTERS__",t=>Vo=t)}const Zl=n=>{const e=Kt;return Du(n),n.scope.on(),()=>{n.scope.off(),Du(e)}},X0=()=>{Kt&&Kt.scope.off(),Du(null)};function l2(n){return n.vnode.shapeFlag&4}let Vo=!1;function XM(n,e=!1,t=!1){e&&ip(e);const{props:i,children:s}=n.vnode,r=l2(n);CM(n,i,r,e),AM(n,s,t);const o=r?QM(n,e):void 0;return e&&ip(!1),o}function QM(n,e){const t=n.type;n.accessCache=Object.create(null),n.proxy=new Proxy(n.ctx,yM);const{setup:i}=t;if(i){nr();const s=n.setupContext=i.length>1?u2(n):null,r=Zl(n),o=Vl(i,n,0,[n.props,s]),a=Jv(o);if(ir(),r(),(a||n.sp)&&!Ro(n)&&km(n),a){if(o.then(X0,X0),e)return o.then(l=>{Q0(n,l,e)}).catch(l=>{Wl(l,n,0)});n.asyncDep=o}else Q0(n,o,e)}else c2(n,e)}function Q0(n,e,t){He(e)?n.type.__ssrInlineRender?n.ssrRender=e:n.render=e:dt(e)&&(n.setupState=kb(e)),c2(n,t)}let e1;function c2(n,e,t){const i=n.type;if(!n.render){if(!e&&e1&&!i.render){const s=i.template||Mm(n).template;if(s){const{isCustomElement:r,compilerOptions:o}=n.appContext.config,{delimiters:a,compilerOptions:l}=i,u=zt(zt({isCustomElement:r,delimiters:a},o),l);i.render=e1(s,u)}}n.render=i.render||zi}{const s=Zl(n);nr();try{vM(n)}finally{ir(),s()}}}const eC={get(n,e){return dn(n,"get",""),n[e]}};function u2(n){const e=t=>{n.exposed=t||{}};return{attrs:new Proxy(n.attrs,eC),slots:n.slots,emit:n.emit,expose:e}}function Od(n){return n.exposed?n.exposeProxy||(n.exposeProxy=new Proxy(kb(FS(n.exposed)),{get(e,t){if(t in e)return e[t];if(t in Xa)return Xa[t](n)},has(e,t){return t in e||t in Xa}})):n.proxy}function tC(n,e=!0){return He(n)?n.displayName||n.name:n.name||e&&n.__name}function nC(n){return He(n)&&"__vccOpts"in n}const yt=(n,e)=>qS(n,e,Vo);function Ld(n,e,t){const i=arguments.length;return i===2?dt(e)&&!De(e)?xl(e)?Pe(n,null,[e]):Pe(n,e):Pe(n,null,e):(i>3?t=Array.prototype.slice.call(arguments,2):i===3&&xl(t)&&(t=[t]),Pe(n,e,t))}const iC="3.5.12";/**
* @vue/runtime-dom v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let sp;const t1=typeof window!="undefined"&&window.trustedTypes;if(t1)try{sp=t1.createPolicy("vue",{createHTML:n=>n})}catch(n){}const d2=sp?n=>sp.createHTML(n):n=>n,sC="http://www.w3.org/2000/svg",rC="http://www.w3.org/1998/Math/MathML",ns=typeof document!="undefined"?document:null,n1=ns&&ns.createElement("template"),oC={insert:(n,e,t)=>{e.insertBefore(n,t||null)},remove:n=>{const e=n.parentNode;e&&e.removeChild(n)},createElement:(n,e,t,i)=>{const s=e==="svg"?ns.createElementNS(sC,n):e==="mathml"?ns.createElementNS(rC,n):t?ns.createElement(n,{is:t}):ns.createElement(n);return n==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:n=>ns.createTextNode(n),createComment:n=>ns.createComment(n),setText:(n,e)=>{n.nodeValue=e},setElementText:(n,e)=>{n.textContent=e},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>ns.querySelector(n),setScopeId(n,e){n.setAttribute(e,"")},insertStaticContent(n,e,t,i,s,r){const o=t?t.previousSibling:e.lastChild;if(s&&(s===r||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),t),!(s===r||!(s=s.nextSibling)););else{n1.innerHTML=d2(i==="svg"?`<svg>${n}</svg>`:i==="mathml"?`<math>${n}</math>`:n);const a=n1.content;if(i==="svg"||i==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,t)}return[o?o.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}},bs="transition",Sa="animation",wl=Symbol("_vtc"),h2={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},aC=zt({},Rb,h2),lC=n=>(n.displayName="Transition",n.props=aC,n),i1=lC((n,{slots:e})=>Ld(rM,cC(n),e)),mr=(n,e=[])=>{De(n)?n.forEach(t=>t(...e)):n&&n(...e)},s1=n=>n?De(n)?n.some(e=>e.length>1):n.length>1:!1;function cC(n){const e={};for(const B in n)B in h2||(e[B]=n[B]);if(n.css===!1)return e;const{name:t="v",type:i,duration:s,enterFromClass:r=`${t}-enter-from`,enterActiveClass:o=`${t}-enter-active`,enterToClass:a=`${t}-enter-to`,appearFromClass:l=r,appearActiveClass:u=o,appearToClass:d=a,leaveFromClass:f=`${t}-leave-from`,leaveActiveClass:p=`${t}-leave-active`,leaveToClass:m=`${t}-leave-to`}=n,_=uC(s),b=_&&_[0],k=_&&_[1],{onBeforeEnter:M,onEnter:E,onEnterCancelled:A,onLeave:g,onLeaveCancelled:w,onBeforeAppear:v=M,onAppear:S=E,onAppearCancelled:T=A}=e,O=(B,V,W)=>{gr(B,V?d:a),gr(B,V?u:o),W&&W()},I=(B,V)=>{B._isLeaving=!1,gr(B,f),gr(B,m),gr(B,p),V&&V()},N=B=>(V,W)=>{const Z=B?S:E,R=()=>O(V,B,W);mr(Z,[V,R]),r1(()=>{gr(V,B?l:r),xs(V,B?d:a),s1(Z)||o1(V,i,b,R)})};return zt(e,{onBeforeEnter(B){mr(M,[B]),xs(B,r),xs(B,o)},onBeforeAppear(B){mr(v,[B]),xs(B,l),xs(B,u)},onEnter:N(!1),onAppear:N(!0),onLeave(B,V){B._isLeaving=!0;const W=()=>I(B,V);xs(B,f),xs(B,p),fC(),r1(()=>{B._isLeaving&&(gr(B,f),xs(B,m),s1(g)||o1(B,i,k,W))}),mr(g,[B,W])},onEnterCancelled(B){O(B,!1),mr(A,[B])},onAppearCancelled(B){O(B,!0),mr(T,[B])},onLeaveCancelled(B){I(B),mr(w,[B])}})}function uC(n){if(n==null)return null;if(dt(n))return[Bh(n.enter),Bh(n.leave)];{const e=Bh(n);return[e,e]}}function Bh(n){return hS(n)}function xs(n,e){e.split(/\s+/).forEach(t=>t&&n.classList.add(t)),(n[wl]||(n[wl]=new Set)).add(e)}function gr(n,e){e.split(/\s+/).forEach(i=>i&&n.classList.remove(i));const t=n[wl];t&&(t.delete(e),t.size||(n[wl]=void 0))}function r1(n){requestAnimationFrame(()=>{requestAnimationFrame(n)})}let dC=0;function o1(n,e,t,i){const s=n._endId=++dC,r=()=>{s===n._endId&&i()};if(t!=null)return setTimeout(r,t);const{type:o,timeout:a,propCount:l}=hC(n,e);if(!o)return i();const u=o+"end";let d=0;const f=()=>{n.removeEventListener(u,p),r()},p=m=>{m.target===n&&++d>=l&&f()};setTimeout(()=>{d<l&&f()},a+1),n.addEventListener(u,p)}function hC(n,e){const t=window.getComputedStyle(n),i=_=>(t[_]||"").split(", "),s=i(`${bs}Delay`),r=i(`${bs}Duration`),o=a1(s,r),a=i(`${Sa}Delay`),l=i(`${Sa}Duration`),u=a1(a,l);let d=null,f=0,p=0;e===bs?o>0&&(d=bs,f=o,p=r.length):e===Sa?u>0&&(d=Sa,f=u,p=l.length):(f=Math.max(o,u),d=f>0?o>u?bs:Sa:null,p=d?d===bs?r.length:l.length:0);const m=d===bs&&/\b(transform|all)(,|$)/.test(i(`${bs}Property`).toString());return{type:d,timeout:f,propCount:p,hasTransform:m}}function a1(n,e){for(;n.length<e.length;)n=n.concat(n);return Math.max(...e.map((t,i)=>l1(t)+l1(n[i])))}function l1(n){return n==="auto"?0:Number(n.slice(0,-1).replace(",","."))*1e3}function fC(){return document.body.offsetHeight}function pC(n,e,t){const i=n[wl];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?n.removeAttribute("class"):t?n.setAttribute("class",e):n.className=e}const Iu=Symbol("_vod"),f2=Symbol("_vsh"),Z$={beforeMount(n,{value:e},{transition:t}){n[Iu]=n.style.display==="none"?"":n.style.display,t&&e?t.beforeEnter(n):Ma(n,e)},mounted(n,{value:e},{transition:t}){t&&e&&t.enter(n)},updated(n,{value:e,oldValue:t},{transition:i}){!e!=!t&&(i?e?(i.beforeEnter(n),Ma(n,!0),i.enter(n)):i.leave(n,()=>{Ma(n,!1)}):Ma(n,e))},beforeUnmount(n,{value:e}){Ma(n,e)}};function Ma(n,e){n.style.display=e?n[Iu]:"none",n[f2]=!e}const mC=Symbol(""),gC=/(^|;)\s*display\s*:/;function yC(n,e,t){const i=n.style,s=St(t);let r=!1;if(t&&!s){if(e)if(St(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();t[a]==null&&ou(i,a,"")}else for(const o in e)t[o]==null&&ou(i,o,"");for(const o in t)o==="display"&&(r=!0),ou(i,o,t[o])}else if(s){if(e!==t){const o=i[mC];o&&(t+=";"+o),i.cssText=t,r=gC.test(t)}}else e&&n.removeAttribute("style");Iu in n&&(n[Iu]=r?i.display:"",n[f2]&&(i.display="none"))}const c1=/\s*!important$/;function ou(n,e,t){if(De(t))t.forEach(i=>ou(n,e,i));else if(t==null&&(t=""),e.startsWith("--"))n.setProperty(e,t);else{const i=_C(n,e);c1.test(t)?n.setProperty(tr(i),t.replace(c1,""),"important"):n[i]=t}}const u1=["Webkit","Moz","ms"],Fh={};function _C(n,e){const t=Fh[e];if(t)return t;let i=ni(e);if(i!=="filter"&&i in n)return Fh[e]=i;i=xd(i);for(let s=0;s<u1.length;s++){const r=u1[s]+i;if(r in n)return Fh[e]=r}return e}const d1="http://www.w3.org/1999/xlink";function h1(n,e,t,i,s,r=_S(e)){i&&e.startsWith("xlink:")?t==null?n.removeAttributeNS(d1,e.slice(6,e.length)):n.setAttributeNS(d1,e,t):t==null||r&&!eb(t)?n.removeAttribute(e):n.setAttribute(e,r?"":yi(t)?String(t):t)}function f1(n,e,t,i,s){if(e==="innerHTML"||e==="textContent"){t!=null&&(n[e]=e==="innerHTML"?d2(t):t);return}const r=n.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const a=r==="OPTION"?n.getAttribute("value")||"":n.value,l=t==null?n.type==="checkbox"?"on":"":String(t);(a!==l||!("_value"in n))&&(n.value=l),t==null&&n.removeAttribute(e),n._value=t;return}let o=!1;if(t===""||t==null){const a=typeof n[e];a==="boolean"?t=eb(t):t==null&&a==="string"?(t="",o=!0):a==="number"&&(t=0,o=!0)}try{n[e]=t}catch(a){}o&&n.removeAttribute(s||e)}function cs(n,e,t,i){n.addEventListener(e,t,i)}function vC(n,e,t,i){n.removeEventListener(e,t,i)}const p1=Symbol("_vei");function bC(n,e,t,i,s=null){const r=n[p1]||(n[p1]={}),o=r[e];if(i&&o)o.value=i;else{const[a,l]=xC(e);if(i){const u=r[e]=SC(i,s);cs(n,a,u,l)}else o&&(vC(n,a,o,l),r[e]=void 0)}}const m1=/(?:Once|Passive|Capture)$/;function xC(n){let e;if(m1.test(n)){e={};let i;for(;i=n.match(m1);)n=n.slice(0,n.length-i[0].length),e[i[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):tr(n.slice(2)),e]}let $h=0;const wC=Promise.resolve(),kC=()=>$h||(wC.then(()=>$h=0),$h=Date.now());function SC(n,e){const t=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=t.attached)return;_i(MC(i,t.value),e,5,[i])};return t.value=n,t.attached=kC(),t}function MC(n,e){if(De(e)){const t=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{t.call(n),n._stopped=!0},e.map(i=>s=>!s._stopped&&i&&i(s))}else return e}const g1=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,CC=(n,e,t,i,s,r)=>{const o=s==="svg";e==="class"?pC(n,i,o):e==="style"?yC(n,t,i):vd(e)?pm(e)||bC(n,e,t,i,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):TC(n,e,i,o))?(f1(n,e,i),!n.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&h1(n,e,i,o,r,e!=="value")):n._isVueCE&&(/[A-Z]/.test(e)||!St(i))?f1(n,ni(e),i,r,e):(e==="true-value"?n._trueValue=i:e==="false-value"&&(n._falseValue=i),h1(n,e,i,o))};function TC(n,e,t,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in n&&g1(e)&&He(t));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&n.tagName==="INPUT"||e==="type"&&n.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=n.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return g1(e)&&St(t)?!1:e in n}const Js=n=>{const e=n.props["onUpdate:modelValue"]||!1;return De(e)?t=>tu(e,t):e};function PC(n){n.target.composing=!0}function y1(n){const e=n.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const ti=Symbol("_assign"),Vr={created(n,{modifiers:{lazy:e,trim:t,number:i}},s){n[ti]=Js(s);const r=i||s.props&&s.props.type==="number";cs(n,e?"change":"input",o=>{if(o.target.composing)return;let a=n.value;t&&(a=a.trim()),r&&(a=Pu(a)),n[ti](a)}),t&&cs(n,"change",()=>{n.value=n.value.trim()}),e||(cs(n,"compositionstart",PC),cs(n,"compositionend",y1),cs(n,"change",y1))},mounted(n,{value:e}){n.value=e==null?"":e},beforeUpdate(n,{value:e,oldValue:t,modifiers:{lazy:i,trim:s,number:r}},o){if(n[ti]=Js(o),n.composing)return;const a=(r||n.type==="number")&&!/^0\d/.test(n.value)?Pu(n.value):n.value,l=e==null?"":e;a!==l&&(document.activeElement===n&&n.type!=="range"&&(i&&e===t||s&&n.value.trim()===l)||(n.value=l))}},p2={deep:!0,created(n,e,t){n[ti]=Js(t),cs(n,"change",()=>{const i=n._modelValue,s=Wo(n),r=n.checked,o=n[ti];if(De(i)){const a=ym(i,s),l=a!==-1;if(r&&!l)o(i.concat(s));else if(!r&&l){const u=[...i];u.splice(a,1),o(u)}}else if(na(i)){const a=new Set(i);r?a.add(s):a.delete(s),o(a)}else o(m2(n,r))})},mounted:_1,beforeUpdate(n,e,t){n[ti]=Js(t),_1(n,e,t)}};function _1(n,{value:e,oldValue:t},i){n._modelValue=e;let s;if(De(e))s=ym(e,i.props.value)>-1;else if(na(e))s=e.has(i.props.value);else{if(e===t)return;s=$r(e,m2(n,!0))}n.checked!==s&&(n.checked=s)}const EC={created(n,{value:e},t){n.checked=$r(e,t.props.value),n[ti]=Js(t),cs(n,"change",()=>{n[ti](Wo(n))})},beforeUpdate(n,{value:e,oldValue:t},i){n[ti]=Js(i),e!==t&&(n.checked=$r(e,i.props.value))}},Am={deep:!0,created(n,{value:e,modifiers:{number:t}},i){const s=na(e);cs(n,"change",()=>{const r=Array.prototype.filter.call(n.options,o=>o.selected).map(o=>t?Pu(Wo(o)):Wo(o));n[ti](n.multiple?s?new Set(r):r:r[0]),n._assigning=!0,Lo(()=>{n._assigning=!1})}),n[ti]=Js(i)},mounted(n,{value:e}){v1(n,e)},beforeUpdate(n,e,t){n[ti]=Js(t)},updated(n,{value:e}){n._assigning||v1(n,e)}};function v1(n,e){const t=n.multiple,i=De(e);if(!(t&&!i&&!na(e))){for(let s=0,r=n.options.length;s<r;s++){const o=n.options[s],a=Wo(o);if(t)if(i){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(u=>String(u)===String(a)):o.selected=ym(e,a)>-1}else o.selected=e.has(a);else if($r(Wo(o),e)){n.selectedIndex!==s&&(n.selectedIndex=s);return}}!t&&n.selectedIndex!==-1&&(n.selectedIndex=-1)}}function Wo(n){return"_value"in n?n._value:n.value}function m2(n,e){const t=e?"_trueValue":"_falseValue";return t in n?n[t]:e}const AC={created(n,e,t){Mc(n,e,t,null,"created")},mounted(n,e,t){Mc(n,e,t,null,"mounted")},beforeUpdate(n,e,t,i){Mc(n,e,t,i,"beforeUpdate")},updated(n,e,t,i){Mc(n,e,t,i,"updated")}};function OC(n,e){switch(n){case"SELECT":return Am;case"TEXTAREA":return Vr;default:switch(e){case"checkbox":return p2;case"radio":return EC;default:return Vr}}}function Mc(n,e,t,i,s){const o=OC(n.tagName,t.props&&t.props.type)[s];o&&o(n,e,t,i)}const LC=["ctrl","shift","alt","meta"],RC={stop:n=>n.stopPropagation(),prevent:n=>n.preventDefault(),self:n=>n.target!==n.currentTarget,ctrl:n=>!n.ctrlKey,shift:n=>!n.shiftKey,alt:n=>!n.altKey,meta:n=>!n.metaKey,left:n=>"button"in n&&n.button!==0,middle:n=>"button"in n&&n.button!==1,right:n=>"button"in n&&n.button!==2,exact:(n,e)=>LC.some(t=>n[`${t}Key`]&&!e.includes(t))},DC=(n,e)=>{const t=n._withMods||(n._withMods={}),i=e.join(".");return t[i]||(t[i]=(s,...r)=>{for(let o=0;o<e.length;o++){const a=RC[e[o]];if(a&&a(s,e))return}return n(s,...r)})},IC={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},K$=(n,e)=>{const t=n._withKeys||(n._withKeys={}),i=e.join(".");return t[i]||(t[i]=s=>{if(!("key"in s))return;const r=tr(s.key);if(e.some(o=>o===r||IC[o]===r))return n(s)})},jC=zt({patchProp:CC},oC);let b1;function NC(){return b1||(b1=LM(jC))}const zC=(...n)=>{const e=NC().createApp(...n),{mount:t}=e;return e.mount=i=>{const s=FC(i);if(!s)return;const r=e._component;!He(r)&&!r.render&&!r.template&&(r.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=t(s,!1,BC(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e};function BC(n){if(n instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&n instanceof MathMLElement)return"mathml"}function FC(n){return St(n)?document.querySelector(n):n}const $C="modulepreload",HC=function(n){return"/assets/oms/frontend/"+n},x1={},ht=function(e,t,i){let s=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(t.map(l=>{if(l=HC(l),l in x1)return;x1[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":$C,u||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),u)return new Promise((p,m)=>{f.addEventListener("load",p),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function r(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&r(a.reason);return e().catch(r)})},Hh=(n,e,t)=>{const i=n[e];return i?typeof i=="function"?i():Promise.resolve(i):new Promise((s,r)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(r.bind(null,new Error("Unknown variable dynamic import: "+e+(e.split("/").length!==t?". Note that variables only represent file names one level deep.":""))))})};/*!
  * vue-router v4.4.5
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const yo=typeof document!="undefined";function g2(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function VC(n){return n.__esModule||n[Symbol.toStringTag]==="Module"||n.default&&g2(n.default)}const at=Object.assign;function Vh(n,e){const t={};for(const i in e){const s=e[i];t[i]=vi(s)?s.map(n):n(s)}return t}const el=()=>{},vi=Array.isArray,y2=/#/g,WC=/&/g,UC=/\//g,ZC=/=/g,KC=/\?/g,_2=/\+/g,qC=/%5B/g,GC=/%5D/g,v2=/%5E/g,JC=/%60/g,b2=/%7B/g,YC=/%7C/g,x2=/%7D/g,XC=/%20/g;function Om(n){return encodeURI(""+n).replace(YC,"|").replace(qC,"[").replace(GC,"]")}function QC(n){return Om(n).replace(b2,"{").replace(x2,"}").replace(v2,"^")}function rp(n){return Om(n).replace(_2,"%2B").replace(XC,"+").replace(y2,"%23").replace(WC,"%26").replace(JC,"`").replace(b2,"{").replace(x2,"}").replace(v2,"^")}function e8(n){return rp(n).replace(ZC,"%3D")}function t8(n){return Om(n).replace(y2,"%23").replace(KC,"%3F")}function n8(n){return n==null?"":t8(n).replace(UC,"%2F")}function kl(n){try{return decodeURIComponent(""+n)}catch(e){}return""+n}const i8=/\/$/,s8=n=>n.replace(i8,"");function Wh(n,e,t="/"){let i,s={},r="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(i=e.slice(0,l),r=e.slice(l+1,a>-1?a:e.length),s=n(r)),a>-1&&(i=i||e.slice(0,a),o=e.slice(a,e.length)),i=l8(i!=null?i:e,t),{fullPath:i+(r&&"?")+r+o,path:i,query:s,hash:kl(o)}}function r8(n,e){const t=e.query?n(e.query):"";return e.path+(t&&"?")+t+(e.hash||"")}function w1(n,e){return!e||!n.toLowerCase().startsWith(e.toLowerCase())?n:n.slice(e.length)||"/"}function o8(n,e,t){const i=e.matched.length-1,s=t.matched.length-1;return i>-1&&i===s&&Uo(e.matched[i],t.matched[s])&&w2(e.params,t.params)&&n(e.query)===n(t.query)&&e.hash===t.hash}function Uo(n,e){return(n.aliasOf||n)===(e.aliasOf||e)}function w2(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(!a8(n[t],e[t]))return!1;return!0}function a8(n,e){return vi(n)?k1(n,e):vi(e)?k1(e,n):n===e}function k1(n,e){return vi(e)?n.length===e.length&&n.every((t,i)=>t===e[i]):n.length===1&&n[0]===e}function l8(n,e){if(n.startsWith("/"))return n;if(!n)return e;const t=e.split("/"),i=n.split("/"),s=i[i.length-1];(s===".."||s===".")&&i.push("");let r=t.length-1,o,a;for(o=0;o<i.length;o++)if(a=i[o],a!==".")if(a==="..")r>1&&r--;else break;return t.slice(0,r).join("/")+"/"+i.slice(o).join("/")}const ws={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Sl;(function(n){n.pop="pop",n.push="push"})(Sl||(Sl={}));var tl;(function(n){n.back="back",n.forward="forward",n.unknown=""})(tl||(tl={}));function c8(n){if(!n)if(yo){const e=document.querySelector("base");n=e&&e.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),s8(n)}const u8=/^[^#]+#/;function d8(n,e){return n.replace(u8,"#")+e}function h8(n,e){const t=document.documentElement.getBoundingClientRect(),i=n.getBoundingClientRect();return{behavior:e.behavior,left:i.left-t.left-(e.left||0),top:i.top-t.top-(e.top||0)}}const Rd=()=>({left:window.scrollX,top:window.scrollY});function f8(n){let e;if("el"in n){const t=n.el,i=typeof t=="string"&&t.startsWith("#"),s=typeof t=="string"?i?document.getElementById(t.slice(1)):document.querySelector(t):t;if(!s)return;e=h8(s,n)}else e=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function S1(n,e){return(history.state?history.state.position-e:-1)+n}const op=new Map;function p8(n,e){op.set(n,e)}function m8(n){const e=op.get(n);return op.delete(n),e}let g8=()=>location.protocol+"//"+location.host;function k2(n,e){const{pathname:t,search:i,hash:s}=e,r=n.indexOf("#");if(r>-1){let a=s.includes(n.slice(r))?n.slice(r).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),w1(l,"")}return w1(t,n)+i+s}function y8(n,e,t,i){let s=[],r=[],o=null;const a=({state:p})=>{const m=k2(n,location),_=t.value,b=e.value;let k=0;if(p){if(t.value=m,e.value=p,o&&o===_){o=null;return}k=b?p.position-b.position:0}else i(m);s.forEach(M=>{M(t.value,_,{delta:k,type:Sl.pop,direction:k?k>0?tl.forward:tl.back:tl.unknown})})};function l(){o=t.value}function u(p){s.push(p);const m=()=>{const _=s.indexOf(p);_>-1&&s.splice(_,1)};return r.push(m),m}function d(){const{history:p}=window;p.state&&p.replaceState(at({},p.state,{scroll:Rd()}),"")}function f(){for(const p of r)p();r=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:l,listen:u,destroy:f}}function M1(n,e,t,i=!1,s=!1){return{back:n,current:e,forward:t,replaced:i,position:window.history.length,scroll:s?Rd():null}}function _8(n){const{history:e,location:t}=window,i={value:k2(n,t)},s={value:e.state};s.value||r(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(l,u,d){const f=n.indexOf("#"),p=f>-1?(t.host&&document.querySelector("base")?n:n.slice(f))+l:g8()+n+l;try{e[d?"replaceState":"pushState"](u,"",p),s.value=u}catch(m){console.error(m),t[d?"replace":"assign"](p)}}function o(l,u){const d=at({},e.state,M1(s.value.back,l,s.value.forward,!0),u,{position:s.value.position});r(l,d,!0),i.value=l}function a(l,u){const d=at({},s.value,e.state,{forward:l,scroll:Rd()});r(d.current,d,!0);const f=at({},M1(i.value,l,null),{position:d.position+1},u);r(l,f,!1),i.value=l}return{location:i,state:s,push:a,replace:o}}function v8(n){n=c8(n);const e=_8(n),t=y8(n,e.state,e.location,e.replace);function i(r,o=!0){o||t.pauseListeners(),history.go(r)}const s=at({location:"",base:n,go:i,createHref:d8.bind(null,n)},e,t);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function b8(n){return typeof n=="string"||n&&typeof n=="object"}function S2(n){return typeof n=="string"||typeof n=="symbol"}const M2=Symbol("");var C1;(function(n){n[n.aborted=4]="aborted",n[n.cancelled=8]="cancelled",n[n.duplicated=16]="duplicated"})(C1||(C1={}));function Zo(n,e){return at(new Error,{type:n,[M2]:!0},e)}function Yi(n,e){return n instanceof Error&&M2 in n&&(e==null||!!(n.type&e))}const T1="[^/]+?",x8={sensitive:!1,strict:!1,start:!0,end:!0},w8=/[.+*?^${}()[\]/\\]/g;function k8(n,e){const t=at({},x8,e),i=[];let s=t.start?"^":"";const r=[];for(const u of n){const d=u.length?[]:[90];t.strict&&!u.length&&(s+="/");for(let f=0;f<u.length;f++){const p=u[f];let m=40+(t.sensitive?.25:0);if(p.type===0)f||(s+="/"),s+=p.value.replace(w8,"\\$&"),m+=40;else if(p.type===1){const{value:_,repeatable:b,optional:k,regexp:M}=p;r.push({name:_,repeatable:b,optional:k});const E=M||T1;if(E!==T1){m+=10;try{new RegExp(`(${E})`)}catch(g){throw new Error(`Invalid custom RegExp for param "${_}" (${E}): `+g.message)}}let A=b?`((?:${E})(?:/(?:${E}))*)`:`(${E})`;f||(A=k&&u.length<2?`(?:/${A})`:"/"+A),k&&(A+="?"),s+=A,m+=20,k&&(m+=-8),b&&(m+=-20),E===".*"&&(m+=-50)}d.push(m)}i.push(d)}if(t.strict&&t.end){const u=i.length-1;i[u][i[u].length-1]+=.7000000000000001}t.strict||(s+="/?"),t.end?s+="$":t.strict&&(s+="(?:/|$)");const o=new RegExp(s,t.sensitive?"":"i");function a(u){const d=u.match(o),f={};if(!d)return null;for(let p=1;p<d.length;p++){const m=d[p]||"",_=r[p-1];f[_.name]=m&&_.repeatable?m.split("/"):m}return f}function l(u){let d="",f=!1;for(const p of n){(!f||!d.endsWith("/"))&&(d+="/"),f=!1;for(const m of p)if(m.type===0)d+=m.value;else if(m.type===1){const{value:_,repeatable:b,optional:k}=m,M=_ in u?u[_]:"";if(vi(M)&&!b)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const E=vi(M)?M.join("/"):M;if(!E)if(k)p.length<2&&(d.endsWith("/")?d=d.slice(0,-1):f=!0);else throw new Error(`Missing required param "${_}"`);d+=E}}return d||"/"}return{re:o,score:i,keys:r,parse:a,stringify:l}}function S8(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=e[t]-n[t];if(i)return i;t++}return n.length<e.length?n.length===1&&n[0]===80?-1:1:n.length>e.length?e.length===1&&e[0]===80?1:-1:0}function C2(n,e){let t=0;const i=n.score,s=e.score;for(;t<i.length&&t<s.length;){const r=S8(i[t],s[t]);if(r)return r;t++}if(Math.abs(s.length-i.length)===1){if(P1(i))return 1;if(P1(s))return-1}return s.length-i.length}function P1(n){const e=n[n.length-1];return n.length>0&&e[e.length-1]<0}const M8={type:0,value:""},C8=/[a-zA-Z0-9_]/;function T8(n){if(!n)return[[]];if(n==="/")return[[M8]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function e(m){throw new Error(`ERR (${t})/"${u}": ${m}`)}let t=0,i=t;const s=[];let r;function o(){r&&s.push(r),r=[]}let a=0,l,u="",d="";function f(){u&&(t===0?r.push({type:0,value:u}):t===1||t===2||t===3?(r.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:u,regexp:d,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function p(){u+=l}for(;a<n.length;){if(l=n[a++],l==="\\"&&t!==2){i=t,t=4;continue}switch(t){case 0:l==="/"?(u&&f(),o()):l===":"?(f(),t=1):p();break;case 4:p(),t=i;break;case 1:l==="("?t=2:C8.test(l)?p():(f(),t=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+l:t=3:d+=l;break;case 3:f(),t=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,d="";break;default:e("Unknown state");break}}return t===2&&e(`Unfinished custom RegExp for param "${u}"`),f(),o(),s}function P8(n,e,t){const i=k8(T8(n.path),t),s=at(i,{record:n,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function E8(n,e){const t=[],i=new Map;e=L1({strict:!1,end:!0,sensitive:!1},e);function s(f){return i.get(f)}function r(f,p,m){const _=!m,b=A1(f);b.aliasOf=m&&m.record;const k=L1(e,f),M=[b];if("alias"in f){const g=typeof f.alias=="string"?[f.alias]:f.alias;for(const w of g)M.push(A1(at({},b,{components:m?m.record.components:b.components,path:w,aliasOf:m?m.record:b})))}let E,A;for(const g of M){const{path:w}=g;if(p&&w[0]!=="/"){const v=p.record.path,S=v[v.length-1]==="/"?"":"/";g.path=p.record.path+(w&&S+w)}if(E=P8(g,p,k),m?m.alias.push(E):(A=A||E,A!==E&&A.alias.push(E),_&&f.name&&!O1(E)&&o(f.name)),T2(E)&&l(E),b.children){const v=b.children;for(let S=0;S<v.length;S++)r(v[S],E,m&&m.children[S])}m=m||E}return A?()=>{o(A)}:el}function o(f){if(S2(f)){const p=i.get(f);p&&(i.delete(f),t.splice(t.indexOf(p),1),p.children.forEach(o),p.alias.forEach(o))}else{const p=t.indexOf(f);p>-1&&(t.splice(p,1),f.record.name&&i.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function a(){return t}function l(f){const p=L8(f,t);t.splice(p,0,f),f.record.name&&!O1(f)&&i.set(f.record.name,f)}function u(f,p){let m,_={},b,k;if("name"in f&&f.name){if(m=i.get(f.name),!m)throw Zo(1,{location:f});k=m.record.name,_=at(E1(p.params,m.keys.filter(A=>!A.optional).concat(m.parent?m.parent.keys.filter(A=>A.optional):[]).map(A=>A.name)),f.params&&E1(f.params,m.keys.map(A=>A.name))),b=m.stringify(_)}else if(f.path!=null)b=f.path,m=t.find(A=>A.re.test(b)),m&&(_=m.parse(b),k=m.record.name);else{if(m=p.name?i.get(p.name):t.find(A=>A.re.test(p.path)),!m)throw Zo(1,{location:f,currentLocation:p});k=m.record.name,_=at({},p.params,f.params),b=m.stringify(_)}const M=[];let E=m;for(;E;)M.unshift(E.record),E=E.parent;return{name:k,path:b,params:_,matched:M,meta:O8(M)}}n.forEach(f=>r(f));function d(){t.length=0,i.clear()}return{addRoute:r,resolve:u,removeRoute:o,clearRoutes:d,getRoutes:a,getRecordMatcher:s}}function E1(n,e){const t={};for(const i of e)i in n&&(t[i]=n[i]);return t}function A1(n){const e={path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:n.aliasOf,beforeEnter:n.beforeEnter,props:A8(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||null:n.component&&{default:n.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function A8(n){const e={},t=n.props||!1;if("component"in n)e.default=t;else for(const i in n.components)e[i]=typeof t=="object"?t[i]:t;return e}function O1(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function O8(n){return n.reduce((e,t)=>at(e,t.meta),{})}function L1(n,e){const t={};for(const i in n)t[i]=i in e?e[i]:n[i];return t}function L8(n,e){let t=0,i=e.length;for(;t!==i;){const r=t+i>>1;C2(n,e[r])<0?i=r:t=r+1}const s=R8(n);return s&&(i=e.lastIndexOf(s,i-1)),i}function R8(n){let e=n;for(;e=e.parent;)if(T2(e)&&C2(n,e)===0)return e}function T2({record:n}){return!!(n.name||n.components&&Object.keys(n.components).length||n.redirect)}function D8(n){const e={};if(n===""||n==="?")return e;const i=(n[0]==="?"?n.slice(1):n).split("&");for(let s=0;s<i.length;++s){const r=i[s].replace(_2," "),o=r.indexOf("="),a=kl(o<0?r:r.slice(0,o)),l=o<0?null:kl(r.slice(o+1));if(a in e){let u=e[a];vi(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function R1(n){let e="";for(let t in n){const i=n[t];if(t=e8(t),i==null){i!==void 0&&(e+=(e.length?"&":"")+t);continue}(vi(i)?i.map(r=>r&&rp(r)):[i&&rp(i)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+t,r!=null&&(e+="="+r))})}return e}function I8(n){const e={};for(const t in n){const i=n[t];i!==void 0&&(e[t]=vi(i)?i.map(s=>s==null?null:""+s):i==null?i:""+i)}return e}const j8=Symbol(""),D1=Symbol(""),Dd=Symbol(""),Lm=Symbol(""),ap=Symbol("");function Ca(){let n=[];function e(i){return n.push(i),()=>{const s=n.indexOf(i);s>-1&&n.splice(s,1)}}function t(){n=[]}return{add:e,list:()=>n.slice(),reset:t}}function Es(n,e,t,i,s,r=o=>o()){const o=i&&(i.enterCallbacks[s]=i.enterCallbacks[s]||[]);return()=>new Promise((a,l)=>{const u=p=>{p===!1?l(Zo(4,{from:t,to:e})):p instanceof Error?l(p):b8(p)?l(Zo(2,{from:e,to:p})):(o&&i.enterCallbacks[s]===o&&typeof p=="function"&&o.push(p),a())},d=r(()=>n.call(i&&i.instances[s],e,t,u));let f=Promise.resolve(d);n.length<3&&(f=f.then(u)),f.catch(p=>l(p))})}function Uh(n,e,t,i,s=r=>r()){const r=[];for(const o of n)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(g2(l)){const d=(l.__vccOpts||l)[e];d&&r.push(Es(d,t,i,o,a,s))}else{let u=l();r.push(()=>u.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const f=VC(d)?d.default:d;o.mods[a]=d,o.components[a]=f;const m=(f.__vccOpts||f)[e];return m&&Es(m,t,i,o,a,s)()}))}}return r}function I1(n){const e=hi(Dd),t=hi(Lm),i=yt(()=>{const l=Tt(n.to);return e.resolve(l)}),s=yt(()=>{const{matched:l}=i.value,{length:u}=l,d=l[u-1],f=t.matched;if(!d||!f.length)return-1;const p=f.findIndex(Uo.bind(null,d));if(p>-1)return p;const m=j1(l[u-2]);return u>1&&j1(d)===m&&f[f.length-1].path!==m?f.findIndex(Uo.bind(null,l[u-2])):p}),r=yt(()=>s.value>-1&&F8(t.params,i.value.params)),o=yt(()=>s.value>-1&&s.value===t.matched.length-1&&w2(t.params,i.value.params));function a(l={}){return B8(l)?e[Tt(n.replace)?"replace":"push"](Tt(n.to)).catch(el):Promise.resolve()}return{route:i,href:yt(()=>i.value.href),isActive:r,isExactActive:o,navigate:a}}const N8=Td({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:I1,setup(n,{slots:e}){const t=Vi(I1(n)),{options:i}=hi(Dd),s=yt(()=>({[N1(n.activeClass,i.linkActiveClass,"router-link-active")]:t.isActive,[N1(n.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:t.isExactActive}));return()=>{const r=e.default&&e.default(t);return n.custom?r:Ld("a",{"aria-current":t.isExactActive?n.ariaCurrentValue:null,href:t.href,onClick:t.navigate,class:s.value},r)}}}),z8=N8;function B8(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const e=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return n.preventDefault&&n.preventDefault(),!0}}function F8(n,e){for(const t in e){const i=e[t],s=n[t];if(typeof i=="string"){if(i!==s)return!1}else if(!vi(s)||s.length!==i.length||i.some((r,o)=>r!==s[o]))return!1}return!0}function j1(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const N1=(n,e,t)=>n!=null?n:e!=null?e:t,$8=Td({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(n,{attrs:e,slots:t}){const i=hi(ap),s=yt(()=>n.route||i.value),r=hi(D1,0),o=yt(()=>{let u=Tt(r);const{matched:d}=s.value;let f;for(;(f=d[u])&&!f.components;)u++;return u}),a=yt(()=>s.value.matched[o.value]);iu(D1,yt(()=>o.value+1)),iu(j8,a),iu(ap,s);const l=pe();return fi(()=>[l.value,a.value,n.name],([u,d,f],[p,m,_])=>{d&&(d.instances[f]=u,m&&m!==d&&u&&u===p&&(d.leaveGuards.size||(d.leaveGuards=m.leaveGuards),d.updateGuards.size||(d.updateGuards=m.updateGuards))),u&&d&&(!m||!Uo(d,m)||!p)&&(d.enterCallbacks[f]||[]).forEach(b=>b(u))},{flush:"post"}),()=>{const u=s.value,d=n.name,f=a.value,p=f&&f.components[d];if(!p)return z1(t.default,{Component:p,route:u});const m=f.props[d],_=m?m===!0?u.params:typeof m=="function"?m(u):m:null,k=Ld(p,at({},_,e,{onVnodeUnmounted:M=>{M.component.isUnmounted&&(f.instances[d]=null)},ref:l}));return z1(t.default,{Component:k,route:u})||k}}});function z1(n,e){if(!n)return null;const t=n(e);return t.length===1?t[0]:t}const H8=$8;function V8(n){const e=E8(n.routes,n),t=n.parseQuery||D8,i=n.stringifyQuery||R1,s=n.history,r=Ca(),o=Ca(),a=Ca(),l=$S(ws);let u=ws;yo&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=Vh.bind(null,X=>""+X),f=Vh.bind(null,n8),p=Vh.bind(null,kl);function m(X,ue){let me,Q;return S2(X)?(me=e.getRecordMatcher(X),Q=ue):Q=X,e.addRoute(Q,me)}function _(X){const ue=e.getRecordMatcher(X);ue&&e.removeRoute(ue)}function b(){return e.getRoutes().map(X=>X.record)}function k(X){return!!e.getRecordMatcher(X)}function M(X,ue){if(ue=at({},ue||l.value),typeof X=="string"){const F=Wh(t,X,ue.path),q=e.resolve({path:F.path},ue),oe=s.createHref(F.fullPath);return at(F,q,{params:p(q.params),hash:kl(F.hash),redirectedFrom:void 0,href:oe})}let me;if(X.path!=null)me=at({},X,{path:Wh(t,X.path,ue.path).path});else{const F=at({},X.params);for(const q in F)F[q]==null&&delete F[q];me=at({},X,{params:f(F)}),ue.params=f(ue.params)}const Q=e.resolve(me,ue),ie=X.hash||"";Q.params=d(p(Q.params));const he=r8(i,at({},X,{hash:QC(ie),path:Q.path})),j=s.createHref(he);return at({fullPath:he,hash:ie,query:i===R1?I8(X.query):X.query||{}},Q,{redirectedFrom:void 0,href:j})}function E(X){return typeof X=="string"?Wh(t,X,l.value.path):at({},X)}function A(X,ue){if(u!==X)return Zo(8,{from:ue,to:X})}function g(X){return S(X)}function w(X){return g(at(E(X),{replace:!0}))}function v(X){const ue=X.matched[X.matched.length-1];if(ue&&ue.redirect){const{redirect:me}=ue;let Q=typeof me=="function"?me(X):me;return typeof Q=="string"&&(Q=Q.includes("?")||Q.includes("#")?Q=E(Q):{path:Q},Q.params={}),at({query:X.query,hash:X.hash,params:Q.path!=null?{}:X.params},Q)}}function S(X,ue){const me=u=M(X),Q=l.value,ie=X.state,he=X.force,j=X.replace===!0,F=v(me);if(F)return S(at(E(F),{state:typeof F=="object"?at({},ie,F.state):ie,force:he,replace:j}),ue||me);const q=me;q.redirectedFrom=ue;let oe;return!he&&o8(i,Q,me)&&(oe=Zo(16,{to:q,from:Q}),te(Q,Q,!0,!1)),(oe?Promise.resolve(oe):I(q,Q)).catch(ne=>Yi(ne)?Yi(ne,2)?ne:G(ne):H(ne,q,Q)).then(ne=>{if(ne){if(Yi(ne,2))return S(at({replace:j},E(ne.to),{state:typeof ne.to=="object"?at({},ie,ne.to.state):ie,force:he}),ue||q)}else ne=B(q,Q,!0,j,ie);return N(q,Q,ne),ne})}function T(X,ue){const me=A(X,ue);return me?Promise.reject(me):Promise.resolve()}function O(X){const ue=Ee.values().next().value;return ue&&typeof ue.runWithContext=="function"?ue.runWithContext(X):X()}function I(X,ue){let me;const[Q,ie,he]=W8(X,ue);me=Uh(Q.reverse(),"beforeRouteLeave",X,ue);for(const F of Q)F.leaveGuards.forEach(q=>{me.push(Es(q,X,ue))});const j=T.bind(null,X,ue);return me.push(j),be(me).then(()=>{me=[];for(const F of r.list())me.push(Es(F,X,ue));return me.push(j),be(me)}).then(()=>{me=Uh(ie,"beforeRouteUpdate",X,ue);for(const F of ie)F.updateGuards.forEach(q=>{me.push(Es(q,X,ue))});return me.push(j),be(me)}).then(()=>{me=[];for(const F of he)if(F.beforeEnter)if(vi(F.beforeEnter))for(const q of F.beforeEnter)me.push(Es(q,X,ue));else me.push(Es(F.beforeEnter,X,ue));return me.push(j),be(me)}).then(()=>(X.matched.forEach(F=>F.enterCallbacks={}),me=Uh(he,"beforeRouteEnter",X,ue,O),me.push(j),be(me))).then(()=>{me=[];for(const F of o.list())me.push(Es(F,X,ue));return me.push(j),be(me)}).catch(F=>Yi(F,8)?F:Promise.reject(F))}function N(X,ue,me){a.list().forEach(Q=>O(()=>Q(X,ue,me)))}function B(X,ue,me,Q,ie){const he=A(X,ue);if(he)return he;const j=ue===ws,F=yo?history.state:{};me&&(Q||j?s.replace(X.fullPath,at({scroll:j&&F&&F.scroll},ie)):s.push(X.fullPath,ie)),l.value=X,te(X,ue,me,j),G()}let V;function W(){V||(V=s.listen((X,ue,me)=>{if(!Ce.listening)return;const Q=M(X),ie=v(Q);if(ie){S(at(ie,{replace:!0}),Q).catch(el);return}u=Q;const he=l.value;yo&&p8(S1(he.fullPath,me.delta),Rd()),I(Q,he).catch(j=>Yi(j,12)?j:Yi(j,2)?(S(j.to,Q).then(F=>{Yi(F,20)&&!me.delta&&me.type===Sl.pop&&s.go(-1,!1)}).catch(el),Promise.reject()):(me.delta&&s.go(-me.delta,!1),H(j,Q,he))).then(j=>{j=j||B(Q,he,!1),j&&(me.delta&&!Yi(j,8)?s.go(-me.delta,!1):me.type===Sl.pop&&Yi(j,20)&&s.go(-1,!1)),N(Q,he,j)}).catch(el)}))}let Z=Ca(),R=Ca(),z;function H(X,ue,me){G(X);const Q=R.list();return Q.length?Q.forEach(ie=>ie(X,ue,me)):console.error(X),Promise.reject(X)}function ee(){return z&&l.value!==ws?Promise.resolve():new Promise((X,ue)=>{Z.add([X,ue])})}function G(X){return z||(z=!X,W(),Z.list().forEach(([ue,me])=>X?me(X):ue()),Z.reset()),X}function te(X,ue,me,Q){const{scrollBehavior:ie}=n;if(!yo||!ie)return Promise.resolve();const he=!me&&m8(S1(X.fullPath,0))||(Q||!me)&&history.state&&history.state.scroll||null;return Lo().then(()=>ie(X,ue,he)).then(j=>j&&f8(j)).catch(j=>H(j,X,ue))}const we=X=>s.go(X);let Te;const Ee=new Set,Ce={currentRoute:l,listening:!0,addRoute:m,removeRoute:_,clearRoutes:e.clearRoutes,hasRoute:k,getRoutes:b,resolve:M,options:n,push:g,replace:w,go:we,back:()=>we(-1),forward:()=>we(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:R.add,isReady:ee,install(X){const ue=this;X.component("RouterLink",z8),X.component("RouterView",H8),X.config.globalProperties.$router=ue,Object.defineProperty(X.config.globalProperties,"$route",{enumerable:!0,get:()=>Tt(l)}),yo&&!Te&&l.value===ws&&(Te=!0,g(s.location).catch(ie=>{}));const me={};for(const ie in ws)Object.defineProperty(me,ie,{get:()=>l.value[ie],enumerable:!0});X.provide(Dd,ue),X.provide(Lm,bb(me)),X.provide(ap,l);const Q=X.unmount;Ee.add(X),X.unmount=function(){Ee.delete(X),Ee.size<1&&(u=ws,V&&V(),V=null,l.value=ws,Te=!1,z=!1),Q()}}};function be(X){return X.reduce((ue,me)=>ue.then(()=>O(me)),Promise.resolve())}return Ce}function W8(n,e){const t=[],i=[],s=[],r=Math.max(e.matched.length,n.matched.length);for(let o=0;o<r;o++){const a=e.matched[o];a&&(n.matched.find(u=>Uo(u,a))?i.push(a):t.push(a));const l=n.matched[o];l&&(e.matched.find(u=>Uo(u,l))||s.push(l))}return[t,i,s]}function Kl(){return hi(Dd)}function Rm(n){return hi(Lm)}const Vn=(n,e)=>{const t=n.__vccOpts||n;for(const[i,s]of e)t[i]=s;return t},U8={key:0,class:"mb-6"},Z8={class:"flex items-center justify-between mb-4"},K8={class:"overflow-x-auto pb-2"},q8={class:"flex space-x-4"},G8=["onClick"],J8={class:"flex gap-2 mb-3"},Y8={key:1,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800"},X8={key:3,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},Q8={class:"text-sm text-gray-500 mb-1"},eT={class:"font-medium text-gray-900 mb-1"},tT={class:"text-sm text-gray-600 mb-3 line-clamp-2"},nT={key:0,class:"flex items-center text-sm text-blue-600 mb-3"},iT={class:"flex justify-between text-sm mb-1"},sT={class:"w-full bg-gray-200 rounded-full h-2"},rT={key:1,class:"mb-6"},oT={key:2,class:"mb-6"},aT={__name:"UserTasks",setup(n){Kl();const e=pe([]),t=pe(!0),i=pe(null),s=()=>Ke(this,null,function*(){try{return(yield(yield fetch("/api/method/frappe.auth.get_logged_user")).json()).message}catch(u){return console.error("Error getting current user:",u),"Administrator"}}),r=()=>Ke(this,null,function*(){i.value=yield s();try{if(t.value=!0,!i.value){console.error("Could not determine current user");return}console.log("Fetching tasks for user:",i.value);let f=(yield(yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({doctype:"Task",fields:["name","subject","status","priority","description","exp_end_date","progress","owner","_assign"],filters:{_assign:["like",`%${i.value}%`],status:["!=","Completed"]},limit:10,order_by:"exp_end_date asc"})})).json()).message||[],_=(yield(yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({doctype:"Task",fields:["name","subject","status","priority","description","exp_end_date","progress","owner","_assign"],filters:{owner:i.value,status:["!=","Completed"]},limit:10,order_by:"exp_end_date asc"})})).json()).message||[];const b=[...f];_.forEach(M=>{b.some(E=>E.name===M.name)||b.push(M)}),console.log("Combined tasks found:",b.length);const k=yield Promise.all(b.map(M=>Ke(this,null,function*(){try{if(M.owner){const E=yield fetch("/api/method/frappe.client.get",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({doctype:"User",name:M.owner})});if(E.ok){const A=yield E.json();if(A.message)return $e(ce({},M),{owner_name:A.message.full_name||A.message.first_name})}}return M}catch(E){return console.error("Error fetching user details:",E),M}})));e.value=k,console.log("User tasks with owner names:",e.value)}catch(u){console.error("Error fetching user tasks:",u),e.value=[]}finally{t.value=!1}}),o=u=>u?new Date(u).toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric"}):"",a=u=>{if(!u.exp_end_date)return!1;const d=new Date(u.exp_end_date),f=new Date;return f.setHours(0,0,0,0),d<f&&u.status!=="Completed"},l=u=>{if(!u._assign)return!1;try{return JSON.parse(u._assign).includes(i.value)}catch(d){return console.error("Error parsing _assign field:",d),!1}};return ii(()=>Ke(this,null,function*(){yield r()})),(u,d)=>!t.value&&e.value.length>0?(K(),Y("div",U8,[P("div",Z8,[d[2]||(d[2]=P("h2",{class:"text-lg font-semibold text-gray-800"},"My Tasks",-1)),P("button",{onClick:d[0]||(d[0]=f=>u.$router.push("/task")),class:"text-sm text-blue-600 hover:text-blue-800 flex items-center"},d[1]||(d[1]=[Ht(" View All "),P("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]))]),P("div",K8,[P("div",q8,[(K(!0),Y(xt,null,Ws(e.value,f=>(K(),Y("div",{key:f.name,onClick:p=>u.$router.push(`/task/${f.name}`),class:"bg-white rounded-lg shadow-sm p-4 min-w-[280px] max-w-[320px] cursor-pointer hover:shadow-md transition-shadow"},[P("div",J8,[f.status?(K(),Y("span",{key:0,class:Ye(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",{"bg-green-100 text-green-800":f.status==="Completed","bg-blue-100 text-blue-800":f.status==="Working","bg-yellow-100 text-yellow-800":f.status==="Pending","bg-purple-100 text-purple-800":f.status==="Open","bg-gray-100 text-gray-800":!["Completed","Working","Pending","Open"].includes(f.status)}])},xe(f.status),3)):Ae("",!0),a(f)?(K(),Y("span",Y8,d[3]||(d[3]=[P("span",{class:"w-1.5 h-1.5 bg-red-500 rounded-full mr-1"},null,-1),Ht(" Overdue ")]))):Ae("",!0),f.priority?(K(),Y("span",{key:2,class:Ye(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",{"bg-red-100 text-red-800":f.priority==="High","bg-yellow-100 text-yellow-800":f.priority==="Medium","bg-green-100 text-green-800":f.priority==="Low","bg-orange-100 text-orange-800":!["High","Medium","Low"].includes(f.priority)}])},xe(f.priority),3)):Ae("",!0),l(f)?(K(),Y("span",X8," Assigned ")):Ae("",!0)]),P("div",Q8," Created by "+xe(f.owner_name||f.owner||"Unknown"),1),P("h3",eT,xe(f.subject||f.name),1),P("p",tT,xe(f.description||"No description"),1),f.exp_end_date?(K(),Y("div",nT,[d[4]||(d[4]=P("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),Ht(" "+xe(o(f.exp_end_date)),1)])):Ae("",!0),P("div",null,[P("div",iT,[d[5]||(d[5]=P("span",null,"Progress",-1)),P("span",null,xe(f.progress||0)+"%",1)]),P("div",sT,[P("div",{class:"bg-blue-600 h-2 rounded-full",style:Hl({width:`${f.progress||0}%`})},null,4)])])],8,G8))),128))])])])):t.value?(K(),Y("div",rT,d[6]||(d[6]=[Io('<div class="flex items-center justify-between mb-4" data-v-5d620602><h2 class="text-lg font-semibold text-gray-800" data-v-5d620602>My Tasks</h2></div><div class="bg-white rounded-lg shadow-sm p-4 animate-pulse" data-v-5d620602><div class="h-4 bg-gray-200 rounded w-1/4 mb-2" data-v-5d620602></div><div class="h-6 bg-gray-200 rounded w-3/4 mb-2" data-v-5d620602></div><div class="h-4 bg-gray-200 rounded w-1/2 mb-4" data-v-5d620602></div><div class="h-2 bg-gray-200 rounded w-full" data-v-5d620602></div></div>',2)]))):(K(),Y("div",oT,d[7]||(d[7]=[P("div",{class:"flex items-center justify-between mb-4"},[P("h2",{class:"text-lg font-semibold text-gray-800"},"My Tasks")],-1),P("div",{class:"bg-white rounded-lg shadow-sm p-4 text-center text-gray-500"}," No active tasks found ",-1)])))}},lT=Vn(aT,[["__scopeId","data-v-5d620602"]]);var Dm=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Im(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var lp={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(n,e){(function(t,i){i(e)})(Dm,function(t){var i="1.9.4";function s(c){var h,y,x,C;for(y=1,x=arguments.length;y<x;y++){C=arguments[y];for(h in C)c[h]=C[h]}return c}var r=Object.create||function(){function c(){}return function(h){return c.prototype=h,new c}}();function o(c,h){var y=Array.prototype.slice;if(c.bind)return c.bind.apply(c,y.call(arguments,1));var x=y.call(arguments,2);return function(){return c.apply(h,x.length?x.concat(y.call(arguments)):arguments)}}var a=0;function l(c){return"_leaflet_id"in c||(c._leaflet_id=++a),c._leaflet_id}function u(c,h,y){var x,C,D,$;return $=function(){x=!1,C&&(D.apply(y,C),C=!1)},D=function(){x?C=arguments:(c.apply(y,arguments),setTimeout($,h),x=!0)},D}function d(c,h,y){var x=h[1],C=h[0],D=x-C;return c===x&&y?c:((c-C)%D+D)%D+C}function f(){return!1}function p(c,h){if(h===!1)return c;var y=Math.pow(10,h===void 0?6:h);return Math.round(c*y)/y}function m(c){return c.trim?c.trim():c.replace(/^\s+|\s+$/g,"")}function _(c){return m(c).split(/\s+/)}function b(c,h){Object.prototype.hasOwnProperty.call(c,"options")||(c.options=c.options?r(c.options):{});for(var y in h)c.options[y]=h[y];return c.options}function k(c,h,y){var x=[];for(var C in c)x.push(encodeURIComponent(y?C.toUpperCase():C)+"="+encodeURIComponent(c[C]));return(!h||h.indexOf("?")===-1?"?":"&")+x.join("&")}var M=/\{ *([\w_ -]+) *\}/g;function E(c,h){return c.replace(M,function(y,x){var C=h[x];if(C===void 0)throw new Error("No value provided for variable "+y);return typeof C=="function"&&(C=C(h)),C})}var A=Array.isArray||function(c){return Object.prototype.toString.call(c)==="[object Array]"};function g(c,h){for(var y=0;y<c.length;y++)if(c[y]===h)return y;return-1}var w="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function v(c){return window["webkit"+c]||window["moz"+c]||window["ms"+c]}var S=0;function T(c){var h=+new Date,y=Math.max(0,16-(h-S));return S=h+y,window.setTimeout(c,y)}var O=window.requestAnimationFrame||v("RequestAnimationFrame")||T,I=window.cancelAnimationFrame||v("CancelAnimationFrame")||v("CancelRequestAnimationFrame")||function(c){window.clearTimeout(c)};function N(c,h,y){if(y&&O===T)c.call(h);else return O.call(window,o(c,h))}function B(c){c&&I.call(window,c)}var V={__proto__:null,extend:s,create:r,bind:o,get lastId(){return a},stamp:l,throttle:u,wrapNum:d,falseFn:f,formatNum:p,trim:m,splitWords:_,setOptions:b,getParamString:k,template:E,isArray:A,indexOf:g,emptyImageUrl:w,requestFn:O,cancelFn:I,requestAnimFrame:N,cancelAnimFrame:B};function W(){}W.extend=function(c){var h=function(){b(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},y=h.__super__=this.prototype,x=r(y);x.constructor=h,h.prototype=x;for(var C in this)Object.prototype.hasOwnProperty.call(this,C)&&C!=="prototype"&&C!=="__super__"&&(h[C]=this[C]);return c.statics&&s(h,c.statics),c.includes&&(Z(c.includes),s.apply(null,[x].concat(c.includes))),s(x,c),delete x.statics,delete x.includes,x.options&&(x.options=y.options?r(y.options):{},s(x.options,c.options)),x._initHooks=[],x.callInitHooks=function(){if(!this._initHooksCalled){y.callInitHooks&&y.callInitHooks.call(this),this._initHooksCalled=!0;for(var D=0,$=x._initHooks.length;D<$;D++)x._initHooks[D].call(this)}},h},W.include=function(c){var h=this.prototype.options;return s(this.prototype,c),c.options&&(this.prototype.options=h,this.mergeOptions(c.options)),this},W.mergeOptions=function(c){return s(this.prototype.options,c),this},W.addInitHook=function(c){var h=Array.prototype.slice.call(arguments,1),y=typeof c=="function"?c:function(){this[c].apply(this,h)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(y),this};function Z(c){if(!(typeof L=="undefined"||!L||!L.Mixin)){c=A(c)?c:[c];for(var h=0;h<c.length;h++)c[h]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var R={on:function(c,h,y){if(typeof c=="object")for(var x in c)this._on(x,c[x],h);else{c=_(c);for(var C=0,D=c.length;C<D;C++)this._on(c[C],h,y)}return this},off:function(c,h,y){if(!arguments.length)delete this._events;else if(typeof c=="object")for(var x in c)this._off(x,c[x],h);else{c=_(c);for(var C=arguments.length===1,D=0,$=c.length;D<$;D++)C?this._off(c[D]):this._off(c[D],h,y)}return this},_on:function(c,h,y,x){if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}if(this._listens(c,h,y)===!1){y===this&&(y=void 0);var C={fn:h,ctx:y};x&&(C.once=!0),this._events=this._events||{},this._events[c]=this._events[c]||[],this._events[c].push(C)}},_off:function(c,h,y){var x,C,D;if(this._events&&(x=this._events[c],!!x)){if(arguments.length===1){if(this._firingCount)for(C=0,D=x.length;C<D;C++)x[C].fn=f;delete this._events[c];return}if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}var $=this._listens(c,h,y);if($!==!1){var U=x[$];this._firingCount&&(U.fn=f,this._events[c]=x=x.slice()),x.splice($,1)}}},fire:function(c,h,y){if(!this.listens(c,y))return this;var x=s({},h,{type:c,target:this,sourceTarget:h&&h.sourceTarget||this});if(this._events){var C=this._events[c];if(C){this._firingCount=this._firingCount+1||1;for(var D=0,$=C.length;D<$;D++){var U=C[D],J=U.fn;U.once&&this.off(c,J,U.ctx),J.call(U.ctx||this,x)}this._firingCount--}}return y&&this._propagateEvent(x),this},listens:function(c,h,y,x){typeof c!="string"&&console.warn('"string" type argument expected');var C=h;typeof h!="function"&&(x=!!h,C=void 0,y=void 0);var D=this._events&&this._events[c];if(D&&D.length&&this._listens(c,C,y)!==!1)return!0;if(x){for(var $ in this._eventParents)if(this._eventParents[$].listens(c,h,y,x))return!0}return!1},_listens:function(c,h,y){if(!this._events)return!1;var x=this._events[c]||[];if(!h)return!!x.length;y===this&&(y=void 0);for(var C=0,D=x.length;C<D;C++)if(x[C].fn===h&&x[C].ctx===y)return C;return!1},once:function(c,h,y){if(typeof c=="object")for(var x in c)this._on(x,c[x],h,!0);else{c=_(c);for(var C=0,D=c.length;C<D;C++)this._on(c[C],h,y,!0)}return this},addEventParent:function(c){return this._eventParents=this._eventParents||{},this._eventParents[l(c)]=c,this},removeEventParent:function(c){return this._eventParents&&delete this._eventParents[l(c)],this},_propagateEvent:function(c){for(var h in this._eventParents)this._eventParents[h].fire(c.type,s({layer:c.target,propagatedFrom:c.target},c),!0)}};R.addEventListener=R.on,R.removeEventListener=R.clearAllEventListeners=R.off,R.addOneTimeEventListener=R.once,R.fireEvent=R.fire,R.hasEventListeners=R.listens;var z=W.extend(R);function H(c,h,y){this.x=y?Math.round(c):c,this.y=y?Math.round(h):h}var ee=Math.trunc||function(c){return c>0?Math.floor(c):Math.ceil(c)};H.prototype={clone:function(){return new H(this.x,this.y)},add:function(c){return this.clone()._add(G(c))},_add:function(c){return this.x+=c.x,this.y+=c.y,this},subtract:function(c){return this.clone()._subtract(G(c))},_subtract:function(c){return this.x-=c.x,this.y-=c.y,this},divideBy:function(c){return this.clone()._divideBy(c)},_divideBy:function(c){return this.x/=c,this.y/=c,this},multiplyBy:function(c){return this.clone()._multiplyBy(c)},_multiplyBy:function(c){return this.x*=c,this.y*=c,this},scaleBy:function(c){return new H(this.x*c.x,this.y*c.y)},unscaleBy:function(c){return new H(this.x/c.x,this.y/c.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ee(this.x),this.y=ee(this.y),this},distanceTo:function(c){c=G(c);var h=c.x-this.x,y=c.y-this.y;return Math.sqrt(h*h+y*y)},equals:function(c){return c=G(c),c.x===this.x&&c.y===this.y},contains:function(c){return c=G(c),Math.abs(c.x)<=Math.abs(this.x)&&Math.abs(c.y)<=Math.abs(this.y)},toString:function(){return"Point("+p(this.x)+", "+p(this.y)+")"}};function G(c,h,y){return c instanceof H?c:A(c)?new H(c[0],c[1]):c==null?c:typeof c=="object"&&"x"in c&&"y"in c?new H(c.x,c.y):new H(c,h,y)}function te(c,h){if(c)for(var y=h?[c,h]:c,x=0,C=y.length;x<C;x++)this.extend(y[x])}te.prototype={extend:function(c){var h,y;if(!c)return this;if(c instanceof H||typeof c[0]=="number"||"x"in c)h=y=G(c);else if(c=we(c),h=c.min,y=c.max,!h||!y)return this;return!this.min&&!this.max?(this.min=h.clone(),this.max=y.clone()):(this.min.x=Math.min(h.x,this.min.x),this.max.x=Math.max(y.x,this.max.x),this.min.y=Math.min(h.y,this.min.y),this.max.y=Math.max(y.y,this.max.y)),this},getCenter:function(c){return G((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,c)},getBottomLeft:function(){return G(this.min.x,this.max.y)},getTopRight:function(){return G(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(c){var h,y;return typeof c[0]=="number"||c instanceof H?c=G(c):c=we(c),c instanceof te?(h=c.min,y=c.max):h=y=c,h.x>=this.min.x&&y.x<=this.max.x&&h.y>=this.min.y&&y.y<=this.max.y},intersects:function(c){c=we(c);var h=this.min,y=this.max,x=c.min,C=c.max,D=C.x>=h.x&&x.x<=y.x,$=C.y>=h.y&&x.y<=y.y;return D&&$},overlaps:function(c){c=we(c);var h=this.min,y=this.max,x=c.min,C=c.max,D=C.x>h.x&&x.x<y.x,$=C.y>h.y&&x.y<y.y;return D&&$},isValid:function(){return!!(this.min&&this.max)},pad:function(c){var h=this.min,y=this.max,x=Math.abs(h.x-y.x)*c,C=Math.abs(h.y-y.y)*c;return we(G(h.x-x,h.y-C),G(y.x+x,y.y+C))},equals:function(c){return c?(c=we(c),this.min.equals(c.getTopLeft())&&this.max.equals(c.getBottomRight())):!1}};function we(c,h){return!c||c instanceof te?c:new te(c,h)}function Te(c,h){if(c)for(var y=h?[c,h]:c,x=0,C=y.length;x<C;x++)this.extend(y[x])}Te.prototype={extend:function(c){var h=this._southWest,y=this._northEast,x,C;if(c instanceof Ce)x=c,C=c;else if(c instanceof Te){if(x=c._southWest,C=c._northEast,!x||!C)return this}else return c?this.extend(be(c)||Ee(c)):this;return!h&&!y?(this._southWest=new Ce(x.lat,x.lng),this._northEast=new Ce(C.lat,C.lng)):(h.lat=Math.min(x.lat,h.lat),h.lng=Math.min(x.lng,h.lng),y.lat=Math.max(C.lat,y.lat),y.lng=Math.max(C.lng,y.lng)),this},pad:function(c){var h=this._southWest,y=this._northEast,x=Math.abs(h.lat-y.lat)*c,C=Math.abs(h.lng-y.lng)*c;return new Te(new Ce(h.lat-x,h.lng-C),new Ce(y.lat+x,y.lng+C))},getCenter:function(){return new Ce((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Ce(this.getNorth(),this.getWest())},getSouthEast:function(){return new Ce(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(c){typeof c[0]=="number"||c instanceof Ce||"lat"in c?c=be(c):c=Ee(c);var h=this._southWest,y=this._northEast,x,C;return c instanceof Te?(x=c.getSouthWest(),C=c.getNorthEast()):x=C=c,x.lat>=h.lat&&C.lat<=y.lat&&x.lng>=h.lng&&C.lng<=y.lng},intersects:function(c){c=Ee(c);var h=this._southWest,y=this._northEast,x=c.getSouthWest(),C=c.getNorthEast(),D=C.lat>=h.lat&&x.lat<=y.lat,$=C.lng>=h.lng&&x.lng<=y.lng;return D&&$},overlaps:function(c){c=Ee(c);var h=this._southWest,y=this._northEast,x=c.getSouthWest(),C=c.getNorthEast(),D=C.lat>h.lat&&x.lat<y.lat,$=C.lng>h.lng&&x.lng<y.lng;return D&&$},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(c,h){return c?(c=Ee(c),this._southWest.equals(c.getSouthWest(),h)&&this._northEast.equals(c.getNorthEast(),h)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Ee(c,h){return c instanceof Te?c:new Te(c,h)}function Ce(c,h,y){if(isNaN(c)||isNaN(h))throw new Error("Invalid LatLng object: ("+c+", "+h+")");this.lat=+c,this.lng=+h,y!==void 0&&(this.alt=+y)}Ce.prototype={equals:function(c,h){if(!c)return!1;c=be(c);var y=Math.max(Math.abs(this.lat-c.lat),Math.abs(this.lng-c.lng));return y<=(h===void 0?1e-9:h)},toString:function(c){return"LatLng("+p(this.lat,c)+", "+p(this.lng,c)+")"},distanceTo:function(c){return ue.distance(this,be(c))},wrap:function(){return ue.wrapLatLng(this)},toBounds:function(c){var h=180*c/40075017,y=h/Math.cos(Math.PI/180*this.lat);return Ee([this.lat-h,this.lng-y],[this.lat+h,this.lng+y])},clone:function(){return new Ce(this.lat,this.lng,this.alt)}};function be(c,h,y){return c instanceof Ce?c:A(c)&&typeof c[0]!="object"?c.length===3?new Ce(c[0],c[1],c[2]):c.length===2?new Ce(c[0],c[1]):null:c==null?c:typeof c=="object"&&"lat"in c?new Ce(c.lat,"lng"in c?c.lng:c.lon,c.alt):h===void 0?null:new Ce(c,h,y)}var X={latLngToPoint:function(c,h){var y=this.projection.project(c),x=this.scale(h);return this.transformation._transform(y,x)},pointToLatLng:function(c,h){var y=this.scale(h),x=this.transformation.untransform(c,y);return this.projection.unproject(x)},project:function(c){return this.projection.project(c)},unproject:function(c){return this.projection.unproject(c)},scale:function(c){return 256*Math.pow(2,c)},zoom:function(c){return Math.log(c/256)/Math.LN2},getProjectedBounds:function(c){if(this.infinite)return null;var h=this.projection.bounds,y=this.scale(c),x=this.transformation.transform(h.min,y),C=this.transformation.transform(h.max,y);return new te(x,C)},infinite:!1,wrapLatLng:function(c){var h=this.wrapLng?d(c.lng,this.wrapLng,!0):c.lng,y=this.wrapLat?d(c.lat,this.wrapLat,!0):c.lat,x=c.alt;return new Ce(y,h,x)},wrapLatLngBounds:function(c){var h=c.getCenter(),y=this.wrapLatLng(h),x=h.lat-y.lat,C=h.lng-y.lng;if(x===0&&C===0)return c;var D=c.getSouthWest(),$=c.getNorthEast(),U=new Ce(D.lat-x,D.lng-C),J=new Ce($.lat-x,$.lng-C);return new Te(U,J)}},ue=s({},X,{wrapLng:[-180,180],R:6371e3,distance:function(c,h){var y=Math.PI/180,x=c.lat*y,C=h.lat*y,D=Math.sin((h.lat-c.lat)*y/2),$=Math.sin((h.lng-c.lng)*y/2),U=D*D+Math.cos(x)*Math.cos(C)*$*$,J=2*Math.atan2(Math.sqrt(U),Math.sqrt(1-U));return this.R*J}}),me=6378137,Q={R:me,MAX_LATITUDE:85.0511287798,project:function(c){var h=Math.PI/180,y=this.MAX_LATITUDE,x=Math.max(Math.min(y,c.lat),-y),C=Math.sin(x*h);return new H(this.R*c.lng*h,this.R*Math.log((1+C)/(1-C))/2)},unproject:function(c){var h=180/Math.PI;return new Ce((2*Math.atan(Math.exp(c.y/this.R))-Math.PI/2)*h,c.x*h/this.R)},bounds:function(){var c=me*Math.PI;return new te([-c,-c],[c,c])}()};function ie(c,h,y,x){if(A(c)){this._a=c[0],this._b=c[1],this._c=c[2],this._d=c[3];return}this._a=c,this._b=h,this._c=y,this._d=x}ie.prototype={transform:function(c,h){return this._transform(c.clone(),h)},_transform:function(c,h){return h=h||1,c.x=h*(this._a*c.x+this._b),c.y=h*(this._c*c.y+this._d),c},untransform:function(c,h){return h=h||1,new H((c.x/h-this._b)/this._a,(c.y/h-this._d)/this._c)}};function he(c,h,y,x){return new ie(c,h,y,x)}var j=s({},ue,{code:"EPSG:3857",projection:Q,transformation:function(){var c=.5/(Math.PI*Q.R);return he(c,.5,-c,.5)}()}),F=s({},j,{code:"EPSG:900913"});function q(c){return document.createElementNS("http://www.w3.org/2000/svg",c)}function oe(c,h){var y="",x,C,D,$,U,J;for(x=0,D=c.length;x<D;x++){for(U=c[x],C=0,$=U.length;C<$;C++)J=U[C],y+=(C?"L":"M")+J.x+" "+J.y;y+=h?Re.svg?"z":"x":""}return y||"M0 0"}var ne=document.documentElement.style,ae="ActiveXObject"in window,ve=ae&&!document.addEventListener,ge="msLaunchUri"in navigator&&!("documentMode"in document),fe=wi("webkit"),le=wi("android"),Ie=wi("android 2")||wi("android 3"),ke=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Le=le&&wi("Google")&&ke<537&&!("AudioNode"in window),Ne=!!window.opera,Ge=!ge&&wi("chrome"),ot=wi("gecko")&&!fe&&!Ne&&!ae,st=!Ge&&wi("safari"),on=wi("phantom"),Ft="OTransition"in ne,In=navigator.platform.indexOf("Win")===0,an=ae&&"transition"in ne,Ui="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ie,ca="MozPerspective"in ne,_n=!window.L_DISABLE_3D&&(an||Ui||ca)&&!Ft&&!on,ln=typeof orientation!="undefined"||wi("mobile"),ec=ln&&fe,Hk=ln&&Ui,Ig=!window.PointerEvent&&window.MSPointerEvent,jg=!!(window.PointerEvent||Ig),Ng="ontouchstart"in window||!!window.TouchEvent,Vk=!window.L_NO_TOUCH&&(Ng||jg),Wk=ln&&Ne,Uk=ln&&ot,Zk=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Kk=function(){var c=!1;try{var h=Object.defineProperty({},"passive",{get:function(){c=!0}});window.addEventListener("testPassiveEventSupport",f,h),window.removeEventListener("testPassiveEventSupport",f,h)}catch(y){}return c}(),qk=function(){return!!document.createElement("canvas").getContext}(),nh=!!(document.createElementNS&&q("svg").createSVGRect),Gk=!!nh&&function(){var c=document.createElement("div");return c.innerHTML="<svg/>",(c.firstChild&&c.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Jk=!nh&&function(){try{var c=document.createElement("div");c.innerHTML='<v:shape adj="1"/>';var h=c.firstChild;return h.style.behavior="url(#default#VML)",h&&typeof h.adj=="object"}catch(y){return!1}}(),Yk=navigator.platform.indexOf("Mac")===0,Xk=navigator.platform.indexOf("Linux")===0;function wi(c){return navigator.userAgent.toLowerCase().indexOf(c)>=0}var Re={ie:ae,ielt9:ve,edge:ge,webkit:fe,android:le,android23:Ie,androidStock:Le,opera:Ne,chrome:Ge,gecko:ot,safari:st,phantom:on,opera12:Ft,win:In,ie3d:an,webkit3d:Ui,gecko3d:ca,any3d:_n,mobile:ln,mobileWebkit:ec,mobileWebkit3d:Hk,msPointer:Ig,pointer:jg,touch:Vk,touchNative:Ng,mobileOpera:Wk,mobileGecko:Uk,retina:Zk,passiveEvents:Kk,canvas:qk,svg:nh,vml:Jk,inlineSvg:Gk,mac:Yk,linux:Xk},zg=Re.msPointer?"MSPointerDown":"pointerdown",Bg=Re.msPointer?"MSPointerMove":"pointermove",Fg=Re.msPointer?"MSPointerUp":"pointerup",$g=Re.msPointer?"MSPointerCancel":"pointercancel",ih={touchstart:zg,touchmove:Bg,touchend:Fg,touchcancel:$g},Hg={touchstart:s3,touchmove:tc,touchend:tc,touchcancel:tc},to={},Vg=!1;function Qk(c,h,y){return h==="touchstart"&&i3(),Hg[h]?(y=Hg[h].bind(this,y),c.addEventListener(ih[h],y,!1),y):(console.warn("wrong event specified:",h),f)}function e3(c,h,y){if(!ih[h]){console.warn("wrong event specified:",h);return}c.removeEventListener(ih[h],y,!1)}function t3(c){to[c.pointerId]=c}function n3(c){to[c.pointerId]&&(to[c.pointerId]=c)}function Wg(c){delete to[c.pointerId]}function i3(){Vg||(document.addEventListener(zg,t3,!0),document.addEventListener(Bg,n3,!0),document.addEventListener(Fg,Wg,!0),document.addEventListener($g,Wg,!0),Vg=!0)}function tc(c,h){if(h.pointerType!==(h.MSPOINTER_TYPE_MOUSE||"mouse")){h.touches=[];for(var y in to)h.touches.push(to[y]);h.changedTouches=[h],c(h)}}function s3(c,h){h.MSPOINTER_TYPE_TOUCH&&h.pointerType===h.MSPOINTER_TYPE_TOUCH&&Qt(h),tc(c,h)}function r3(c){var h={},y,x;for(x in c)y=c[x],h[x]=y&&y.bind?y.bind(c):y;return c=h,h.type="dblclick",h.detail=2,h.isTrusted=!1,h._simulated=!0,h}var o3=200;function a3(c,h){c.addEventListener("dblclick",h);var y=0,x;function C(D){if(D.detail!==1){x=D.detail;return}if(!(D.pointerType==="mouse"||D.sourceCapabilities&&!D.sourceCapabilities.firesTouchEvents)){var $=Gg(D);if(!($.some(function(J){return J instanceof HTMLLabelElement&&J.attributes.for})&&!$.some(function(J){return J instanceof HTMLInputElement||J instanceof HTMLSelectElement}))){var U=Date.now();U-y<=o3?(x++,x===2&&h(r3(D))):x=1,y=U}}}return c.addEventListener("click",C),{dblclick:h,simDblclick:C}}function l3(c,h){c.removeEventListener("dblclick",h.dblclick),c.removeEventListener("click",h.simDblclick)}var sh=sc(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ua=sc(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ug=ua==="webkitTransition"||ua==="OTransition"?ua+"End":"transitionend";function Zg(c){return typeof c=="string"?document.getElementById(c):c}function da(c,h){var y=c.style[h]||c.currentStyle&&c.currentStyle[h];if((!y||y==="auto")&&document.defaultView){var x=document.defaultView.getComputedStyle(c,null);y=x?x[h]:null}return y==="auto"?null:y}function nt(c,h,y){var x=document.createElement(c);return x.className=h||"",y&&y.appendChild(x),x}function Mt(c){var h=c.parentNode;h&&h.removeChild(c)}function nc(c){for(;c.firstChild;)c.removeChild(c.firstChild)}function no(c){var h=c.parentNode;h&&h.lastChild!==c&&h.appendChild(c)}function io(c){var h=c.parentNode;h&&h.firstChild!==c&&h.insertBefore(c,h.firstChild)}function rh(c,h){if(c.classList!==void 0)return c.classList.contains(h);var y=ic(c);return y.length>0&&new RegExp("(^|\\s)"+h+"(\\s|$)").test(y)}function Ze(c,h){if(c.classList!==void 0)for(var y=_(h),x=0,C=y.length;x<C;x++)c.classList.add(y[x]);else if(!rh(c,h)){var D=ic(c);oh(c,(D?D+" ":"")+h)}}function Rt(c,h){c.classList!==void 0?c.classList.remove(h):oh(c,m((" "+ic(c)+" ").replace(" "+h+" "," ")))}function oh(c,h){c.className.baseVal===void 0?c.className=h:c.className.baseVal=h}function ic(c){return c.correspondingElement&&(c=c.correspondingElement),c.className.baseVal===void 0?c.className:c.className.baseVal}function Wn(c,h){"opacity"in c.style?c.style.opacity=h:"filter"in c.style&&c3(c,h)}function c3(c,h){var y=!1,x="DXImageTransform.Microsoft.Alpha";try{y=c.filters.item(x)}catch(C){if(h===1)return}h=Math.round(h*100),y?(y.Enabled=h!==100,y.Opacity=h):c.style.filter+=" progid:"+x+"(opacity="+h+")"}function sc(c){for(var h=document.documentElement.style,y=0;y<c.length;y++)if(c[y]in h)return c[y];return!1}function lr(c,h,y){var x=h||new H(0,0);c.style[sh]=(Re.ie3d?"translate("+x.x+"px,"+x.y+"px)":"translate3d("+x.x+"px,"+x.y+"px,0)")+(y?" scale("+y+")":"")}function It(c,h){c._leaflet_pos=h,Re.any3d?lr(c,h):(c.style.left=h.x+"px",c.style.top=h.y+"px")}function cr(c){return c._leaflet_pos||new H(0,0)}var ha,fa,ah;if("onselectstart"in document)ha=function(){Ve(window,"selectstart",Qt)},fa=function(){pt(window,"selectstart",Qt)};else{var pa=sc(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ha=function(){if(pa){var c=document.documentElement.style;ah=c[pa],c[pa]="none"}},fa=function(){pa&&(document.documentElement.style[pa]=ah,ah=void 0)}}function lh(){Ve(window,"dragstart",Qt)}function ch(){pt(window,"dragstart",Qt)}var rc,uh;function dh(c){for(;c.tabIndex===-1;)c=c.parentNode;c.style&&(oc(),rc=c,uh=c.style.outlineStyle,c.style.outlineStyle="none",Ve(window,"keydown",oc))}function oc(){rc&&(rc.style.outlineStyle=uh,rc=void 0,uh=void 0,pt(window,"keydown",oc))}function Kg(c){do c=c.parentNode;while((!c.offsetWidth||!c.offsetHeight)&&c!==document.body);return c}function hh(c){var h=c.getBoundingClientRect();return{x:h.width/c.offsetWidth||1,y:h.height/c.offsetHeight||1,boundingClientRect:h}}var u3={__proto__:null,TRANSFORM:sh,TRANSITION:ua,TRANSITION_END:Ug,get:Zg,getStyle:da,create:nt,remove:Mt,empty:nc,toFront:no,toBack:io,hasClass:rh,addClass:Ze,removeClass:Rt,setClass:oh,getClass:ic,setOpacity:Wn,testProp:sc,setTransform:lr,setPosition:It,getPosition:cr,get disableTextSelection(){return ha},get enableTextSelection(){return fa},disableImageDrag:lh,enableImageDrag:ch,preventOutline:dh,restoreOutline:oc,getSizedParentNode:Kg,getScale:hh};function Ve(c,h,y,x){if(h&&typeof h=="object")for(var C in h)ph(c,C,h[C],y);else{h=_(h);for(var D=0,$=h.length;D<$;D++)ph(c,h[D],y,x)}return this}var ki="_leaflet_events";function pt(c,h,y,x){if(arguments.length===1)qg(c),delete c[ki];else if(h&&typeof h=="object")for(var C in h)mh(c,C,h[C],y);else if(h=_(h),arguments.length===2)qg(c,function(U){return g(h,U)!==-1});else for(var D=0,$=h.length;D<$;D++)mh(c,h[D],y,x);return this}function qg(c,h){for(var y in c[ki]){var x=y.split(/\d/)[0];(!h||h(x))&&mh(c,x,null,null,y)}}var fh={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ph(c,h,y,x){var C=h+l(y)+(x?"_"+l(x):"");if(c[ki]&&c[ki][C])return this;var D=function(U){return y.call(x||c,U||window.event)},$=D;!Re.touchNative&&Re.pointer&&h.indexOf("touch")===0?D=Qk(c,h,D):Re.touch&&h==="dblclick"?D=a3(c,D):"addEventListener"in c?h==="touchstart"||h==="touchmove"||h==="wheel"||h==="mousewheel"?c.addEventListener(fh[h]||h,D,Re.passiveEvents?{passive:!1}:!1):h==="mouseenter"||h==="mouseleave"?(D=function(U){U=U||window.event,yh(c,U)&&$(U)},c.addEventListener(fh[h],D,!1)):c.addEventListener(h,$,!1):c.attachEvent("on"+h,D),c[ki]=c[ki]||{},c[ki][C]=D}function mh(c,h,y,x,C){C=C||h+l(y)+(x?"_"+l(x):"");var D=c[ki]&&c[ki][C];if(!D)return this;!Re.touchNative&&Re.pointer&&h.indexOf("touch")===0?e3(c,h,D):Re.touch&&h==="dblclick"?l3(c,D):"removeEventListener"in c?c.removeEventListener(fh[h]||h,D,!1):c.detachEvent("on"+h,D),c[ki][C]=null}function ur(c){return c.stopPropagation?c.stopPropagation():c.originalEvent?c.originalEvent._stopped=!0:c.cancelBubble=!0,this}function gh(c){return ph(c,"wheel",ur),this}function ma(c){return Ve(c,"mousedown touchstart dblclick contextmenu",ur),c._leaflet_disable_click=!0,this}function Qt(c){return c.preventDefault?c.preventDefault():c.returnValue=!1,this}function dr(c){return Qt(c),ur(c),this}function Gg(c){if(c.composedPath)return c.composedPath();for(var h=[],y=c.target;y;)h.push(y),y=y.parentNode;return h}function Jg(c,h){if(!h)return new H(c.clientX,c.clientY);var y=hh(h),x=y.boundingClientRect;return new H((c.clientX-x.left)/y.x-h.clientLeft,(c.clientY-x.top)/y.y-h.clientTop)}var d3=Re.linux&&Re.chrome?window.devicePixelRatio:Re.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Yg(c){return Re.edge?c.wheelDeltaY/2:c.deltaY&&c.deltaMode===0?-c.deltaY/d3:c.deltaY&&c.deltaMode===1?-c.deltaY*20:c.deltaY&&c.deltaMode===2?-c.deltaY*60:c.deltaX||c.deltaZ?0:c.wheelDelta?(c.wheelDeltaY||c.wheelDelta)/2:c.detail&&Math.abs(c.detail)<32765?-c.detail*20:c.detail?c.detail/-32765*60:0}function yh(c,h){var y=h.relatedTarget;if(!y)return!0;try{for(;y&&y!==c;)y=y.parentNode}catch(x){return!1}return y!==c}var h3={__proto__:null,on:Ve,off:pt,stopPropagation:ur,disableScrollPropagation:gh,disableClickPropagation:ma,preventDefault:Qt,stop:dr,getPropagationPath:Gg,getMousePosition:Jg,getWheelDelta:Yg,isExternalTarget:yh,addListener:Ve,removeListener:pt},Xg=z.extend({run:function(c,h,y,x){this.stop(),this._el=c,this._inProgress=!0,this._duration=y||.25,this._easeOutPower=1/Math.max(x||.5,.2),this._startPos=cr(c),this._offset=h.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=N(this._animate,this),this._step()},_step:function(c){var h=+new Date-this._startTime,y=this._duration*1e3;h<y?this._runFrame(this._easeOut(h/y),c):(this._runFrame(1),this._complete())},_runFrame:function(c,h){var y=this._startPos.add(this._offset.multiplyBy(c));h&&y._round(),It(this._el,y),this.fire("step")},_complete:function(){B(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(c){return 1-Math.pow(1-c,this._easeOutPower)}}),et=z.extend({options:{crs:j,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(c,h){h=b(this,h),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(c),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),h.maxBounds&&this.setMaxBounds(h.maxBounds),h.zoom!==void 0&&(this._zoom=this._limitZoom(h.zoom)),h.center&&h.zoom!==void 0&&this.setView(be(h.center),h.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ua&&Re.any3d&&!Re.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ve(this._proxy,Ug,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(c,h,y){if(h=h===void 0?this._zoom:this._limitZoom(h),c=this._limitCenter(be(c),h,this.options.maxBounds),y=y||{},this._stop(),this._loaded&&!y.reset&&y!==!0){y.animate!==void 0&&(y.zoom=s({animate:y.animate},y.zoom),y.pan=s({animate:y.animate,duration:y.duration},y.pan));var x=this._zoom!==h?this._tryAnimatedZoom&&this._tryAnimatedZoom(c,h,y.zoom):this._tryAnimatedPan(c,y.pan);if(x)return clearTimeout(this._sizeTimer),this}return this._resetView(c,h,y.pan&&y.pan.noMoveStart),this},setZoom:function(c,h){return this._loaded?this.setView(this.getCenter(),c,{zoom:h}):(this._zoom=c,this)},zoomIn:function(c,h){return c=c||(Re.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+c,h)},zoomOut:function(c,h){return c=c||(Re.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-c,h)},setZoomAround:function(c,h,y){var x=this.getZoomScale(h),C=this.getSize().divideBy(2),D=c instanceof H?c:this.latLngToContainerPoint(c),$=D.subtract(C).multiplyBy(1-1/x),U=this.containerPointToLatLng(C.add($));return this.setView(U,h,{zoom:y})},_getBoundsCenterZoom:function(c,h){h=h||{},c=c.getBounds?c.getBounds():Ee(c);var y=G(h.paddingTopLeft||h.padding||[0,0]),x=G(h.paddingBottomRight||h.padding||[0,0]),C=this.getBoundsZoom(c,!1,y.add(x));if(C=typeof h.maxZoom=="number"?Math.min(h.maxZoom,C):C,C===1/0)return{center:c.getCenter(),zoom:C};var D=x.subtract(y).divideBy(2),$=this.project(c.getSouthWest(),C),U=this.project(c.getNorthEast(),C),J=this.unproject($.add(U).divideBy(2).add(D),C);return{center:J,zoom:C}},fitBounds:function(c,h){if(c=Ee(c),!c.isValid())throw new Error("Bounds are not valid.");var y=this._getBoundsCenterZoom(c,h);return this.setView(y.center,y.zoom,h)},fitWorld:function(c){return this.fitBounds([[-90,-180],[90,180]],c)},panTo:function(c,h){return this.setView(c,this._zoom,{pan:h})},panBy:function(c,h){if(c=G(c).round(),h=h||{},!c.x&&!c.y)return this.fire("moveend");if(h.animate!==!0&&!this.getSize().contains(c))return this._resetView(this.unproject(this.project(this.getCenter()).add(c)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Xg,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),h.noMoveStart||this.fire("movestart"),h.animate!==!1){Ze(this._mapPane,"leaflet-pan-anim");var y=this._getMapPanePos().subtract(c).round();this._panAnim.run(this._mapPane,y,h.duration||.25,h.easeLinearity)}else this._rawPanBy(c),this.fire("move").fire("moveend");return this},flyTo:function(c,h,y){if(y=y||{},y.animate===!1||!Re.any3d)return this.setView(c,h,y);this._stop();var x=this.project(this.getCenter()),C=this.project(c),D=this.getSize(),$=this._zoom;c=be(c),h=h===void 0?$:h;var U=Math.max(D.x,D.y),J=U*this.getZoomScale($,h),re=C.distanceTo(x)||1,Se=1.42,ze=Se*Se;function qe(jt){var _c=jt?-1:1,eS=jt?J:U,tS=J*J-U*U+_c*ze*ze*re*re,nS=2*eS*ze*re,Ph=tS/nS,L0=Math.sqrt(Ph*Ph+1)-Ph,iS=L0<1e-9?-18:Math.log(L0);return iS}function vn(jt){return(Math.exp(jt)-Math.exp(-jt))/2}function Ut(jt){return(Math.exp(jt)+Math.exp(-jt))/2}function Zn(jt){return vn(jt)/Ut(jt)}var Pn=qe(0);function co(jt){return U*(Ut(Pn)/Ut(Pn+Se*jt))}function J3(jt){return U*(Ut(Pn)*Zn(Pn+Se*jt)-vn(Pn))/ze}function Y3(jt){return 1-Math.pow(1-jt,1.5)}var X3=Date.now(),A0=(qe(1)-Pn)/Se,Q3=y.duration?1e3*y.duration:1e3*A0*.8;function O0(){var jt=(Date.now()-X3)/Q3,_c=Y3(jt)*A0;jt<=1?(this._flyToFrame=N(O0,this),this._move(this.unproject(x.add(C.subtract(x).multiplyBy(J3(_c)/re)),$),this.getScaleZoom(U/co(_c),$),{flyTo:!0})):this._move(c,h)._moveEnd(!0)}return this._moveStart(!0,y.noMoveStart),O0.call(this),this},flyToBounds:function(c,h){var y=this._getBoundsCenterZoom(c,h);return this.flyTo(y.center,y.zoom,h)},setMaxBounds:function(c){return c=Ee(c),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),c.isValid()?(this.options.maxBounds=c,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(c){var h=this.options.minZoom;return this.options.minZoom=c,this._loaded&&h!==c&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(c):this},setMaxZoom:function(c){var h=this.options.maxZoom;return this.options.maxZoom=c,this._loaded&&h!==c&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(c):this},panInsideBounds:function(c,h){this._enforcingBounds=!0;var y=this.getCenter(),x=this._limitCenter(y,this._zoom,Ee(c));return y.equals(x)||this.panTo(x,h),this._enforcingBounds=!1,this},panInside:function(c,h){h=h||{};var y=G(h.paddingTopLeft||h.padding||[0,0]),x=G(h.paddingBottomRight||h.padding||[0,0]),C=this.project(this.getCenter()),D=this.project(c),$=this.getPixelBounds(),U=we([$.min.add(y),$.max.subtract(x)]),J=U.getSize();if(!U.contains(D)){this._enforcingBounds=!0;var re=D.subtract(U.getCenter()),Se=U.extend(D).getSize().subtract(J);C.x+=re.x<0?-Se.x:Se.x,C.y+=re.y<0?-Se.y:Se.y,this.panTo(this.unproject(C),h),this._enforcingBounds=!1}return this},invalidateSize:function(c){if(!this._loaded)return this;c=s({animate:!1,pan:!0},c===!0?{animate:!0}:c);var h=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var y=this.getSize(),x=h.divideBy(2).round(),C=y.divideBy(2).round(),D=x.subtract(C);return!D.x&&!D.y?this:(c.animate&&c.pan?this.panBy(D):(c.pan&&this._rawPanBy(D),this.fire("move"),c.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:h,newSize:y}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(c){if(c=this._locateOptions=s({timeout:1e4,watch:!1},c),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var h=o(this._handleGeolocationResponse,this),y=o(this._handleGeolocationError,this);return c.watch?this._locationWatchId=navigator.geolocation.watchPosition(h,y,c):navigator.geolocation.getCurrentPosition(h,y,c),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(c){if(this._container._leaflet_id){var h=c.code,y=c.message||(h===1?"permission denied":h===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:h,message:"Geolocation error: "+y+"."})}},_handleGeolocationResponse:function(c){if(this._container._leaflet_id){var h=c.coords.latitude,y=c.coords.longitude,x=new Ce(h,y),C=x.toBounds(c.coords.accuracy*2),D=this._locateOptions;if(D.setView){var $=this.getBoundsZoom(C);this.setView(x,D.maxZoom?Math.min($,D.maxZoom):$)}var U={latlng:x,bounds:C,timestamp:c.timestamp};for(var J in c.coords)typeof c.coords[J]=="number"&&(U[J]=c.coords[J]);this.fire("locationfound",U)}},addHandler:function(c,h){if(!h)return this;var y=this[c]=new h(this);return this._handlers.push(y),this.options[c]&&y.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(h){this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Mt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(B(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var c;for(c in this._layers)this._layers[c].remove();for(c in this._panes)Mt(this._panes[c]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(c,h){var y="leaflet-pane"+(c?" leaflet-"+c.replace("Pane","")+"-pane":""),x=nt("div",y,h||this._mapPane);return c&&(this._panes[c]=x),x},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var c=this.getPixelBounds(),h=this.unproject(c.getBottomLeft()),y=this.unproject(c.getTopRight());return new Te(h,y)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(c,h,y){c=Ee(c),y=G(y||[0,0]);var x=this.getZoom()||0,C=this.getMinZoom(),D=this.getMaxZoom(),$=c.getNorthWest(),U=c.getSouthEast(),J=this.getSize().subtract(y),re=we(this.project(U,x),this.project($,x)).getSize(),Se=Re.any3d?this.options.zoomSnap:1,ze=J.x/re.x,qe=J.y/re.y,vn=h?Math.max(ze,qe):Math.min(ze,qe);return x=this.getScaleZoom(vn,x),Se&&(x=Math.round(x/(Se/100))*(Se/100),x=h?Math.ceil(x/Se)*Se:Math.floor(x/Se)*Se),Math.max(C,Math.min(D,x))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new H(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(c,h){var y=this._getTopLeftPoint(c,h);return new te(y,y.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(c){return this.options.crs.getProjectedBounds(c===void 0?this.getZoom():c)},getPane:function(c){return typeof c=="string"?this._panes[c]:c},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(c,h){var y=this.options.crs;return h=h===void 0?this._zoom:h,y.scale(c)/y.scale(h)},getScaleZoom:function(c,h){var y=this.options.crs;h=h===void 0?this._zoom:h;var x=y.zoom(c*y.scale(h));return isNaN(x)?1/0:x},project:function(c,h){return h=h===void 0?this._zoom:h,this.options.crs.latLngToPoint(be(c),h)},unproject:function(c,h){return h=h===void 0?this._zoom:h,this.options.crs.pointToLatLng(G(c),h)},layerPointToLatLng:function(c){var h=G(c).add(this.getPixelOrigin());return this.unproject(h)},latLngToLayerPoint:function(c){var h=this.project(be(c))._round();return h._subtract(this.getPixelOrigin())},wrapLatLng:function(c){return this.options.crs.wrapLatLng(be(c))},wrapLatLngBounds:function(c){return this.options.crs.wrapLatLngBounds(Ee(c))},distance:function(c,h){return this.options.crs.distance(be(c),be(h))},containerPointToLayerPoint:function(c){return G(c).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(c){return G(c).add(this._getMapPanePos())},containerPointToLatLng:function(c){var h=this.containerPointToLayerPoint(G(c));return this.layerPointToLatLng(h)},latLngToContainerPoint:function(c){return this.layerPointToContainerPoint(this.latLngToLayerPoint(be(c)))},mouseEventToContainerPoint:function(c){return Jg(c,this._container)},mouseEventToLayerPoint:function(c){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(c))},mouseEventToLatLng:function(c){return this.layerPointToLatLng(this.mouseEventToLayerPoint(c))},_initContainer:function(c){var h=this._container=Zg(c);if(h){if(h._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ve(h,"scroll",this._onScroll,this),this._containerId=l(h)},_initLayout:function(){var c=this._container;this._fadeAnimated=this.options.fadeAnimation&&Re.any3d,Ze(c,"leaflet-container"+(Re.touch?" leaflet-touch":"")+(Re.retina?" leaflet-retina":"")+(Re.ielt9?" leaflet-oldie":"")+(Re.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var h=da(c,"position");h!=="absolute"&&h!=="relative"&&h!=="fixed"&&h!=="sticky"&&(c.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var c=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),It(this._mapPane,new H(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ze(c.markerPane,"leaflet-zoom-hide"),Ze(c.shadowPane,"leaflet-zoom-hide"))},_resetView:function(c,h,y){It(this._mapPane,new H(0,0));var x=!this._loaded;this._loaded=!0,h=this._limitZoom(h),this.fire("viewprereset");var C=this._zoom!==h;this._moveStart(C,y)._move(c,h)._moveEnd(C),this.fire("viewreset"),x&&this.fire("load")},_moveStart:function(c,h){return c&&this.fire("zoomstart"),h||this.fire("movestart"),this},_move:function(c,h,y,x){h===void 0&&(h=this._zoom);var C=this._zoom!==h;return this._zoom=h,this._lastCenter=c,this._pixelOrigin=this._getNewPixelOrigin(c),x?y&&y.pinch&&this.fire("zoom",y):((C||y&&y.pinch)&&this.fire("zoom",y),this.fire("move",y)),this},_moveEnd:function(c){return c&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return B(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(c){It(this._mapPane,this._getMapPanePos().subtract(c))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(c){this._targets={},this._targets[l(this._container)]=this;var h=c?pt:Ve;h(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&h(window,"resize",this._onResize,this),Re.any3d&&this.options.transform3DLimit&&(c?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){B(this._resizeRequest),this._resizeRequest=N(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var c=this._getMapPanePos();Math.max(Math.abs(c.x),Math.abs(c.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(c,h){for(var y=[],x,C=h==="mouseout"||h==="mouseover",D=c.target||c.srcElement,$=!1;D;){if(x=this._targets[l(D)],x&&(h==="click"||h==="preclick")&&this._draggableMoved(x)){$=!0;break}if(x&&x.listens(h,!0)&&(C&&!yh(D,c)||(y.push(x),C))||D===this._container)break;D=D.parentNode}return!y.length&&!$&&!C&&this.listens(h,!0)&&(y=[this]),y},_isClickDisabled:function(c){for(;c&&c!==this._container;){if(c._leaflet_disable_click)return!0;c=c.parentNode}},_handleDOMEvent:function(c){var h=c.target||c.srcElement;if(!(!this._loaded||h._leaflet_disable_events||c.type==="click"&&this._isClickDisabled(h))){var y=c.type;y==="mousedown"&&dh(h),this._fireDOMEvent(c,y)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(c,h,y){if(c.type==="click"){var x=s({},c);x.type="preclick",this._fireDOMEvent(x,x.type,y)}var C=this._findEventTargets(c,h);if(y){for(var D=[],$=0;$<y.length;$++)y[$].listens(h,!0)&&D.push(y[$]);C=D.concat(C)}if(C.length){h==="contextmenu"&&Qt(c);var U=C[0],J={originalEvent:c};if(c.type!=="keypress"&&c.type!=="keydown"&&c.type!=="keyup"){var re=U.getLatLng&&(!U._radius||U._radius<=10);J.containerPoint=re?this.latLngToContainerPoint(U.getLatLng()):this.mouseEventToContainerPoint(c),J.layerPoint=this.containerPointToLayerPoint(J.containerPoint),J.latlng=re?U.getLatLng():this.layerPointToLatLng(J.layerPoint)}for($=0;$<C.length;$++)if(C[$].fire(h,J,!0),J.originalEvent._stopped||C[$].options.bubblingMouseEvents===!1&&g(this._mouseEvents,h)!==-1)return}},_draggableMoved:function(c){return c=c.dragging&&c.dragging.enabled()?c:this,c.dragging&&c.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var c=0,h=this._handlers.length;c<h;c++)this._handlers[c].disable()},whenReady:function(c,h){return this._loaded?c.call(h||this,{target:this}):this.on("load",c,h),this},_getMapPanePos:function(){return cr(this._mapPane)||new H(0,0)},_moved:function(){var c=this._getMapPanePos();return c&&!c.equals([0,0])},_getTopLeftPoint:function(c,h){var y=c&&h!==void 0?this._getNewPixelOrigin(c,h):this.getPixelOrigin();return y.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(c,h){var y=this.getSize()._divideBy(2);return this.project(c,h)._subtract(y)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(c,h,y){var x=this._getNewPixelOrigin(y,h);return this.project(c,h)._subtract(x)},_latLngBoundsToNewLayerBounds:function(c,h,y){var x=this._getNewPixelOrigin(y,h);return we([this.project(c.getSouthWest(),h)._subtract(x),this.project(c.getNorthWest(),h)._subtract(x),this.project(c.getSouthEast(),h)._subtract(x),this.project(c.getNorthEast(),h)._subtract(x)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(c){return this.latLngToLayerPoint(c).subtract(this._getCenterLayerPoint())},_limitCenter:function(c,h,y){if(!y)return c;var x=this.project(c,h),C=this.getSize().divideBy(2),D=new te(x.subtract(C),x.add(C)),$=this._getBoundsOffset(D,y,h);return Math.abs($.x)<=1&&Math.abs($.y)<=1?c:this.unproject(x.add($),h)},_limitOffset:function(c,h){if(!h)return c;var y=this.getPixelBounds(),x=new te(y.min.add(c),y.max.add(c));return c.add(this._getBoundsOffset(x,h))},_getBoundsOffset:function(c,h,y){var x=we(this.project(h.getNorthEast(),y),this.project(h.getSouthWest(),y)),C=x.min.subtract(c.min),D=x.max.subtract(c.max),$=this._rebound(C.x,-D.x),U=this._rebound(C.y,-D.y);return new H($,U)},_rebound:function(c,h){return c+h>0?Math.round(c-h)/2:Math.max(0,Math.ceil(c))-Math.max(0,Math.floor(h))},_limitZoom:function(c){var h=this.getMinZoom(),y=this.getMaxZoom(),x=Re.any3d?this.options.zoomSnap:1;return x&&(c=Math.round(c/x)*x),Math.max(h,Math.min(y,c))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Rt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(c,h){var y=this._getCenterOffset(c)._trunc();return(h&&h.animate)!==!0&&!this.getSize().contains(y)?!1:(this.panBy(y,h),!0)},_createAnimProxy:function(){var c=this._proxy=nt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(c),this.on("zoomanim",function(h){var y=sh,x=this._proxy.style[y];lr(this._proxy,this.project(h.center,h.zoom),this.getZoomScale(h.zoom,1)),x===this._proxy.style[y]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Mt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var c=this.getCenter(),h=this.getZoom();lr(this._proxy,this.project(c,h),this.getZoomScale(h,1))},_catchTransitionEnd:function(c){this._animatingZoom&&c.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(c,h,y){if(this._animatingZoom)return!0;if(y=y||{},!this._zoomAnimated||y.animate===!1||this._nothingToAnimate()||Math.abs(h-this._zoom)>this.options.zoomAnimationThreshold)return!1;var x=this.getZoomScale(h),C=this._getCenterOffset(c)._divideBy(1-1/x);return y.animate!==!0&&!this.getSize().contains(C)?!1:(N(function(){this._moveStart(!0,y.noMoveStart||!1)._animateZoom(c,h,!0)},this),!0)},_animateZoom:function(c,h,y,x){this._mapPane&&(y&&(this._animatingZoom=!0,this._animateToCenter=c,this._animateToZoom=h,Ze(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:c,zoom:h,noUpdate:x}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Rt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function f3(c,h){return new et(c,h)}var si=W.extend({options:{position:"topright"},initialize:function(c){b(this,c)},getPosition:function(){return this.options.position},setPosition:function(c){var h=this._map;return h&&h.removeControl(this),this.options.position=c,h&&h.addControl(this),this},getContainer:function(){return this._container},addTo:function(c){this.remove(),this._map=c;var h=this._container=this.onAdd(c),y=this.getPosition(),x=c._controlCorners[y];return Ze(h,"leaflet-control"),y.indexOf("bottom")!==-1?x.insertBefore(h,x.firstChild):x.appendChild(h),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Mt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(c){this._map&&c&&c.screenX>0&&c.screenY>0&&this._map.getContainer().focus()}}),ga=function(c){return new si(c)};et.include({addControl:function(c){return c.addTo(this),this},removeControl:function(c){return c.remove(),this},_initControlPos:function(){var c=this._controlCorners={},h="leaflet-",y=this._controlContainer=nt("div",h+"control-container",this._container);function x(C,D){var $=h+C+" "+h+D;c[C+D]=nt("div",$,y)}x("top","left"),x("top","right"),x("bottom","left"),x("bottom","right")},_clearControlPos:function(){for(var c in this._controlCorners)Mt(this._controlCorners[c]);Mt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Qg=si.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(c,h,y,x){return y<x?-1:x<y?1:0}},initialize:function(c,h,y){b(this,y),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var x in c)this._addLayer(c[x],x);for(x in h)this._addLayer(h[x],x,!0)},onAdd:function(c){this._initLayout(),this._update(),this._map=c,c.on("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(c){return si.prototype.addTo.call(this,c),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(c,h){return this._addLayer(c,h),this._map?this._update():this},addOverlay:function(c,h){return this._addLayer(c,h,!0),this._map?this._update():this},removeLayer:function(c){c.off("add remove",this._onLayerChange,this);var h=this._getLayer(l(c));return h&&this._layers.splice(this._layers.indexOf(h),1),this._map?this._update():this},expand:function(){Ze(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var c=this._map.getSize().y-(this._container.offsetTop+50);return c<this._section.clientHeight?(Ze(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=c+"px"):Rt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Rt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var c="leaflet-control-layers",h=this._container=nt("div",c),y=this.options.collapsed;h.setAttribute("aria-haspopup",!0),ma(h),gh(h);var x=this._section=nt("section",c+"-list");y&&(this._map.on("click",this.collapse,this),Ve(h,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var C=this._layersLink=nt("a",c+"-toggle",h);C.href="#",C.title="Layers",C.setAttribute("role","button"),Ve(C,{keydown:function(D){D.keyCode===13&&this._expandSafely()},click:function(D){Qt(D),this._expandSafely()}},this),y||this.expand(),this._baseLayersList=nt("div",c+"-base",x),this._separator=nt("div",c+"-separator",x),this._overlaysList=nt("div",c+"-overlays",x),h.appendChild(x)},_getLayer:function(c){for(var h=0;h<this._layers.length;h++)if(this._layers[h]&&l(this._layers[h].layer)===c)return this._layers[h]},_addLayer:function(c,h,y){this._map&&c.on("add remove",this._onLayerChange,this),this._layers.push({layer:c,name:h,overlay:y}),this.options.sortLayers&&this._layers.sort(o(function(x,C){return this.options.sortFunction(x.layer,C.layer,x.name,C.name)},this)),this.options.autoZIndex&&c.setZIndex&&(this._lastZIndex++,c.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;nc(this._baseLayersList),nc(this._overlaysList),this._layerControlInputs=[];var c,h,y,x,C=0;for(y=0;y<this._layers.length;y++)x=this._layers[y],this._addItem(x),h=h||x.overlay,c=c||!x.overlay,C+=x.overlay?0:1;return this.options.hideSingleBase&&(c=c&&C>1,this._baseLayersList.style.display=c?"":"none"),this._separator.style.display=h&&c?"":"none",this},_onLayerChange:function(c){this._handlingClick||this._update();var h=this._getLayer(l(c.target)),y=h.overlay?c.type==="add"?"overlayadd":"overlayremove":c.type==="add"?"baselayerchange":null;y&&this._map.fire(y,h)},_createRadioElement:function(c,h){var y='<input type="radio" class="leaflet-control-layers-selector" name="'+c+'"'+(h?' checked="checked"':"")+"/>",x=document.createElement("div");return x.innerHTML=y,x.firstChild},_addItem:function(c){var h=document.createElement("label"),y=this._map.hasLayer(c.layer),x;c.overlay?(x=document.createElement("input"),x.type="checkbox",x.className="leaflet-control-layers-selector",x.defaultChecked=y):x=this._createRadioElement("leaflet-base-layers_"+l(this),y),this._layerControlInputs.push(x),x.layerId=l(c.layer),Ve(x,"click",this._onInputClick,this);var C=document.createElement("span");C.innerHTML=" "+c.name;var D=document.createElement("span");h.appendChild(D),D.appendChild(x),D.appendChild(C);var $=c.overlay?this._overlaysList:this._baseLayersList;return $.appendChild(h),this._checkDisabledLayers(),h},_onInputClick:function(){if(!this._preventClick){var c=this._layerControlInputs,h,y,x=[],C=[];this._handlingClick=!0;for(var D=c.length-1;D>=0;D--)h=c[D],y=this._getLayer(h.layerId).layer,h.checked?x.push(y):h.checked||C.push(y);for(D=0;D<C.length;D++)this._map.hasLayer(C[D])&&this._map.removeLayer(C[D]);for(D=0;D<x.length;D++)this._map.hasLayer(x[D])||this._map.addLayer(x[D]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var c=this._layerControlInputs,h,y,x=this._map.getZoom(),C=c.length-1;C>=0;C--)h=c[C],y=this._getLayer(h.layerId).layer,h.disabled=y.options.minZoom!==void 0&&x<y.options.minZoom||y.options.maxZoom!==void 0&&x>y.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var c=this._section;this._preventClick=!0,Ve(c,"click",Qt),this.expand();var h=this;setTimeout(function(){pt(c,"click",Qt),h._preventClick=!1})}}),p3=function(c,h,y){return new Qg(c,h,y)},_h=si.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(c){var h="leaflet-control-zoom",y=nt("div",h+" leaflet-bar"),x=this.options;return this._zoomInButton=this._createButton(x.zoomInText,x.zoomInTitle,h+"-in",y,this._zoomIn),this._zoomOutButton=this._createButton(x.zoomOutText,x.zoomOutTitle,h+"-out",y,this._zoomOut),this._updateDisabled(),c.on("zoomend zoomlevelschange",this._updateDisabled,this),y},onRemove:function(c){c.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(c){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(c.shiftKey?3:1))},_zoomOut:function(c){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(c.shiftKey?3:1))},_createButton:function(c,h,y,x,C){var D=nt("a",y,x);return D.innerHTML=c,D.href="#",D.title=h,D.setAttribute("role","button"),D.setAttribute("aria-label",h),ma(D),Ve(D,"click",dr),Ve(D,"click",C,this),Ve(D,"click",this._refocusOnMap,this),D},_updateDisabled:function(){var c=this._map,h="leaflet-disabled";Rt(this._zoomInButton,h),Rt(this._zoomOutButton,h),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||c._zoom===c.getMinZoom())&&(Ze(this._zoomOutButton,h),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||c._zoom===c.getMaxZoom())&&(Ze(this._zoomInButton,h),this._zoomInButton.setAttribute("aria-disabled","true"))}});et.mergeOptions({zoomControl:!0}),et.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new _h,this.addControl(this.zoomControl))});var m3=function(c){return new _h(c)},e0=si.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(c){var h="leaflet-control-scale",y=nt("div",h),x=this.options;return this._addScales(x,h+"-line",y),c.on(x.updateWhenIdle?"moveend":"move",this._update,this),c.whenReady(this._update,this),y},onRemove:function(c){c.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(c,h,y){c.metric&&(this._mScale=nt("div",h,y)),c.imperial&&(this._iScale=nt("div",h,y))},_update:function(){var c=this._map,h=c.getSize().y/2,y=c.distance(c.containerPointToLatLng([0,h]),c.containerPointToLatLng([this.options.maxWidth,h]));this._updateScales(y)},_updateScales:function(c){this.options.metric&&c&&this._updateMetric(c),this.options.imperial&&c&&this._updateImperial(c)},_updateMetric:function(c){var h=this._getRoundNum(c),y=h<1e3?h+" m":h/1e3+" km";this._updateScale(this._mScale,y,h/c)},_updateImperial:function(c){var h=c*3.2808399,y,x,C;h>5280?(y=h/5280,x=this._getRoundNum(y),this._updateScale(this._iScale,x+" mi",x/y)):(C=this._getRoundNum(h),this._updateScale(this._iScale,C+" ft",C/h))},_updateScale:function(c,h,y){c.style.width=Math.round(this.options.maxWidth*y)+"px",c.innerHTML=h},_getRoundNum:function(c){var h=Math.pow(10,(Math.floor(c)+"").length-1),y=c/h;return y=y>=10?10:y>=5?5:y>=3?3:y>=2?2:1,h*y}}),g3=function(c){return new e0(c)},y3='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',vh=si.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Re.inlineSvg?y3+" ":"")+"Leaflet</a>"},initialize:function(c){b(this,c),this._attributions={}},onAdd:function(c){c.attributionControl=this,this._container=nt("div","leaflet-control-attribution"),ma(this._container);for(var h in c._layers)c._layers[h].getAttribution&&this.addAttribution(c._layers[h].getAttribution());return this._update(),c.on("layeradd",this._addAttribution,this),this._container},onRemove:function(c){c.off("layeradd",this._addAttribution,this)},_addAttribution:function(c){c.layer.getAttribution&&(this.addAttribution(c.layer.getAttribution()),c.layer.once("remove",function(){this.removeAttribution(c.layer.getAttribution())},this))},setPrefix:function(c){return this.options.prefix=c,this._update(),this},addAttribution:function(c){return c?(this._attributions[c]||(this._attributions[c]=0),this._attributions[c]++,this._update(),this):this},removeAttribution:function(c){return c?(this._attributions[c]&&(this._attributions[c]--,this._update()),this):this},_update:function(){if(this._map){var c=[];for(var h in this._attributions)this._attributions[h]&&c.push(h);var y=[];this.options.prefix&&y.push(this.options.prefix),c.length&&y.push(c.join(", ")),this._container.innerHTML=y.join(' <span aria-hidden="true">|</span> ')}}});et.mergeOptions({attributionControl:!0}),et.addInitHook(function(){this.options.attributionControl&&new vh().addTo(this)});var _3=function(c){return new vh(c)};si.Layers=Qg,si.Zoom=_h,si.Scale=e0,si.Attribution=vh,ga.layers=p3,ga.zoom=m3,ga.scale=g3,ga.attribution=_3;var Si=W.extend({initialize:function(c){this._map=c},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Si.addTo=function(c,h){return c.addHandler(h,this),this};var v3={Events:R},t0=Re.touch?"touchstart mousedown":"mousedown",_s=z.extend({options:{clickTolerance:3},initialize:function(c,h,y,x){b(this,x),this._element=c,this._dragStartTarget=h||c,this._preventOutline=y},enable:function(){this._enabled||(Ve(this._dragStartTarget,t0,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(_s._dragging===this&&this.finishDrag(!0),pt(this._dragStartTarget,t0,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(c){if(this._enabled&&(this._moved=!1,!rh(this._element,"leaflet-zoom-anim"))){if(c.touches&&c.touches.length!==1){_s._dragging===this&&this.finishDrag();return}if(!(_s._dragging||c.shiftKey||c.which!==1&&c.button!==1&&!c.touches)&&(_s._dragging=this,this._preventOutline&&dh(this._element),lh(),ha(),!this._moving)){this.fire("down");var h=c.touches?c.touches[0]:c,y=Kg(this._element);this._startPoint=new H(h.clientX,h.clientY),this._startPos=cr(this._element),this._parentScale=hh(y);var x=c.type==="mousedown";Ve(document,x?"mousemove":"touchmove",this._onMove,this),Ve(document,x?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(c){if(this._enabled){if(c.touches&&c.touches.length>1){this._moved=!0;return}var h=c.touches&&c.touches.length===1?c.touches[0]:c,y=new H(h.clientX,h.clientY)._subtract(this._startPoint);!y.x&&!y.y||Math.abs(y.x)+Math.abs(y.y)<this.options.clickTolerance||(y.x/=this._parentScale.x,y.y/=this._parentScale.y,Qt(c),this._moved||(this.fire("dragstart"),this._moved=!0,Ze(document.body,"leaflet-dragging"),this._lastTarget=c.target||c.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ze(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(y),this._moving=!0,this._lastEvent=c,this._updatePosition())}},_updatePosition:function(){var c={originalEvent:this._lastEvent};this.fire("predrag",c),It(this._element,this._newPos),this.fire("drag",c)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(c){Rt(document.body,"leaflet-dragging"),this._lastTarget&&(Rt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),pt(document,"mousemove touchmove",this._onMove,this),pt(document,"mouseup touchend touchcancel",this._onUp,this),ch(),fa();var h=this._moved&&this._moving;this._moving=!1,_s._dragging=!1,h&&this.fire("dragend",{noInertia:c,distance:this._newPos.distanceTo(this._startPos)})}});function n0(c,h,y){var x,C=[1,4,2,8],D,$,U,J,re,Se,ze,qe;for(D=0,Se=c.length;D<Se;D++)c[D]._code=hr(c[D],h);for(U=0;U<4;U++){for(ze=C[U],x=[],D=0,Se=c.length,$=Se-1;D<Se;$=D++)J=c[D],re=c[$],J._code&ze?re._code&ze||(qe=ac(re,J,ze,h,y),qe._code=hr(qe,h),x.push(qe)):(re._code&ze&&(qe=ac(re,J,ze,h,y),qe._code=hr(qe,h),x.push(qe)),x.push(J));c=x}return c}function i0(c,h){var y,x,C,D,$,U,J,re,Se;if(!c||c.length===0)throw new Error("latlngs not passed");Un(c)||(console.warn("latlngs are not flat! Only the first ring will be used"),c=c[0]);var ze=be([0,0]),qe=Ee(c),vn=qe.getNorthWest().distanceTo(qe.getSouthWest())*qe.getNorthEast().distanceTo(qe.getNorthWest());vn<1700&&(ze=bh(c));var Ut=c.length,Zn=[];for(y=0;y<Ut;y++){var Pn=be(c[y]);Zn.push(h.project(be([Pn.lat-ze.lat,Pn.lng-ze.lng])))}for(U=J=re=0,y=0,x=Ut-1;y<Ut;x=y++)C=Zn[y],D=Zn[x],$=C.y*D.x-D.y*C.x,J+=(C.x+D.x)*$,re+=(C.y+D.y)*$,U+=$*3;U===0?Se=Zn[0]:Se=[J/U,re/U];var co=h.unproject(G(Se));return be([co.lat+ze.lat,co.lng+ze.lng])}function bh(c){for(var h=0,y=0,x=0,C=0;C<c.length;C++){var D=be(c[C]);h+=D.lat,y+=D.lng,x++}return be([h/x,y/x])}var b3={__proto__:null,clipPolygon:n0,polygonCenter:i0,centroid:bh};function s0(c,h){if(!h||!c.length)return c.slice();var y=h*h;return c=k3(c,y),c=w3(c,y),c}function r0(c,h,y){return Math.sqrt(ya(c,h,y,!0))}function x3(c,h,y){return ya(c,h,y)}function w3(c,h){var y=c.length,x=typeof Uint8Array!="undefined"?Uint8Array:Array,C=new x(y);C[0]=C[y-1]=1,xh(c,C,h,0,y-1);var D,$=[];for(D=0;D<y;D++)C[D]&&$.push(c[D]);return $}function xh(c,h,y,x,C){var D=0,$,U,J;for(U=x+1;U<=C-1;U++)J=ya(c[U],c[x],c[C],!0),J>D&&($=U,D=J);D>y&&(h[$]=1,xh(c,h,y,x,$),xh(c,h,y,$,C))}function k3(c,h){for(var y=[c[0]],x=1,C=0,D=c.length;x<D;x++)S3(c[x],c[C])>h&&(y.push(c[x]),C=x);return C<D-1&&y.push(c[D-1]),y}var o0;function a0(c,h,y,x,C){var D=x?o0:hr(c,y),$=hr(h,y),U,J,re;for(o0=$;;){if(!(D|$))return[c,h];if(D&$)return!1;U=D||$,J=ac(c,h,U,y,C),re=hr(J,y),U===D?(c=J,D=re):(h=J,$=re)}}function ac(c,h,y,x,C){var D=h.x-c.x,$=h.y-c.y,U=x.min,J=x.max,re,Se;return y&8?(re=c.x+D*(J.y-c.y)/$,Se=J.y):y&4?(re=c.x+D*(U.y-c.y)/$,Se=U.y):y&2?(re=J.x,Se=c.y+$*(J.x-c.x)/D):y&1&&(re=U.x,Se=c.y+$*(U.x-c.x)/D),new H(re,Se,C)}function hr(c,h){var y=0;return c.x<h.min.x?y|=1:c.x>h.max.x&&(y|=2),c.y<h.min.y?y|=4:c.y>h.max.y&&(y|=8),y}function S3(c,h){var y=h.x-c.x,x=h.y-c.y;return y*y+x*x}function ya(c,h,y,x){var C=h.x,D=h.y,$=y.x-C,U=y.y-D,J=$*$+U*U,re;return J>0&&(re=((c.x-C)*$+(c.y-D)*U)/J,re>1?(C=y.x,D=y.y):re>0&&(C+=$*re,D+=U*re)),$=c.x-C,U=c.y-D,x?$*$+U*U:new H(C,D)}function Un(c){return!A(c[0])||typeof c[0][0]!="object"&&typeof c[0][0]!="undefined"}function l0(c){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Un(c)}function c0(c,h){var y,x,C,D,$,U,J,re;if(!c||c.length===0)throw new Error("latlngs not passed");Un(c)||(console.warn("latlngs are not flat! Only the first ring will be used"),c=c[0]);var Se=be([0,0]),ze=Ee(c),qe=ze.getNorthWest().distanceTo(ze.getSouthWest())*ze.getNorthEast().distanceTo(ze.getNorthWest());qe<1700&&(Se=bh(c));var vn=c.length,Ut=[];for(y=0;y<vn;y++){var Zn=be(c[y]);Ut.push(h.project(be([Zn.lat-Se.lat,Zn.lng-Se.lng])))}for(y=0,x=0;y<vn-1;y++)x+=Ut[y].distanceTo(Ut[y+1])/2;if(x===0)re=Ut[0];else for(y=0,D=0;y<vn-1;y++)if($=Ut[y],U=Ut[y+1],C=$.distanceTo(U),D+=C,D>x){J=(D-x)/C,re=[U.x-J*(U.x-$.x),U.y-J*(U.y-$.y)];break}var Pn=h.unproject(G(re));return be([Pn.lat+Se.lat,Pn.lng+Se.lng])}var M3={__proto__:null,simplify:s0,pointToSegmentDistance:r0,closestPointOnSegment:x3,clipSegment:a0,_getEdgeIntersection:ac,_getBitCode:hr,_sqClosestPointOnSegment:ya,isFlat:Un,_flat:l0,polylineCenter:c0},wh={project:function(c){return new H(c.lng,c.lat)},unproject:function(c){return new Ce(c.y,c.x)},bounds:new te([-180,-90],[180,90])},kh={R:6378137,R_MINOR:6356752314245179e-9,bounds:new te([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(c){var h=Math.PI/180,y=this.R,x=c.lat*h,C=this.R_MINOR/y,D=Math.sqrt(1-C*C),$=D*Math.sin(x),U=Math.tan(Math.PI/4-x/2)/Math.pow((1-$)/(1+$),D/2);return x=-y*Math.log(Math.max(U,1e-10)),new H(c.lng*h*y,x)},unproject:function(c){for(var h=180/Math.PI,y=this.R,x=this.R_MINOR/y,C=Math.sqrt(1-x*x),D=Math.exp(-c.y/y),$=Math.PI/2-2*Math.atan(D),U=0,J=.1,re;U<15&&Math.abs(J)>1e-7;U++)re=C*Math.sin($),re=Math.pow((1-re)/(1+re),C/2),J=Math.PI/2-2*Math.atan(D*re)-$,$+=J;return new Ce($*h,c.x*h/y)}},C3={__proto__:null,LonLat:wh,Mercator:kh,SphericalMercator:Q},T3=s({},ue,{code:"EPSG:3395",projection:kh,transformation:function(){var c=.5/(Math.PI*kh.R);return he(c,.5,-c,.5)}()}),u0=s({},ue,{code:"EPSG:4326",projection:wh,transformation:he(1/180,1,-1/180,.5)}),P3=s({},X,{projection:wh,transformation:he(1,0,-1,0),scale:function(c){return Math.pow(2,c)},zoom:function(c){return Math.log(c)/Math.LN2},distance:function(c,h){var y=h.lng-c.lng,x=h.lat-c.lat;return Math.sqrt(y*y+x*x)},infinite:!0});X.Earth=ue,X.EPSG3395=T3,X.EPSG3857=j,X.EPSG900913=F,X.EPSG4326=u0,X.Simple=P3;var ri=z.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(c){return c.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(c){return c&&c.removeLayer(this),this},getPane:function(c){return this._map.getPane(c?this.options[c]||c:this.options.pane)},addInteractiveTarget:function(c){return this._map._targets[l(c)]=this,this},removeInteractiveTarget:function(c){return delete this._map._targets[l(c)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(c){var h=c.target;if(h.hasLayer(this)){if(this._map=h,this._zoomAnimated=h._zoomAnimated,this.getEvents){var y=this.getEvents();h.on(y,this),this.once("remove",function(){h.off(y,this)},this)}this.onAdd(h),this.fire("add"),h.fire("layeradd",{layer:this})}}});et.include({addLayer:function(c){if(!c._layerAdd)throw new Error("The provided object is not a Layer.");var h=l(c);return this._layers[h]?this:(this._layers[h]=c,c._mapToAdd=this,c.beforeAdd&&c.beforeAdd(this),this.whenReady(c._layerAdd,c),this)},removeLayer:function(c){var h=l(c);return this._layers[h]?(this._loaded&&c.onRemove(this),delete this._layers[h],this._loaded&&(this.fire("layerremove",{layer:c}),c.fire("remove")),c._map=c._mapToAdd=null,this):this},hasLayer:function(c){return l(c)in this._layers},eachLayer:function(c,h){for(var y in this._layers)c.call(h,this._layers[y]);return this},_addLayers:function(c){c=c?A(c)?c:[c]:[];for(var h=0,y=c.length;h<y;h++)this.addLayer(c[h])},_addZoomLimit:function(c){(!isNaN(c.options.maxZoom)||!isNaN(c.options.minZoom))&&(this._zoomBoundLayers[l(c)]=c,this._updateZoomLevels())},_removeZoomLimit:function(c){var h=l(c);this._zoomBoundLayers[h]&&(delete this._zoomBoundLayers[h],this._updateZoomLevels())},_updateZoomLevels:function(){var c=1/0,h=-1/0,y=this._getZoomSpan();for(var x in this._zoomBoundLayers){var C=this._zoomBoundLayers[x].options;c=C.minZoom===void 0?c:Math.min(c,C.minZoom),h=C.maxZoom===void 0?h:Math.max(h,C.maxZoom)}this._layersMaxZoom=h===-1/0?void 0:h,this._layersMinZoom=c===1/0?void 0:c,y!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var so=ri.extend({initialize:function(c,h){b(this,h),this._layers={};var y,x;if(c)for(y=0,x=c.length;y<x;y++)this.addLayer(c[y])},addLayer:function(c){var h=this.getLayerId(c);return this._layers[h]=c,this._map&&this._map.addLayer(c),this},removeLayer:function(c){var h=c in this._layers?c:this.getLayerId(c);return this._map&&this._layers[h]&&this._map.removeLayer(this._layers[h]),delete this._layers[h],this},hasLayer:function(c){var h=typeof c=="number"?c:this.getLayerId(c);return h in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(c){var h=Array.prototype.slice.call(arguments,1),y,x;for(y in this._layers)x=this._layers[y],x[c]&&x[c].apply(x,h);return this},onAdd:function(c){this.eachLayer(c.addLayer,c)},onRemove:function(c){this.eachLayer(c.removeLayer,c)},eachLayer:function(c,h){for(var y in this._layers)c.call(h,this._layers[y]);return this},getLayer:function(c){return this._layers[c]},getLayers:function(){var c=[];return this.eachLayer(c.push,c),c},setZIndex:function(c){return this.invoke("setZIndex",c)},getLayerId:function(c){return l(c)}}),E3=function(c,h){return new so(c,h)},Zi=so.extend({addLayer:function(c){return this.hasLayer(c)?this:(c.addEventParent(this),so.prototype.addLayer.call(this,c),this.fire("layeradd",{layer:c}))},removeLayer:function(c){return this.hasLayer(c)?(c in this._layers&&(c=this._layers[c]),c.removeEventParent(this),so.prototype.removeLayer.call(this,c),this.fire("layerremove",{layer:c})):this},setStyle:function(c){return this.invoke("setStyle",c)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var c=new Te;for(var h in this._layers){var y=this._layers[h];c.extend(y.getBounds?y.getBounds():y.getLatLng())}return c}}),A3=function(c,h){return new Zi(c,h)},ro=W.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(c){b(this,c)},createIcon:function(c){return this._createIcon("icon",c)},createShadow:function(c){return this._createIcon("shadow",c)},_createIcon:function(c,h){var y=this._getIconUrl(c);if(!y){if(c==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var x=this._createImg(y,h&&h.tagName==="IMG"?h:null);return this._setIconStyles(x,c),(this.options.crossOrigin||this.options.crossOrigin==="")&&(x.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),x},_setIconStyles:function(c,h){var y=this.options,x=y[h+"Size"];typeof x=="number"&&(x=[x,x]);var C=G(x),D=G(h==="shadow"&&y.shadowAnchor||y.iconAnchor||C&&C.divideBy(2,!0));c.className="leaflet-marker-"+h+" "+(y.className||""),D&&(c.style.marginLeft=-D.x+"px",c.style.marginTop=-D.y+"px"),C&&(c.style.width=C.x+"px",c.style.height=C.y+"px")},_createImg:function(c,h){return h=h||document.createElement("img"),h.src=c,h},_getIconUrl:function(c){return Re.retina&&this.options[c+"RetinaUrl"]||this.options[c+"Url"]}});function O3(c){return new ro(c)}var _a=ro.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(c){return typeof _a.imagePath!="string"&&(_a.imagePath=this._detectIconPath()),(this.options.imagePath||_a.imagePath)+ro.prototype._getIconUrl.call(this,c)},_stripUrl:function(c){var h=function(y,x,C){var D=x.exec(y);return D&&D[C]};return c=h(c,/^url\((['"])?(.+)\1\)$/,2),c&&h(c,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var c=nt("div","leaflet-default-icon-path",document.body),h=da(c,"background-image")||da(c,"backgroundImage");if(document.body.removeChild(c),h=this._stripUrl(h),h)return h;var y=document.querySelector('link[href$="leaflet.css"]');return y?y.href.substring(0,y.href.length-11-1):""}}),d0=Si.extend({initialize:function(c){this._marker=c},addHooks:function(){var c=this._marker._icon;this._draggable||(this._draggable=new _s(c,c,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ze(c,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Rt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(c){var h=this._marker,y=h._map,x=this._marker.options.autoPanSpeed,C=this._marker.options.autoPanPadding,D=cr(h._icon),$=y.getPixelBounds(),U=y.getPixelOrigin(),J=we($.min._subtract(U).add(C),$.max._subtract(U).subtract(C));if(!J.contains(D)){var re=G((Math.max(J.max.x,D.x)-J.max.x)/($.max.x-J.max.x)-(Math.min(J.min.x,D.x)-J.min.x)/($.min.x-J.min.x),(Math.max(J.max.y,D.y)-J.max.y)/($.max.y-J.max.y)-(Math.min(J.min.y,D.y)-J.min.y)/($.min.y-J.min.y)).multiplyBy(x);y.panBy(re,{animate:!1}),this._draggable._newPos._add(re),this._draggable._startPos._add(re),It(h._icon,this._draggable._newPos),this._onDrag(c),this._panRequest=N(this._adjustPan.bind(this,c))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(c){this._marker.options.autoPan&&(B(this._panRequest),this._panRequest=N(this._adjustPan.bind(this,c)))},_onDrag:function(c){var h=this._marker,y=h._shadow,x=cr(h._icon),C=h._map.layerPointToLatLng(x);y&&It(y,x),h._latlng=C,c.latlng=C,c.oldLatLng=this._oldLatLng,h.fire("move",c).fire("drag",c)},_onDragEnd:function(c){B(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",c)}}),lc=ri.extend({options:{icon:new _a,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(c,h){b(this,h),this._latlng=be(c)},onAdd:function(c){this._zoomAnimated=this._zoomAnimated&&c.options.markerZoomAnimation,this._zoomAnimated&&c.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(c){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&c.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(c){var h=this._latlng;return this._latlng=be(c),this.update(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},setZIndexOffset:function(c){return this.options.zIndexOffset=c,this.update()},getIcon:function(){return this.options.icon},setIcon:function(c){return this.options.icon=c,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var c=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(c)}return this},_initIcon:function(){var c=this.options,h="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),y=c.icon.createIcon(this._icon),x=!1;y!==this._icon&&(this._icon&&this._removeIcon(),x=!0,c.title&&(y.title=c.title),y.tagName==="IMG"&&(y.alt=c.alt||"")),Ze(y,h),c.keyboard&&(y.tabIndex="0",y.setAttribute("role","button")),this._icon=y,c.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ve(y,"focus",this._panOnFocus,this);var C=c.icon.createShadow(this._shadow),D=!1;C!==this._shadow&&(this._removeShadow(),D=!0),C&&(Ze(C,h),C.alt=""),this._shadow=C,c.opacity<1&&this._updateOpacity(),x&&this.getPane().appendChild(this._icon),this._initInteraction(),C&&D&&this.getPane(c.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&pt(this._icon,"focus",this._panOnFocus,this),Mt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Mt(this._shadow),this._shadow=null},_setPos:function(c){this._icon&&It(this._icon,c),this._shadow&&It(this._shadow,c),this._zIndex=c.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(c){this._icon&&(this._icon.style.zIndex=this._zIndex+c)},_animateZoom:function(c){var h=this._map._latLngToNewLayerPoint(this._latlng,c.zoom,c.center).round();this._setPos(h)},_initInteraction:function(){if(this.options.interactive&&(Ze(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),d0)){var c=this.options.draggable;this.dragging&&(c=this.dragging.enabled(),this.dragging.disable()),this.dragging=new d0(this),c&&this.dragging.enable()}},setOpacity:function(c){return this.options.opacity=c,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var c=this.options.opacity;this._icon&&Wn(this._icon,c),this._shadow&&Wn(this._shadow,c)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var c=this._map;if(c){var h=this.options.icon.options,y=h.iconSize?G(h.iconSize):G(0,0),x=h.iconAnchor?G(h.iconAnchor):G(0,0);c.panInside(this._latlng,{paddingTopLeft:x,paddingBottomRight:y.subtract(x)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function L3(c,h){return new lc(c,h)}var vs=ri.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(c){this._renderer=c.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(c){return b(this,c),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&c&&Object.prototype.hasOwnProperty.call(c,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),cc=vs.extend({options:{fill:!0,radius:10},initialize:function(c,h){b(this,h),this._latlng=be(c),this._radius=this.options.radius},setLatLng:function(c){var h=this._latlng;return this._latlng=be(c),this.redraw(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(c){return this.options.radius=this._radius=c,this.redraw()},getRadius:function(){return this._radius},setStyle:function(c){var h=c&&c.radius||this._radius;return vs.prototype.setStyle.call(this,c),this.setRadius(h),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var c=this._radius,h=this._radiusY||c,y=this._clickTolerance(),x=[c+y,h+y];this._pxBounds=new te(this._point.subtract(x),this._point.add(x))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(c){return c.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function R3(c,h){return new cc(c,h)}var Sh=cc.extend({initialize:function(c,h,y){if(typeof h=="number"&&(h=s({},y,{radius:h})),b(this,h),this._latlng=be(c),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(c){return this._mRadius=c,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var c=[this._radius,this._radiusY||this._radius];return new Te(this._map.layerPointToLatLng(this._point.subtract(c)),this._map.layerPointToLatLng(this._point.add(c)))},setStyle:vs.prototype.setStyle,_project:function(){var c=this._latlng.lng,h=this._latlng.lat,y=this._map,x=y.options.crs;if(x.distance===ue.distance){var C=Math.PI/180,D=this._mRadius/ue.R/C,$=y.project([h+D,c]),U=y.project([h-D,c]),J=$.add(U).divideBy(2),re=y.unproject(J).lat,Se=Math.acos((Math.cos(D*C)-Math.sin(h*C)*Math.sin(re*C))/(Math.cos(h*C)*Math.cos(re*C)))/C;(isNaN(Se)||Se===0)&&(Se=D/Math.cos(Math.PI/180*h)),this._point=J.subtract(y.getPixelOrigin()),this._radius=isNaN(Se)?0:J.x-y.project([re,c-Se]).x,this._radiusY=J.y-$.y}else{var ze=x.unproject(x.project(this._latlng).subtract([this._mRadius,0]));this._point=y.latLngToLayerPoint(this._latlng),this._radius=this._point.x-y.latLngToLayerPoint(ze).x}this._updateBounds()}});function D3(c,h,y){return new Sh(c,h,y)}var Ki=vs.extend({options:{smoothFactor:1,noClip:!1},initialize:function(c,h){b(this,h),this._setLatLngs(c)},getLatLngs:function(){return this._latlngs},setLatLngs:function(c){return this._setLatLngs(c),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(c){for(var h=1/0,y=null,x=ya,C,D,$=0,U=this._parts.length;$<U;$++)for(var J=this._parts[$],re=1,Se=J.length;re<Se;re++){C=J[re-1],D=J[re];var ze=x(c,C,D,!0);ze<h&&(h=ze,y=x(c,C,D))}return y&&(y.distance=Math.sqrt(h)),y},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return c0(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(c,h){return h=h||this._defaultShape(),c=be(c),h.push(c),this._bounds.extend(c),this.redraw()},_setLatLngs:function(c){this._bounds=new Te,this._latlngs=this._convertLatLngs(c)},_defaultShape:function(){return Un(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(c){for(var h=[],y=Un(c),x=0,C=c.length;x<C;x++)y?(h[x]=be(c[x]),this._bounds.extend(h[x])):h[x]=this._convertLatLngs(c[x]);return h},_project:function(){var c=new te;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,c),this._bounds.isValid()&&c.isValid()&&(this._rawPxBounds=c,this._updateBounds())},_updateBounds:function(){var c=this._clickTolerance(),h=new H(c,c);this._rawPxBounds&&(this._pxBounds=new te([this._rawPxBounds.min.subtract(h),this._rawPxBounds.max.add(h)]))},_projectLatlngs:function(c,h,y){var x=c[0]instanceof Ce,C=c.length,D,$;if(x){for($=[],D=0;D<C;D++)$[D]=this._map.latLngToLayerPoint(c[D]),y.extend($[D]);h.push($)}else for(D=0;D<C;D++)this._projectLatlngs(c[D],h,y)},_clipPoints:function(){var c=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(c))){if(this.options.noClip){this._parts=this._rings;return}var h=this._parts,y,x,C,D,$,U,J;for(y=0,C=0,D=this._rings.length;y<D;y++)for(J=this._rings[y],x=0,$=J.length;x<$-1;x++)U=a0(J[x],J[x+1],c,x,!0),U&&(h[C]=h[C]||[],h[C].push(U[0]),(U[1]!==J[x+1]||x===$-2)&&(h[C].push(U[1]),C++))}},_simplifyPoints:function(){for(var c=this._parts,h=this.options.smoothFactor,y=0,x=c.length;y<x;y++)c[y]=s0(c[y],h)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(c,h){var y,x,C,D,$,U,J=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(c))return!1;for(y=0,D=this._parts.length;y<D;y++)for(U=this._parts[y],x=0,$=U.length,C=$-1;x<$;C=x++)if(!(!h&&x===0)&&r0(c,U[C],U[x])<=J)return!0;return!1}});function I3(c,h){return new Ki(c,h)}Ki._flat=l0;var oo=Ki.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return i0(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(c){var h=Ki.prototype._convertLatLngs.call(this,c),y=h.length;return y>=2&&h[0]instanceof Ce&&h[0].equals(h[y-1])&&h.pop(),h},_setLatLngs:function(c){Ki.prototype._setLatLngs.call(this,c),Un(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Un(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var c=this._renderer._bounds,h=this.options.weight,y=new H(h,h);if(c=new te(c.min.subtract(y),c.max.add(y)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(c))){if(this.options.noClip){this._parts=this._rings;return}for(var x=0,C=this._rings.length,D;x<C;x++)D=n0(this._rings[x],c,!0),D.length&&this._parts.push(D)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(c){var h=!1,y,x,C,D,$,U,J,re;if(!this._pxBounds||!this._pxBounds.contains(c))return!1;for(D=0,J=this._parts.length;D<J;D++)for(y=this._parts[D],$=0,re=y.length,U=re-1;$<re;U=$++)x=y[$],C=y[U],x.y>c.y!=C.y>c.y&&c.x<(C.x-x.x)*(c.y-x.y)/(C.y-x.y)+x.x&&(h=!h);return h||Ki.prototype._containsPoint.call(this,c,!0)}});function j3(c,h){return new oo(c,h)}var qi=Zi.extend({initialize:function(c,h){b(this,h),this._layers={},c&&this.addData(c)},addData:function(c){var h=A(c)?c:c.features,y,x,C;if(h){for(y=0,x=h.length;y<x;y++)C=h[y],(C.geometries||C.geometry||C.features||C.coordinates)&&this.addData(C);return this}var D=this.options;if(D.filter&&!D.filter(c))return this;var $=uc(c,D);return $?($.feature=fc(c),$.defaultOptions=$.options,this.resetStyle($),D.onEachFeature&&D.onEachFeature(c,$),this.addLayer($)):this},resetStyle:function(c){return c===void 0?this.eachLayer(this.resetStyle,this):(c.options=s({},c.defaultOptions),this._setLayerStyle(c,this.options.style),this)},setStyle:function(c){return this.eachLayer(function(h){this._setLayerStyle(h,c)},this)},_setLayerStyle:function(c,h){c.setStyle&&(typeof h=="function"&&(h=h(c.feature)),c.setStyle(h))}});function uc(c,h){var y=c.type==="Feature"?c.geometry:c,x=y?y.coordinates:null,C=[],D=h&&h.pointToLayer,$=h&&h.coordsToLatLng||Mh,U,J,re,Se;if(!x&&!y)return null;switch(y.type){case"Point":return U=$(x),h0(D,c,U,h);case"MultiPoint":for(re=0,Se=x.length;re<Se;re++)U=$(x[re]),C.push(h0(D,c,U,h));return new Zi(C);case"LineString":case"MultiLineString":return J=dc(x,y.type==="LineString"?0:1,$),new Ki(J,h);case"Polygon":case"MultiPolygon":return J=dc(x,y.type==="Polygon"?1:2,$),new oo(J,h);case"GeometryCollection":for(re=0,Se=y.geometries.length;re<Se;re++){var ze=uc({geometry:y.geometries[re],type:"Feature",properties:c.properties},h);ze&&C.push(ze)}return new Zi(C);case"FeatureCollection":for(re=0,Se=y.features.length;re<Se;re++){var qe=uc(y.features[re],h);qe&&C.push(qe)}return new Zi(C);default:throw new Error("Invalid GeoJSON object.")}}function h0(c,h,y,x){return c?c(h,y):new lc(y,x&&x.markersInheritOptions&&x)}function Mh(c){return new Ce(c[1],c[0],c[2])}function dc(c,h,y){for(var x=[],C=0,D=c.length,$;C<D;C++)$=h?dc(c[C],h-1,y):(y||Mh)(c[C]),x.push($);return x}function Ch(c,h){return c=be(c),c.alt!==void 0?[p(c.lng,h),p(c.lat,h),p(c.alt,h)]:[p(c.lng,h),p(c.lat,h)]}function hc(c,h,y,x){for(var C=[],D=0,$=c.length;D<$;D++)C.push(h?hc(c[D],Un(c[D])?0:h-1,y,x):Ch(c[D],x));return!h&&y&&C.length>0&&C.push(C[0].slice()),C}function ao(c,h){return c.feature?s({},c.feature,{geometry:h}):fc(h)}function fc(c){return c.type==="Feature"||c.type==="FeatureCollection"?c:{type:"Feature",properties:{},geometry:c}}var Th={toGeoJSON:function(c){return ao(this,{type:"Point",coordinates:Ch(this.getLatLng(),c)})}};lc.include(Th),Sh.include(Th),cc.include(Th),Ki.include({toGeoJSON:function(c){var h=!Un(this._latlngs),y=hc(this._latlngs,h?1:0,!1,c);return ao(this,{type:(h?"Multi":"")+"LineString",coordinates:y})}}),oo.include({toGeoJSON:function(c){var h=!Un(this._latlngs),y=h&&!Un(this._latlngs[0]),x=hc(this._latlngs,y?2:h?1:0,!0,c);return h||(x=[x]),ao(this,{type:(y?"Multi":"")+"Polygon",coordinates:x})}}),so.include({toMultiPoint:function(c){var h=[];return this.eachLayer(function(y){h.push(y.toGeoJSON(c).geometry.coordinates)}),ao(this,{type:"MultiPoint",coordinates:h})},toGeoJSON:function(c){var h=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(h==="MultiPoint")return this.toMultiPoint(c);var y=h==="GeometryCollection",x=[];return this.eachLayer(function(C){if(C.toGeoJSON){var D=C.toGeoJSON(c);if(y)x.push(D.geometry);else{var $=fc(D);$.type==="FeatureCollection"?x.push.apply(x,$.features):x.push($)}}}),y?ao(this,{geometries:x,type:"GeometryCollection"}):{type:"FeatureCollection",features:x}}});function f0(c,h){return new qi(c,h)}var N3=f0,pc=ri.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(c,h,y){this._url=c,this._bounds=Ee(h),b(this,y)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ze(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Mt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(c){return this.options.opacity=c,this._image&&this._updateOpacity(),this},setStyle:function(c){return c.opacity&&this.setOpacity(c.opacity),this},bringToFront:function(){return this._map&&no(this._image),this},bringToBack:function(){return this._map&&io(this._image),this},setUrl:function(c){return this._url=c,this._image&&(this._image.src=c),this},setBounds:function(c){return this._bounds=Ee(c),this._map&&this._reset(),this},getEvents:function(){var c={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(c.zoomanim=this._animateZoom),c},setZIndex:function(c){return this.options.zIndex=c,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var c=this._url.tagName==="IMG",h=this._image=c?this._url:nt("img");if(Ze(h,"leaflet-image-layer"),this._zoomAnimated&&Ze(h,"leaflet-zoom-animated"),this.options.className&&Ze(h,this.options.className),h.onselectstart=f,h.onmousemove=f,h.onload=o(this.fire,this,"load"),h.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),c){this._url=h.src;return}h.src=this._url,h.alt=this.options.alt},_animateZoom:function(c){var h=this._map.getZoomScale(c.zoom),y=this._map._latLngBoundsToNewLayerBounds(this._bounds,c.zoom,c.center).min;lr(this._image,y,h)},_reset:function(){var c=this._image,h=new te(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),y=h.getSize();It(c,h.min),c.style.width=y.x+"px",c.style.height=y.y+"px"},_updateOpacity:function(){Wn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var c=this.options.errorOverlayUrl;c&&this._url!==c&&(this._url=c,this._image.src=c)},getCenter:function(){return this._bounds.getCenter()}}),z3=function(c,h,y){return new pc(c,h,y)},p0=pc.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var c=this._url.tagName==="VIDEO",h=this._image=c?this._url:nt("video");if(Ze(h,"leaflet-image-layer"),this._zoomAnimated&&Ze(h,"leaflet-zoom-animated"),this.options.className&&Ze(h,this.options.className),h.onselectstart=f,h.onmousemove=f,h.onloadeddata=o(this.fire,this,"load"),c){for(var y=h.getElementsByTagName("source"),x=[],C=0;C<y.length;C++)x.push(y[C].src);this._url=y.length>0?x:[h.src];return}A(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(h.style,"objectFit")&&(h.style.objectFit="fill"),h.autoplay=!!this.options.autoplay,h.loop=!!this.options.loop,h.muted=!!this.options.muted,h.playsInline=!!this.options.playsInline;for(var D=0;D<this._url.length;D++){var $=nt("source");$.src=this._url[D],h.appendChild($)}}});function B3(c,h,y){return new p0(c,h,y)}var m0=pc.extend({_initImage:function(){var c=this._image=this._url;Ze(c,"leaflet-image-layer"),this._zoomAnimated&&Ze(c,"leaflet-zoom-animated"),this.options.className&&Ze(c,this.options.className),c.onselectstart=f,c.onmousemove=f}});function F3(c,h,y){return new m0(c,h,y)}var Mi=ri.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(c,h){c&&(c instanceof Ce||A(c))?(this._latlng=be(c),b(this,h)):(b(this,c),this._source=h),this.options.content&&(this._content=this.options.content)},openOn:function(c){return c=arguments.length?c:this._source._map,c.hasLayer(this)||c.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(c){return this._map?this.close():(arguments.length?this._source=c:c=this._source,this._prepareOpen(),this.openOn(c._map)),this},onAdd:function(c){this._zoomAnimated=c._zoomAnimated,this._container||this._initLayout(),c._fadeAnimated&&Wn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),c._fadeAnimated&&Wn(this._container,1),this.bringToFront(),this.options.interactive&&(Ze(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(c){c._fadeAnimated?(Wn(this._container,0),this._removeTimeout=setTimeout(o(Mt,void 0,this._container),200)):Mt(this._container),this.options.interactive&&(Rt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(c){return this._latlng=be(c),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(c){return this._content=c,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var c={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(c.zoomanim=this._animateZoom),c},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&no(this._container),this},bringToBack:function(){return this._map&&io(this._container),this},_prepareOpen:function(c){var h=this._source;if(!h._map)return!1;if(h instanceof Zi){h=null;var y=this._source._layers;for(var x in y)if(y[x]._map){h=y[x];break}if(!h)return!1;this._source=h}if(!c)if(h.getCenter)c=h.getCenter();else if(h.getLatLng)c=h.getLatLng();else if(h.getBounds)c=h.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(c),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var c=this._contentNode,h=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof h=="string")c.innerHTML=h;else{for(;c.hasChildNodes();)c.removeChild(c.firstChild);c.appendChild(h)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var c=this._map.latLngToLayerPoint(this._latlng),h=G(this.options.offset),y=this._getAnchor();this._zoomAnimated?It(this._container,c.add(y)):h=h.add(c).add(y);var x=this._containerBottom=-h.y,C=this._containerLeft=-Math.round(this._containerWidth/2)+h.x;this._container.style.bottom=x+"px",this._container.style.left=C+"px"}},_getAnchor:function(){return[0,0]}});et.include({_initOverlay:function(c,h,y,x){var C=h;return C instanceof c||(C=new c(x).setContent(h)),y&&C.setLatLng(y),C}}),ri.include({_initOverlay:function(c,h,y,x){var C=y;return C instanceof c?(b(C,x),C._source=this):(C=h&&!x?h:new c(x,this),C.setContent(y)),C}});var mc=Mi.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(c){return c=arguments.length?c:this._source._map,!c.hasLayer(this)&&c._popup&&c._popup.options.autoClose&&c.removeLayer(c._popup),c._popup=this,Mi.prototype.openOn.call(this,c)},onAdd:function(c){Mi.prototype.onAdd.call(this,c),c.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof vs||this._source.on("preclick",ur))},onRemove:function(c){Mi.prototype.onRemove.call(this,c),c.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof vs||this._source.off("preclick",ur))},getEvents:function(){var c=Mi.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(c.preclick=this.close),this.options.keepInView&&(c.moveend=this._adjustPan),c},_initLayout:function(){var c="leaflet-popup",h=this._container=nt("div",c+" "+(this.options.className||"")+" leaflet-zoom-animated"),y=this._wrapper=nt("div",c+"-content-wrapper",h);if(this._contentNode=nt("div",c+"-content",y),ma(h),gh(this._contentNode),Ve(h,"contextmenu",ur),this._tipContainer=nt("div",c+"-tip-container",h),this._tip=nt("div",c+"-tip",this._tipContainer),this.options.closeButton){var x=this._closeButton=nt("a",c+"-close-button",h);x.setAttribute("role","button"),x.setAttribute("aria-label","Close popup"),x.href="#close",x.innerHTML='<span aria-hidden="true">&#215;</span>',Ve(x,"click",function(C){Qt(C),this.close()},this)}},_updateLayout:function(){var c=this._contentNode,h=c.style;h.width="",h.whiteSpace="nowrap";var y=c.offsetWidth;y=Math.min(y,this.options.maxWidth),y=Math.max(y,this.options.minWidth),h.width=y+1+"px",h.whiteSpace="",h.height="";var x=c.offsetHeight,C=this.options.maxHeight,D="leaflet-popup-scrolled";C&&x>C?(h.height=C+"px",Ze(c,D)):Rt(c,D),this._containerWidth=this._container.offsetWidth},_animateZoom:function(c){var h=this._map._latLngToNewLayerPoint(this._latlng,c.zoom,c.center),y=this._getAnchor();It(this._container,h.add(y))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var c=this._map,h=parseInt(da(this._container,"marginBottom"),10)||0,y=this._container.offsetHeight+h,x=this._containerWidth,C=new H(this._containerLeft,-y-this._containerBottom);C._add(cr(this._container));var D=c.layerPointToContainerPoint(C),$=G(this.options.autoPanPadding),U=G(this.options.autoPanPaddingTopLeft||$),J=G(this.options.autoPanPaddingBottomRight||$),re=c.getSize(),Se=0,ze=0;D.x+x+J.x>re.x&&(Se=D.x+x-re.x+J.x),D.x-Se-U.x<0&&(Se=D.x-U.x),D.y+y+J.y>re.y&&(ze=D.y+y-re.y+J.y),D.y-ze-U.y<0&&(ze=D.y-U.y),(Se||ze)&&(this.options.keepInView&&(this._autopanning=!0),c.fire("autopanstart").panBy([Se,ze]))}},_getAnchor:function(){return G(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),$3=function(c,h){return new mc(c,h)};et.mergeOptions({closePopupOnClick:!0}),et.include({openPopup:function(c,h,y){return this._initOverlay(mc,c,h,y).openOn(this),this},closePopup:function(c){return c=arguments.length?c:this._popup,c&&c.close(),this}}),ri.include({bindPopup:function(c,h){return this._popup=this._initOverlay(mc,this._popup,c,h),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(c){return this._popup&&(this instanceof Zi||(this._popup._source=this),this._popup._prepareOpen(c||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(c){return this._popup&&this._popup.setContent(c),this},getPopup:function(){return this._popup},_openPopup:function(c){if(!(!this._popup||!this._map)){dr(c);var h=c.layer||c.target;if(this._popup._source===h&&!(h instanceof vs)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(c.latlng);return}this._popup._source=h,this.openPopup(c.latlng)}},_movePopup:function(c){this._popup.setLatLng(c.latlng)},_onKeyPress:function(c){c.originalEvent.keyCode===13&&this._openPopup(c)}});var gc=Mi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(c){Mi.prototype.onAdd.call(this,c),this.setOpacity(this.options.opacity),c.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(c){Mi.prototype.onRemove.call(this,c),c.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var c=Mi.prototype.getEvents.call(this);return this.options.permanent||(c.preclick=this.close),c},_initLayout:function(){var c="leaflet-tooltip",h=c+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=nt("div",h),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+l(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(c){var h,y,x=this._map,C=this._container,D=x.latLngToContainerPoint(x.getCenter()),$=x.layerPointToContainerPoint(c),U=this.options.direction,J=C.offsetWidth,re=C.offsetHeight,Se=G(this.options.offset),ze=this._getAnchor();U==="top"?(h=J/2,y=re):U==="bottom"?(h=J/2,y=0):U==="center"?(h=J/2,y=re/2):U==="right"?(h=0,y=re/2):U==="left"?(h=J,y=re/2):$.x<D.x?(U="right",h=0,y=re/2):(U="left",h=J+(Se.x+ze.x)*2,y=re/2),c=c.subtract(G(h,y,!0)).add(Se).add(ze),Rt(C,"leaflet-tooltip-right"),Rt(C,"leaflet-tooltip-left"),Rt(C,"leaflet-tooltip-top"),Rt(C,"leaflet-tooltip-bottom"),Ze(C,"leaflet-tooltip-"+U),It(C,c)},_updatePosition:function(){var c=this._map.latLngToLayerPoint(this._latlng);this._setPosition(c)},setOpacity:function(c){this.options.opacity=c,this._container&&Wn(this._container,c)},_animateZoom:function(c){var h=this._map._latLngToNewLayerPoint(this._latlng,c.zoom,c.center);this._setPosition(h)},_getAnchor:function(){return G(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),H3=function(c,h){return new gc(c,h)};et.include({openTooltip:function(c,h,y){return this._initOverlay(gc,c,h,y).openOn(this),this},closeTooltip:function(c){return c.close(),this}}),ri.include({bindTooltip:function(c,h){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(gc,this._tooltip,c,h),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(c){if(!(!c&&this._tooltipHandlersAdded)){var h=c?"off":"on",y={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?y.add=this._openTooltip:(y.mouseover=this._openTooltip,y.mouseout=this.closeTooltip,y.click=this._openTooltip,this._map?this._addFocusListeners():y.add=this._addFocusListeners),this._tooltip.options.sticky&&(y.mousemove=this._moveTooltip),this[h](y),this._tooltipHandlersAdded=!c}},openTooltip:function(c){return this._tooltip&&(this instanceof Zi||(this._tooltip._source=this),this._tooltip._prepareOpen(c)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(c){return this._tooltip&&this._tooltip.setContent(c),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(c){var h=typeof c.getElement=="function"&&c.getElement();h&&(Ve(h,"focus",function(){this._tooltip._source=c,this.openTooltip()},this),Ve(h,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(c){var h=typeof c.getElement=="function"&&c.getElement();h&&h.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(c){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var h=this;this._map.once("moveend",function(){h._openOnceFlag=!1,h._openTooltip(c)});return}this._tooltip._source=c.layer||c.target,this.openTooltip(this._tooltip.options.sticky?c.latlng:void 0)}},_moveTooltip:function(c){var h=c.latlng,y,x;this._tooltip.options.sticky&&c.originalEvent&&(y=this._map.mouseEventToContainerPoint(c.originalEvent),x=this._map.containerPointToLayerPoint(y),h=this._map.layerPointToLatLng(x)),this._tooltip.setLatLng(h)}});var g0=ro.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(c){var h=c&&c.tagName==="DIV"?c:document.createElement("div"),y=this.options;if(y.html instanceof Element?(nc(h),h.appendChild(y.html)):h.innerHTML=y.html!==!1?y.html:"",y.bgPos){var x=G(y.bgPos);h.style.backgroundPosition=-x.x+"px "+-x.y+"px"}return this._setIconStyles(h,"icon"),h},createShadow:function(){return null}});function V3(c){return new g0(c)}ro.Default=_a;var va=ri.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Re.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(c){b(this,c)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(c){c._addZoomLimit(this)},onRemove:function(c){this._removeAllTiles(),Mt(this._container),c._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(no(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(io(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(c){return this.options.opacity=c,this._updateOpacity(),this},setZIndex:function(c){return this.options.zIndex=c,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var c=this._clampZoom(this._map.getZoom());c!==this._tileZoom&&(this._tileZoom=c,this._updateLevels()),this._update()}return this},getEvents:function(){var c={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=u(this._onMoveEnd,this.options.updateInterval,this)),c.move=this._onMove),this._zoomAnimated&&(c.zoomanim=this._animateZoom),c},createTile:function(){return document.createElement("div")},getTileSize:function(){var c=this.options.tileSize;return c instanceof H?c:new H(c,c)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(c){for(var h=this.getPane().children,y=-c(-1/0,1/0),x=0,C=h.length,D;x<C;x++)D=h[x].style.zIndex,h[x]!==this._container&&D&&(y=c(y,+D));isFinite(y)&&(this.options.zIndex=y+c(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Re.ielt9){Wn(this._container,this.options.opacity);var c=+new Date,h=!1,y=!1;for(var x in this._tiles){var C=this._tiles[x];if(!(!C.current||!C.loaded)){var D=Math.min(1,(c-C.loaded)/200);Wn(C.el,D),D<1?h=!0:(C.active?y=!0:this._onOpaqueTile(C),C.active=!0)}}y&&!this._noPrune&&this._pruneTiles(),h&&(B(this._fadeFrame),this._fadeFrame=N(this._updateOpacity,this))}},_onOpaqueTile:f,_initContainer:function(){this._container||(this._container=nt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var c=this._tileZoom,h=this.options.maxZoom;if(c!==void 0){for(var y in this._levels)y=Number(y),this._levels[y].el.children.length||y===c?(this._levels[y].el.style.zIndex=h-Math.abs(c-y),this._onUpdateLevel(y)):(Mt(this._levels[y].el),this._removeTilesAtZoom(y),this._onRemoveLevel(y),delete this._levels[y]);var x=this._levels[c],C=this._map;return x||(x=this._levels[c]={},x.el=nt("div","leaflet-tile-container leaflet-zoom-animated",this._container),x.el.style.zIndex=h,x.origin=C.project(C.unproject(C.getPixelOrigin()),c).round(),x.zoom=c,this._setZoomTransform(x,C.getCenter(),C.getZoom()),f(x.el.offsetWidth),this._onCreateLevel(x)),this._level=x,x}},_onUpdateLevel:f,_onRemoveLevel:f,_onCreateLevel:f,_pruneTiles:function(){if(this._map){var c,h,y=this._map.getZoom();if(y>this.options.maxZoom||y<this.options.minZoom){this._removeAllTiles();return}for(c in this._tiles)h=this._tiles[c],h.retain=h.current;for(c in this._tiles)if(h=this._tiles[c],h.current&&!h.active){var x=h.coords;this._retainParent(x.x,x.y,x.z,x.z-5)||this._retainChildren(x.x,x.y,x.z,x.z+2)}for(c in this._tiles)this._tiles[c].retain||this._removeTile(c)}},_removeTilesAtZoom:function(c){for(var h in this._tiles)this._tiles[h].coords.z===c&&this._removeTile(h)},_removeAllTiles:function(){for(var c in this._tiles)this._removeTile(c)},_invalidateAll:function(){for(var c in this._levels)Mt(this._levels[c].el),this._onRemoveLevel(Number(c)),delete this._levels[c];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(c,h,y,x){var C=Math.floor(c/2),D=Math.floor(h/2),$=y-1,U=new H(+C,+D);U.z=+$;var J=this._tileCoordsToKey(U),re=this._tiles[J];return re&&re.active?(re.retain=!0,!0):(re&&re.loaded&&(re.retain=!0),$>x?this._retainParent(C,D,$,x):!1)},_retainChildren:function(c,h,y,x){for(var C=2*c;C<2*c+2;C++)for(var D=2*h;D<2*h+2;D++){var $=new H(C,D);$.z=y+1;var U=this._tileCoordsToKey($),J=this._tiles[U];if(J&&J.active){J.retain=!0;continue}else J&&J.loaded&&(J.retain=!0);y+1<x&&this._retainChildren(C,D,y+1,x)}},_resetView:function(c){var h=c&&(c.pinch||c.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),h,h)},_animateZoom:function(c){this._setView(c.center,c.zoom,!0,c.noUpdate)},_clampZoom:function(c){var h=this.options;return h.minNativeZoom!==void 0&&c<h.minNativeZoom?h.minNativeZoom:h.maxNativeZoom!==void 0&&h.maxNativeZoom<c?h.maxNativeZoom:c},_setView:function(c,h,y,x){var C=Math.round(h);this.options.maxZoom!==void 0&&C>this.options.maxZoom||this.options.minZoom!==void 0&&C<this.options.minZoom?C=void 0:C=this._clampZoom(C);var D=this.options.updateWhenZooming&&C!==this._tileZoom;(!x||D)&&(this._tileZoom=C,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),C!==void 0&&this._update(c),y||this._pruneTiles(),this._noPrune=!!y),this._setZoomTransforms(c,h)},_setZoomTransforms:function(c,h){for(var y in this._levels)this._setZoomTransform(this._levels[y],c,h)},_setZoomTransform:function(c,h,y){var x=this._map.getZoomScale(y,c.zoom),C=c.origin.multiplyBy(x).subtract(this._map._getNewPixelOrigin(h,y)).round();Re.any3d?lr(c.el,C,x):It(c.el,C)},_resetGrid:function(){var c=this._map,h=c.options.crs,y=this._tileSize=this.getTileSize(),x=this._tileZoom,C=this._map.getPixelWorldBounds(this._tileZoom);C&&(this._globalTileRange=this._pxBoundsToTileRange(C)),this._wrapX=h.wrapLng&&!this.options.noWrap&&[Math.floor(c.project([0,h.wrapLng[0]],x).x/y.x),Math.ceil(c.project([0,h.wrapLng[1]],x).x/y.y)],this._wrapY=h.wrapLat&&!this.options.noWrap&&[Math.floor(c.project([h.wrapLat[0],0],x).y/y.x),Math.ceil(c.project([h.wrapLat[1],0],x).y/y.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(c){var h=this._map,y=h._animatingZoom?Math.max(h._animateToZoom,h.getZoom()):h.getZoom(),x=h.getZoomScale(y,this._tileZoom),C=h.project(c,this._tileZoom).floor(),D=h.getSize().divideBy(x*2);return new te(C.subtract(D),C.add(D))},_update:function(c){var h=this._map;if(h){var y=this._clampZoom(h.getZoom());if(c===void 0&&(c=h.getCenter()),this._tileZoom!==void 0){var x=this._getTiledPixelBounds(c),C=this._pxBoundsToTileRange(x),D=C.getCenter(),$=[],U=this.options.keepBuffer,J=new te(C.getBottomLeft().subtract([U,-U]),C.getTopRight().add([U,-U]));if(!(isFinite(C.min.x)&&isFinite(C.min.y)&&isFinite(C.max.x)&&isFinite(C.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var re in this._tiles){var Se=this._tiles[re].coords;(Se.z!==this._tileZoom||!J.contains(new H(Se.x,Se.y)))&&(this._tiles[re].current=!1)}if(Math.abs(y-this._tileZoom)>1){this._setView(c,y);return}for(var ze=C.min.y;ze<=C.max.y;ze++)for(var qe=C.min.x;qe<=C.max.x;qe++){var vn=new H(qe,ze);if(vn.z=this._tileZoom,!!this._isValidTile(vn)){var Ut=this._tiles[this._tileCoordsToKey(vn)];Ut?Ut.current=!0:$.push(vn)}}if($.sort(function(Pn,co){return Pn.distanceTo(D)-co.distanceTo(D)}),$.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Zn=document.createDocumentFragment();for(qe=0;qe<$.length;qe++)this._addTile($[qe],Zn);this._level.el.appendChild(Zn)}}}},_isValidTile:function(c){var h=this._map.options.crs;if(!h.infinite){var y=this._globalTileRange;if(!h.wrapLng&&(c.x<y.min.x||c.x>y.max.x)||!h.wrapLat&&(c.y<y.min.y||c.y>y.max.y))return!1}if(!this.options.bounds)return!0;var x=this._tileCoordsToBounds(c);return Ee(this.options.bounds).overlaps(x)},_keyToBounds:function(c){return this._tileCoordsToBounds(this._keyToTileCoords(c))},_tileCoordsToNwSe:function(c){var h=this._map,y=this.getTileSize(),x=c.scaleBy(y),C=x.add(y),D=h.unproject(x,c.z),$=h.unproject(C,c.z);return[D,$]},_tileCoordsToBounds:function(c){var h=this._tileCoordsToNwSe(c),y=new Te(h[0],h[1]);return this.options.noWrap||(y=this._map.wrapLatLngBounds(y)),y},_tileCoordsToKey:function(c){return c.x+":"+c.y+":"+c.z},_keyToTileCoords:function(c){var h=c.split(":"),y=new H(+h[0],+h[1]);return y.z=+h[2],y},_removeTile:function(c){var h=this._tiles[c];h&&(Mt(h.el),delete this._tiles[c],this.fire("tileunload",{tile:h.el,coords:this._keyToTileCoords(c)}))},_initTile:function(c){Ze(c,"leaflet-tile");var h=this.getTileSize();c.style.width=h.x+"px",c.style.height=h.y+"px",c.onselectstart=f,c.onmousemove=f,Re.ielt9&&this.options.opacity<1&&Wn(c,this.options.opacity)},_addTile:function(c,h){var y=this._getTilePos(c),x=this._tileCoordsToKey(c),C=this.createTile(this._wrapCoords(c),o(this._tileReady,this,c));this._initTile(C),this.createTile.length<2&&N(o(this._tileReady,this,c,null,C)),It(C,y),this._tiles[x]={el:C,coords:c,current:!0},h.appendChild(C),this.fire("tileloadstart",{tile:C,coords:c})},_tileReady:function(c,h,y){h&&this.fire("tileerror",{error:h,tile:y,coords:c});var x=this._tileCoordsToKey(c);y=this._tiles[x],y&&(y.loaded=+new Date,this._map._fadeAnimated?(Wn(y.el,0),B(this._fadeFrame),this._fadeFrame=N(this._updateOpacity,this)):(y.active=!0,this._pruneTiles()),h||(Ze(y.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:y.el,coords:c})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Re.ielt9||!this._map._fadeAnimated?N(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(c){return c.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(c){var h=new H(this._wrapX?d(c.x,this._wrapX):c.x,this._wrapY?d(c.y,this._wrapY):c.y);return h.z=c.z,h},_pxBoundsToTileRange:function(c){var h=this.getTileSize();return new te(c.min.unscaleBy(h).floor(),c.max.unscaleBy(h).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var c in this._tiles)if(!this._tiles[c].loaded)return!1;return!0}});function W3(c){return new va(c)}var lo=va.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(c,h){this._url=c,h=b(this,h),h.detectRetina&&Re.retina&&h.maxZoom>0?(h.tileSize=Math.floor(h.tileSize/2),h.zoomReverse?(h.zoomOffset--,h.minZoom=Math.min(h.maxZoom,h.minZoom+1)):(h.zoomOffset++,h.maxZoom=Math.max(h.minZoom,h.maxZoom-1)),h.minZoom=Math.max(0,h.minZoom)):h.zoomReverse?h.minZoom=Math.min(h.maxZoom,h.minZoom):h.maxZoom=Math.max(h.minZoom,h.maxZoom),typeof h.subdomains=="string"&&(h.subdomains=h.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(c,h){return this._url===c&&h===void 0&&(h=!0),this._url=c,h||this.redraw(),this},createTile:function(c,h){var y=document.createElement("img");return Ve(y,"load",o(this._tileOnLoad,this,h,y)),Ve(y,"error",o(this._tileOnError,this,h,y)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(y.referrerPolicy=this.options.referrerPolicy),y.alt="",y.src=this.getTileUrl(c),y},getTileUrl:function(c){var h={r:Re.retina?"@2x":"",s:this._getSubdomain(c),x:c.x,y:c.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var y=this._globalTileRange.max.y-c.y;this.options.tms&&(h.y=y),h["-y"]=y}return E(this._url,s(h,this.options))},_tileOnLoad:function(c,h){Re.ielt9?setTimeout(o(c,this,null,h),0):c(null,h)},_tileOnError:function(c,h,y){var x=this.options.errorTileUrl;x&&h.getAttribute("src")!==x&&(h.src=x),c(y,h)},_onTileRemove:function(c){c.tile.onload=null},_getZoomForUrl:function(){var c=this._tileZoom,h=this.options.maxZoom,y=this.options.zoomReverse,x=this.options.zoomOffset;return y&&(c=h-c),c+x},_getSubdomain:function(c){var h=Math.abs(c.x+c.y)%this.options.subdomains.length;return this.options.subdomains[h]},_abortLoading:function(){var c,h;for(c in this._tiles)if(this._tiles[c].coords.z!==this._tileZoom&&(h=this._tiles[c].el,h.onload=f,h.onerror=f,!h.complete)){h.src=w;var y=this._tiles[c].coords;Mt(h),delete this._tiles[c],this.fire("tileabort",{tile:h,coords:y})}},_removeTile:function(c){var h=this._tiles[c];if(h)return h.el.setAttribute("src",w),va.prototype._removeTile.call(this,c)},_tileReady:function(c,h,y){if(!(!this._map||y&&y.getAttribute("src")===w))return va.prototype._tileReady.call(this,c,h,y)}});function y0(c,h){return new lo(c,h)}var _0=lo.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(c,h){this._url=c;var y=s({},this.defaultWmsParams);for(var x in h)x in this.options||(y[x]=h[x]);h=b(this,h);var C=h.detectRetina&&Re.retina?2:1,D=this.getTileSize();y.width=D.x*C,y.height=D.y*C,this.wmsParams=y},onAdd:function(c){this._crs=this.options.crs||c.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var h=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[h]=this._crs.code,lo.prototype.onAdd.call(this,c)},getTileUrl:function(c){var h=this._tileCoordsToNwSe(c),y=this._crs,x=we(y.project(h[0]),y.project(h[1])),C=x.min,D=x.max,$=(this._wmsVersion>=1.3&&this._crs===u0?[C.y,C.x,D.y,D.x]:[C.x,C.y,D.x,D.y]).join(","),U=lo.prototype.getTileUrl.call(this,c);return U+k(this.wmsParams,U,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+$},setParams:function(c,h){return s(this.wmsParams,c),h||this.redraw(),this}});function U3(c,h){return new _0(c,h)}lo.WMS=_0,y0.wms=U3;var Gi=ri.extend({options:{padding:.1},initialize:function(c){b(this,c),l(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ze(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var c={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(c.zoomanim=this._onAnimZoom),c},_onAnimZoom:function(c){this._updateTransform(c.center,c.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(c,h){var y=this._map.getZoomScale(h,this._zoom),x=this._map.getSize().multiplyBy(.5+this.options.padding),C=this._map.project(this._center,h),D=x.multiplyBy(-y).add(C).subtract(this._map._getNewPixelOrigin(c,h));Re.any3d?lr(this._container,D,y):It(this._container,D)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var c in this._layers)this._layers[c]._reset()},_onZoomEnd:function(){for(var c in this._layers)this._layers[c]._project()},_updatePaths:function(){for(var c in this._layers)this._layers[c]._update()},_update:function(){var c=this.options.padding,h=this._map.getSize(),y=this._map.containerPointToLayerPoint(h.multiplyBy(-c)).round();this._bounds=new te(y,y.add(h.multiplyBy(1+c*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),v0=Gi.extend({options:{tolerance:0},getEvents:function(){var c=Gi.prototype.getEvents.call(this);return c.viewprereset=this._onViewPreReset,c},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Gi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var c=this._container=document.createElement("canvas");Ve(c,"mousemove",this._onMouseMove,this),Ve(c,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ve(c,"mouseout",this._handleMouseOut,this),c._leaflet_disable_events=!0,this._ctx=c.getContext("2d")},_destroyContainer:function(){B(this._redrawRequest),delete this._ctx,Mt(this._container),pt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var c;this._redrawBounds=null;for(var h in this._layers)c=this._layers[h],c._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Gi.prototype._update.call(this);var c=this._bounds,h=this._container,y=c.getSize(),x=Re.retina?2:1;It(h,c.min),h.width=x*y.x,h.height=x*y.y,h.style.width=y.x+"px",h.style.height=y.y+"px",Re.retina&&this._ctx.scale(2,2),this._ctx.translate(-c.min.x,-c.min.y),this.fire("update")}},_reset:function(){Gi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(c){this._updateDashArray(c),this._layers[l(c)]=c;var h=c._order={layer:c,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=h),this._drawLast=h,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(c){this._requestRedraw(c)},_removePath:function(c){var h=c._order,y=h.next,x=h.prev;y?y.prev=x:this._drawLast=x,x?x.next=y:this._drawFirst=y,delete c._order,delete this._layers[l(c)],this._requestRedraw(c)},_updatePath:function(c){this._extendRedrawBounds(c),c._project(),c._update(),this._requestRedraw(c)},_updateStyle:function(c){this._updateDashArray(c),this._requestRedraw(c)},_updateDashArray:function(c){if(typeof c.options.dashArray=="string"){var h=c.options.dashArray.split(/[, ]+/),y=[],x,C;for(C=0;C<h.length;C++){if(x=Number(h[C]),isNaN(x))return;y.push(x)}c.options._dashArray=y}else c.options._dashArray=c.options.dashArray},_requestRedraw:function(c){this._map&&(this._extendRedrawBounds(c),this._redrawRequest=this._redrawRequest||N(this._redraw,this))},_extendRedrawBounds:function(c){if(c._pxBounds){var h=(c.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new te,this._redrawBounds.extend(c._pxBounds.min.subtract([h,h])),this._redrawBounds.extend(c._pxBounds.max.add([h,h]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var c=this._redrawBounds;if(c){var h=c.getSize();this._ctx.clearRect(c.min.x,c.min.y,h.x,h.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var c,h=this._redrawBounds;if(this._ctx.save(),h){var y=h.getSize();this._ctx.beginPath(),this._ctx.rect(h.min.x,h.min.y,y.x,y.y),this._ctx.clip()}this._drawing=!0;for(var x=this._drawFirst;x;x=x.next)c=x.layer,(!h||c._pxBounds&&c._pxBounds.intersects(h))&&c._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(c,h){if(this._drawing){var y,x,C,D,$=c._parts,U=$.length,J=this._ctx;if(U){for(J.beginPath(),y=0;y<U;y++){for(x=0,C=$[y].length;x<C;x++)D=$[y][x],J[x?"lineTo":"moveTo"](D.x,D.y);h&&J.closePath()}this._fillStroke(J,c)}}},_updateCircle:function(c){if(!(!this._drawing||c._empty())){var h=c._point,y=this._ctx,x=Math.max(Math.round(c._radius),1),C=(Math.max(Math.round(c._radiusY),1)||x)/x;C!==1&&(y.save(),y.scale(1,C)),y.beginPath(),y.arc(h.x,h.y/C,x,0,Math.PI*2,!1),C!==1&&y.restore(),this._fillStroke(y,c)}},_fillStroke:function(c,h){var y=h.options;y.fill&&(c.globalAlpha=y.fillOpacity,c.fillStyle=y.fillColor||y.color,c.fill(y.fillRule||"evenodd")),y.stroke&&y.weight!==0&&(c.setLineDash&&c.setLineDash(h.options&&h.options._dashArray||[]),c.globalAlpha=y.opacity,c.lineWidth=y.weight,c.strokeStyle=y.color,c.lineCap=y.lineCap,c.lineJoin=y.lineJoin,c.stroke())},_onClick:function(c){for(var h=this._map.mouseEventToLayerPoint(c),y,x,C=this._drawFirst;C;C=C.next)y=C.layer,y.options.interactive&&y._containsPoint(h)&&(!(c.type==="click"||c.type==="preclick")||!this._map._draggableMoved(y))&&(x=y);this._fireEvent(x?[x]:!1,c)},_onMouseMove:function(c){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var h=this._map.mouseEventToLayerPoint(c);this._handleMouseHover(c,h)}},_handleMouseOut:function(c){var h=this._hoveredLayer;h&&(Rt(this._container,"leaflet-interactive"),this._fireEvent([h],c,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(c,h){if(!this._mouseHoverThrottled){for(var y,x,C=this._drawFirst;C;C=C.next)y=C.layer,y.options.interactive&&y._containsPoint(h)&&(x=y);x!==this._hoveredLayer&&(this._handleMouseOut(c),x&&(Ze(this._container,"leaflet-interactive"),this._fireEvent([x],c,"mouseover"),this._hoveredLayer=x)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,c),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(c,h,y){this._map._fireDOMEvent(h,y||h.type,c)},_bringToFront:function(c){var h=c._order;if(h){var y=h.next,x=h.prev;if(y)y.prev=x;else return;x?x.next=y:y&&(this._drawFirst=y),h.prev=this._drawLast,this._drawLast.next=h,h.next=null,this._drawLast=h,this._requestRedraw(c)}},_bringToBack:function(c){var h=c._order;if(h){var y=h.next,x=h.prev;if(x)x.next=y;else return;y?y.prev=x:x&&(this._drawLast=x),h.prev=null,h.next=this._drawFirst,this._drawFirst.prev=h,this._drawFirst=h,this._requestRedraw(c)}}});function b0(c){return Re.canvas?new v0(c):null}var ba=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(c){return document.createElement("<lvml:"+c+' class="lvml">')}}catch(c){}return function(c){return document.createElement("<"+c+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Z3={_initContainer:function(){this._container=nt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Gi.prototype._update.call(this),this.fire("update"))},_initPath:function(c){var h=c._container=ba("shape");Ze(h,"leaflet-vml-shape "+(this.options.className||"")),h.coordsize="1 1",c._path=ba("path"),h.appendChild(c._path),this._updateStyle(c),this._layers[l(c)]=c},_addPath:function(c){var h=c._container;this._container.appendChild(h),c.options.interactive&&c.addInteractiveTarget(h)},_removePath:function(c){var h=c._container;Mt(h),c.removeInteractiveTarget(h),delete this._layers[l(c)]},_updateStyle:function(c){var h=c._stroke,y=c._fill,x=c.options,C=c._container;C.stroked=!!x.stroke,C.filled=!!x.fill,x.stroke?(h||(h=c._stroke=ba("stroke")),C.appendChild(h),h.weight=x.weight+"px",h.color=x.color,h.opacity=x.opacity,x.dashArray?h.dashStyle=A(x.dashArray)?x.dashArray.join(" "):x.dashArray.replace(/( *, *)/g," "):h.dashStyle="",h.endcap=x.lineCap.replace("butt","flat"),h.joinstyle=x.lineJoin):h&&(C.removeChild(h),c._stroke=null),x.fill?(y||(y=c._fill=ba("fill")),C.appendChild(y),y.color=x.fillColor||x.color,y.opacity=x.fillOpacity):y&&(C.removeChild(y),c._fill=null)},_updateCircle:function(c){var h=c._point.round(),y=Math.round(c._radius),x=Math.round(c._radiusY||y);this._setPath(c,c._empty()?"M0 0":"AL "+h.x+","+h.y+" "+y+","+x+" 0,"+65535*360)},_setPath:function(c,h){c._path.v=h},_bringToFront:function(c){no(c._container)},_bringToBack:function(c){io(c._container)}},yc=Re.vml?ba:q,xa=Gi.extend({_initContainer:function(){this._container=yc("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=yc("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Mt(this._container),pt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Gi.prototype._update.call(this);var c=this._bounds,h=c.getSize(),y=this._container;(!this._svgSize||!this._svgSize.equals(h))&&(this._svgSize=h,y.setAttribute("width",h.x),y.setAttribute("height",h.y)),It(y,c.min),y.setAttribute("viewBox",[c.min.x,c.min.y,h.x,h.y].join(" ")),this.fire("update")}},_initPath:function(c){var h=c._path=yc("path");c.options.className&&Ze(h,c.options.className),c.options.interactive&&Ze(h,"leaflet-interactive"),this._updateStyle(c),this._layers[l(c)]=c},_addPath:function(c){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(c._path),c.addInteractiveTarget(c._path)},_removePath:function(c){Mt(c._path),c.removeInteractiveTarget(c._path),delete this._layers[l(c)]},_updatePath:function(c){c._project(),c._update()},_updateStyle:function(c){var h=c._path,y=c.options;h&&(y.stroke?(h.setAttribute("stroke",y.color),h.setAttribute("stroke-opacity",y.opacity),h.setAttribute("stroke-width",y.weight),h.setAttribute("stroke-linecap",y.lineCap),h.setAttribute("stroke-linejoin",y.lineJoin),y.dashArray?h.setAttribute("stroke-dasharray",y.dashArray):h.removeAttribute("stroke-dasharray"),y.dashOffset?h.setAttribute("stroke-dashoffset",y.dashOffset):h.removeAttribute("stroke-dashoffset")):h.setAttribute("stroke","none"),y.fill?(h.setAttribute("fill",y.fillColor||y.color),h.setAttribute("fill-opacity",y.fillOpacity),h.setAttribute("fill-rule",y.fillRule||"evenodd")):h.setAttribute("fill","none"))},_updatePoly:function(c,h){this._setPath(c,oe(c._parts,h))},_updateCircle:function(c){var h=c._point,y=Math.max(Math.round(c._radius),1),x=Math.max(Math.round(c._radiusY),1)||y,C="a"+y+","+x+" 0 1,0 ",D=c._empty()?"M0 0":"M"+(h.x-y)+","+h.y+C+y*2+",0 "+C+-y*2+",0 ";this._setPath(c,D)},_setPath:function(c,h){c._path.setAttribute("d",h)},_bringToFront:function(c){no(c._path)},_bringToBack:function(c){io(c._path)}});Re.vml&&xa.include(Z3);function x0(c){return Re.svg||Re.vml?new xa(c):null}et.include({getRenderer:function(c){var h=c.options.renderer||this._getPaneRenderer(c.options.pane)||this.options.renderer||this._renderer;return h||(h=this._renderer=this._createRenderer()),this.hasLayer(h)||this.addLayer(h),h},_getPaneRenderer:function(c){if(c==="overlayPane"||c===void 0)return!1;var h=this._paneRenderers[c];return h===void 0&&(h=this._createRenderer({pane:c}),this._paneRenderers[c]=h),h},_createRenderer:function(c){return this.options.preferCanvas&&b0(c)||x0(c)}});var w0=oo.extend({initialize:function(c,h){oo.prototype.initialize.call(this,this._boundsToLatLngs(c),h)},setBounds:function(c){return this.setLatLngs(this._boundsToLatLngs(c))},_boundsToLatLngs:function(c){return c=Ee(c),[c.getSouthWest(),c.getNorthWest(),c.getNorthEast(),c.getSouthEast()]}});function K3(c,h){return new w0(c,h)}xa.create=yc,xa.pointsToPath=oe,qi.geometryToLayer=uc,qi.coordsToLatLng=Mh,qi.coordsToLatLngs=dc,qi.latLngToCoords=Ch,qi.latLngsToCoords=hc,qi.getFeature=ao,qi.asFeature=fc,et.mergeOptions({boxZoom:!0});var k0=Si.extend({initialize:function(c){this._map=c,this._container=c._container,this._pane=c._panes.overlayPane,this._resetStateTimeout=0,c.on("unload",this._destroy,this)},addHooks:function(){Ve(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){pt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Mt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(c){if(!c.shiftKey||c.which!==1&&c.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ha(),lh(),this._startPoint=this._map.mouseEventToContainerPoint(c),Ve(document,{contextmenu:dr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(c){this._moved||(this._moved=!0,this._box=nt("div","leaflet-zoom-box",this._container),Ze(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(c);var h=new te(this._point,this._startPoint),y=h.getSize();It(this._box,h.min),this._box.style.width=y.x+"px",this._box.style.height=y.y+"px"},_finish:function(){this._moved&&(Mt(this._box),Rt(this._container,"leaflet-crosshair")),fa(),ch(),pt(document,{contextmenu:dr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(c){if(!(c.which!==1&&c.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var h=new Te(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(h).fire("boxzoomend",{boxZoomBounds:h})}},_onKeyDown:function(c){c.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});et.addInitHook("addHandler","boxZoom",k0),et.mergeOptions({doubleClickZoom:!0});var S0=Si.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(c){var h=this._map,y=h.getZoom(),x=h.options.zoomDelta,C=c.originalEvent.shiftKey?y-x:y+x;h.options.doubleClickZoom==="center"?h.setZoom(C):h.setZoomAround(c.containerPoint,C)}});et.addInitHook("addHandler","doubleClickZoom",S0),et.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var M0=Si.extend({addHooks:function(){if(!this._draggable){var c=this._map;this._draggable=new _s(c._mapPane,c._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),c.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),c.on("zoomend",this._onZoomEnd,this),c.whenReady(this._onZoomEnd,this))}Ze(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Rt(this._map._container,"leaflet-grab"),Rt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var c=this._map;if(c._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var h=Ee(this._map.options.maxBounds);this._offsetLimit=we(this._map.latLngToContainerPoint(h.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(h.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;c.fire("movestart").fire("dragstart"),c.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(c){if(this._map.options.inertia){var h=this._lastTime=+new Date,y=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(y),this._times.push(h),this._prunePositions(h)}this._map.fire("move",c).fire("drag",c)},_prunePositions:function(c){for(;this._positions.length>1&&c-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var c=this._map.getSize().divideBy(2),h=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=h.subtract(c).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(c,h){return c-(c-h)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var c=this._draggable._newPos.subtract(this._draggable._startPos),h=this._offsetLimit;c.x<h.min.x&&(c.x=this._viscousLimit(c.x,h.min.x)),c.y<h.min.y&&(c.y=this._viscousLimit(c.y,h.min.y)),c.x>h.max.x&&(c.x=this._viscousLimit(c.x,h.max.x)),c.y>h.max.y&&(c.y=this._viscousLimit(c.y,h.max.y)),this._draggable._newPos=this._draggable._startPos.add(c)}},_onPreDragWrap:function(){var c=this._worldWidth,h=Math.round(c/2),y=this._initialWorldOffset,x=this._draggable._newPos.x,C=(x-h+y)%c+h-y,D=(x+h+y)%c-h-y,$=Math.abs(C+y)<Math.abs(D+y)?C:D;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=$},_onDragEnd:function(c){var h=this._map,y=h.options,x=!y.inertia||c.noInertia||this._times.length<2;if(h.fire("dragend",c),x)h.fire("moveend");else{this._prunePositions(+new Date);var C=this._lastPos.subtract(this._positions[0]),D=(this._lastTime-this._times[0])/1e3,$=y.easeLinearity,U=C.multiplyBy($/D),J=U.distanceTo([0,0]),re=Math.min(y.inertiaMaxSpeed,J),Se=U.multiplyBy(re/J),ze=re/(y.inertiaDeceleration*$),qe=Se.multiplyBy(-ze/2).round();!qe.x&&!qe.y?h.fire("moveend"):(qe=h._limitOffset(qe,h.options.maxBounds),N(function(){h.panBy(qe,{duration:ze,easeLinearity:$,noMoveStart:!0,animate:!0})}))}}});et.addInitHook("addHandler","dragging",M0),et.mergeOptions({keyboard:!0,keyboardPanDelta:80});var C0=Si.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(c){this._map=c,this._setPanDelta(c.options.keyboardPanDelta),this._setZoomDelta(c.options.zoomDelta)},addHooks:function(){var c=this._map._container;c.tabIndex<=0&&(c.tabIndex="0"),Ve(c,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),pt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var c=document.body,h=document.documentElement,y=c.scrollTop||h.scrollTop,x=c.scrollLeft||h.scrollLeft;this._map._container.focus(),window.scrollTo(x,y)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(c){var h=this._panKeys={},y=this.keyCodes,x,C;for(x=0,C=y.left.length;x<C;x++)h[y.left[x]]=[-1*c,0];for(x=0,C=y.right.length;x<C;x++)h[y.right[x]]=[c,0];for(x=0,C=y.down.length;x<C;x++)h[y.down[x]]=[0,c];for(x=0,C=y.up.length;x<C;x++)h[y.up[x]]=[0,-1*c]},_setZoomDelta:function(c){var h=this._zoomKeys={},y=this.keyCodes,x,C;for(x=0,C=y.zoomIn.length;x<C;x++)h[y.zoomIn[x]]=c;for(x=0,C=y.zoomOut.length;x<C;x++)h[y.zoomOut[x]]=-c},_addHooks:function(){Ve(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){pt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(c){if(!(c.altKey||c.ctrlKey||c.metaKey)){var h=c.keyCode,y=this._map,x;if(h in this._panKeys){if(!y._panAnim||!y._panAnim._inProgress)if(x=this._panKeys[h],c.shiftKey&&(x=G(x).multiplyBy(3)),y.options.maxBounds&&(x=y._limitOffset(G(x),y.options.maxBounds)),y.options.worldCopyJump){var C=y.wrapLatLng(y.unproject(y.project(y.getCenter()).add(x)));y.panTo(C)}else y.panBy(x)}else if(h in this._zoomKeys)y.setZoom(y.getZoom()+(c.shiftKey?3:1)*this._zoomKeys[h]);else if(h===27&&y._popup&&y._popup.options.closeOnEscapeKey)y.closePopup();else return;dr(c)}}});et.addInitHook("addHandler","keyboard",C0),et.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var T0=Si.extend({addHooks:function(){Ve(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){pt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(c){var h=Yg(c),y=this._map.options.wheelDebounceTime;this._delta+=h,this._lastMousePos=this._map.mouseEventToContainerPoint(c),this._startTime||(this._startTime=+new Date);var x=Math.max(y-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),x),dr(c)},_performZoom:function(){var c=this._map,h=c.getZoom(),y=this._map.options.zoomSnap||0;c._stop();var x=this._delta/(this._map.options.wheelPxPerZoomLevel*4),C=4*Math.log(2/(1+Math.exp(-Math.abs(x))))/Math.LN2,D=y?Math.ceil(C/y)*y:C,$=c._limitZoom(h+(this._delta>0?D:-D))-h;this._delta=0,this._startTime=null,$&&(c.options.scrollWheelZoom==="center"?c.setZoom(h+$):c.setZoomAround(this._lastMousePos,h+$))}});et.addInitHook("addHandler","scrollWheelZoom",T0);var q3=600;et.mergeOptions({tapHold:Re.touchNative&&Re.safari&&Re.mobile,tapTolerance:15});var P0=Si.extend({addHooks:function(){Ve(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){pt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(c){if(clearTimeout(this._holdTimeout),c.touches.length===1){var h=c.touches[0];this._startPos=this._newPos=new H(h.clientX,h.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(Ve(document,"touchend",Qt),Ve(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",h))},this),q3),Ve(document,"touchend touchcancel contextmenu",this._cancel,this),Ve(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function c(){pt(document,"touchend",Qt),pt(document,"touchend touchcancel",c)},_cancel:function(){clearTimeout(this._holdTimeout),pt(document,"touchend touchcancel contextmenu",this._cancel,this),pt(document,"touchmove",this._onMove,this)},_onMove:function(c){var h=c.touches[0];this._newPos=new H(h.clientX,h.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(c,h){var y=new MouseEvent(c,{bubbles:!0,cancelable:!0,view:window,screenX:h.screenX,screenY:h.screenY,clientX:h.clientX,clientY:h.clientY});y._simulated=!0,h.target.dispatchEvent(y)}});et.addInitHook("addHandler","tapHold",P0),et.mergeOptions({touchZoom:Re.touch,bounceAtZoomLimits:!0});var E0=Si.extend({addHooks:function(){Ze(this._map._container,"leaflet-touch-zoom"),Ve(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Rt(this._map._container,"leaflet-touch-zoom"),pt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(c){var h=this._map;if(!(!c.touches||c.touches.length!==2||h._animatingZoom||this._zooming)){var y=h.mouseEventToContainerPoint(c.touches[0]),x=h.mouseEventToContainerPoint(c.touches[1]);this._centerPoint=h.getSize()._divideBy(2),this._startLatLng=h.containerPointToLatLng(this._centerPoint),h.options.touchZoom!=="center"&&(this._pinchStartLatLng=h.containerPointToLatLng(y.add(x)._divideBy(2))),this._startDist=y.distanceTo(x),this._startZoom=h.getZoom(),this._moved=!1,this._zooming=!0,h._stop(),Ve(document,"touchmove",this._onTouchMove,this),Ve(document,"touchend touchcancel",this._onTouchEnd,this),Qt(c)}},_onTouchMove:function(c){if(!(!c.touches||c.touches.length!==2||!this._zooming)){var h=this._map,y=h.mouseEventToContainerPoint(c.touches[0]),x=h.mouseEventToContainerPoint(c.touches[1]),C=y.distanceTo(x)/this._startDist;if(this._zoom=h.getScaleZoom(C,this._startZoom),!h.options.bounceAtZoomLimits&&(this._zoom<h.getMinZoom()&&C<1||this._zoom>h.getMaxZoom()&&C>1)&&(this._zoom=h._limitZoom(this._zoom)),h.options.touchZoom==="center"){if(this._center=this._startLatLng,C===1)return}else{var D=y._add(x)._divideBy(2)._subtract(this._centerPoint);if(C===1&&D.x===0&&D.y===0)return;this._center=h.unproject(h.project(this._pinchStartLatLng,this._zoom).subtract(D),this._zoom)}this._moved||(h._moveStart(!0,!1),this._moved=!0),B(this._animRequest);var $=o(h._move,h,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=N($,this,!0),Qt(c)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,B(this._animRequest),pt(document,"touchmove",this._onTouchMove,this),pt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});et.addInitHook("addHandler","touchZoom",E0),et.BoxZoom=k0,et.DoubleClickZoom=S0,et.Drag=M0,et.Keyboard=C0,et.ScrollWheelZoom=T0,et.TapHold=P0,et.TouchZoom=E0,t.Bounds=te,t.Browser=Re,t.CRS=X,t.Canvas=v0,t.Circle=Sh,t.CircleMarker=cc,t.Class=W,t.Control=si,t.DivIcon=g0,t.DivOverlay=Mi,t.DomEvent=h3,t.DomUtil=u3,t.Draggable=_s,t.Evented=z,t.FeatureGroup=Zi,t.GeoJSON=qi,t.GridLayer=va,t.Handler=Si,t.Icon=ro,t.ImageOverlay=pc,t.LatLng=Ce,t.LatLngBounds=Te,t.Layer=ri,t.LayerGroup=so,t.LineUtil=M3,t.Map=et,t.Marker=lc,t.Mixin=v3,t.Path=vs,t.Point=H,t.PolyUtil=b3,t.Polygon=oo,t.Polyline=Ki,t.Popup=mc,t.PosAnimation=Xg,t.Projection=C3,t.Rectangle=w0,t.Renderer=Gi,t.SVG=xa,t.SVGOverlay=m0,t.TileLayer=lo,t.Tooltip=gc,t.Transformation=ie,t.Util=V,t.VideoOverlay=p0,t.bind=o,t.bounds=we,t.canvas=b0,t.circle=D3,t.circleMarker=R3,t.control=ga,t.divIcon=V3,t.extend=s,t.featureGroup=A3,t.geoJSON=f0,t.geoJson=N3,t.gridLayer=W3,t.icon=O3,t.imageOverlay=z3,t.latLng=be,t.latLngBounds=Ee,t.layerGroup=E3,t.map=f3,t.marker=L3,t.point=G,t.polygon=j3,t.polyline=I3,t.popup=$3,t.rectangle=K3,t.setOptions=b,t.stamp=l,t.svg=x0,t.svgOverlay=F3,t.tileLayer=y0,t.tooltip=H3,t.transformation=he,t.version=i,t.videoOverlay=B3;var G3=window.L;t.noConflict=function(){return window.L=G3,this},window.L=t})})(lp,lp.exports);var Na=lp.exports;const Ta=Im(Na),cT={class:"location-map-container relative"},uT={class:"mb-2 flex items-center justify-between"},dT={class:"flex items-center space-x-2"},hT={class:"flex items-center"},fT={class:"text-xs text-gray-600"},pT={key:0,class:"text-xs text-gray-500"},mT={key:0,class:"text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full"},gT={key:0,class:"flex items-center justify-center py-4"},yT={key:1,class:"bg-red-50 p-3 rounded-lg"},_T={class:"flex items-start"},vT={class:"flex-1"},bT={class:"text-sm font-medium text-red-800"},xT={key:2},wT={class:"map-wrapper h-48 md:h-64 rounded-lg overflow-hidden mb-3 relative bg-gray-100 border"},kT={key:0,class:"map-loading-overlay"},ST={key:1,class:"map-fallback"},MT={class:"flex flex-col items-center text-gray-500"},CT={class:"text-xs"},TT={class:"flex items-start mb-3"},PT={class:"text-gray-700 text-sm flex-1"},ET={class:"flex items-center justify-between"},AT={class:"flex items-center space-x-3"},OT={key:1,class:"text-xs text-gray-500"},LT={class:"flex space-x-2"},RT=["disabled"],DT={key:3,class:"text-center py-4"},B1="user_location_cache",Pa="pending_location_sync",IT=5*60*1e3,jT={__name:"LocationMap",props:{autoTrack:{type:Boolean,default:!0},trackingInterval:{type:Number,default:3e5},autoSave:{type:Boolean,default:!0}},emits:["location-updated","location-saved","error"],setup(n,{expose:e,emit:t}){const i=n,s=t,r=pe(null),o=pe(!1),a=pe(null),l=pe(""),u=pe(!0),d=pe(!1),f=pe(null),p=pe(!1),m=pe(""),_=pe(null),b=pe(!1),k=pe(navigator.onLine),M=pe(null),E=pe(0);let A=null,g=null,w=null,v=null,S=null,T=!1,O=!1;const I=yt(()=>{switch(m.value){case"Saved":return"bg-green-100 text-green-800";case"Failed":return"bg-red-100 text-red-800";case"Saving...":return"bg-yellow-100 text-yellow-800";case"Cached":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}}),N=()=>new Promise((Q,ie)=>{if(window.L&&O){Q();return}if(!document.querySelector('link[href*="leaflet.css"]')){const he=document.createElement("link");he.rel="stylesheet",he.href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css",he.integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A==",he.crossOrigin="",document.head.appendChild(he)}if(window.L)delete window.L.Icon.Default.prototype._getIconUrl,window.L.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"}),O=!0,Q();else{const he=document.createElement("script");he.src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js",he.integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA==",he.crossOrigin="",he.onload=()=>{delete window.L.Icon.Default.prototype._getIconUrl,window.L.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"}),O=!0,Q()},he.onerror=()=>{ie(new Error("Failed to load Leaflet"))},document.head.appendChild(he)}}),B=()=>{try{const Q=localStorage.getItem(B1);if(Q){const{data:ie,timestamp:he}=JSON.parse(Q);if(Date.now()-he<IT||!k.value)return r.value=ie.location,l.value=ie.address,_.value=new Date(ie.lastSaved),Lo(()=>{te()}),!0}}catch(Q){console.error("Error loading cached location:",Q)}return!1},V=()=>{try{const Q={data:{location:r.value,address:l.value,lastSaved:_.value},timestamp:Date.now()};localStorage.setItem(B1,JSON.stringify(Q))}catch(Q){console.error("Error caching location:",Q)}},W=()=>Ke(this,null,function*(){try{const ie=yield(yield fetch("/api/method/oms.api.get_my_last_location",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token||""}})).json();if(ie.message&&ie.message.success){const he=ie.message.data;return r.value={latitude:he.latitude,longitude:he.longitude,accuracy:he.accuracy_meters,timestamp:new Date(he.creation).getTime()},l.value=he.address||"",_.value=new Date(he.creation),Lo(()=>{te()}),!0}}catch(Q){console.error("Error loading last saved location:",Q)}return!1}),Z=()=>Ke(this,null,function*(){try{if(navigator.permissions&&navigator.permissions.query){const Q=yield navigator.permissions.query({name:"geolocation"});Q.state==="prompt"?R():Q.state==="denied"?(a.value="Please enable location access in your browser settings and refresh the page.",confirm("Would you like to open your browser settings to enable location access?")&&(/iPad|iPhone|iPod/.test(navigator.userAgent)?alert("Please go to Settings > Safari > Location Services and enable for this website."):/Android/.test(navigator.userAgent)?alert("Please go to Settings > Site settings > Location and enable for this website."):alert("Please click the lock/info icon in your address bar and enable location access."))):R()}else R()}catch(Q){console.error("Error requesting permission:",Q),R()}}),R=(Q=!1)=>{if(!navigator.geolocation){a.value="Geolocation is not supported by your browser",s("error",a.value);return}o.value=!0,a.value=null,navigator.geolocation.getCurrentPosition(ie=>Ke(this,null,function*(){r.value={latitude:ie.coords.latitude,longitude:ie.coords.longitude,accuracy:ie.coords.accuracy,timestamp:ie.timestamp},o.value=!1,yield z(ie.coords.latitude,ie.coords.longitude),(i.autoSave||Q)&&(yield H(Q)),Lo(()=>{te()}),V(),s("location-updated",r.value)}),ie=>{switch(o.value=!1,ie.code){case ie.PERMISSION_DENIED:a.value="Location access denied. Please enable location services.";break;case ie.POSITION_UNAVAILABLE:a.value="Location information is unavailable.";break;case ie.TIMEOUT:a.value="The request to get location timed out.";break;default:a.value="An unknown error occurred.";break}s("error",a.value)},{enableHighAccuracy:!0,timeout:15e3,maximumAge:6e4})},z=(Q,ie)=>Ke(this,null,function*(){try{const j=yield(yield fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${Q}&lon=${ie}&zoom=18&addressdetails=1`,{headers:{"User-Agent":"OMS Location Tracker/1.0"}})).json();j&&j.display_name?(l.value=j.display_name,V()):l.value=`${Q.toFixed(6)}, ${ie.toFixed(6)}`}catch(he){console.error("Error fetching address:",he),l.value=`${Q.toFixed(6)}, ${ie.toFixed(6)}`}}),H=(Q=!1)=>Ke(this,null,function*(){var ie;if(r.value)try{p.value=!0,m.value="Saving...";const he={userAgent:navigator.userAgent.substring(0,50),platform:navigator.platform.substring(0,30),language:navigator.language,timestamp:new Date().toISOString()};if(k.value){const F=yield(yield fetch("/api/method/oms.api.save_user_location",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},body:JSON.stringify({latitude:r.value.latitude,longitude:r.value.longitude,accuracy:r.value.accuracy,address:l.value,device_info:JSON.stringify(he),manual_refresh:Q})})).json();if(F.message&&F.message.success)m.value="Saved",_.value=new Date,M.value=new Date,s("location-saved",F.message.data),yield G(),setTimeout(()=>{m.value=""},3e3);else throw new Error(((ie=F.message)==null?void 0:ie.message)||"Failed to save location")}else yield ee(Q,he)}catch(he){if(console.error("Error saving location:",he),k.value){m.value="Failed";const j={userAgent:navigator.userAgent.substring(0,50),platform:navigator.platform.substring(0,30),language:navigator.language,timestamp:new Date().toISOString()};yield ee(Q,j)}setTimeout(()=>{m.value=""},5e3)}finally{p.value=!1}}),ee=(Q,ie)=>Ke(this,null,function*(){try{const he=JSON.parse(localStorage.getItem(Pa)||"[]"),j={latitude:r.value.latitude,longitude:r.value.longitude,accuracy:r.value.accuracy,address:l.value,device_info:JSON.stringify(ie),manual_refresh:Q,timestamp:new Date().toISOString()};he.push(j),localStorage.setItem(Pa,JSON.stringify(he)),E.value=he.length,m.value="Cached",setTimeout(()=>{m.value=""},3e3)}catch(he){console.error("Error saving location offline:",he)}}),G=()=>Ke(this,null,function*(){try{const Q=JSON.parse(localStorage.getItem(Pa)||"[]");if(Q.length===0){E.value=0;return}for(const ie of Q)try{const j=yield(yield fetch("/api/method/oms.api.save_user_location",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},body:JSON.stringify(ie)})).json();if(j.message&&j.message.success){const F=Q.indexOf(ie);F>-1&&Q.splice(F,1)}}catch(he){console.error("Error syncing location:",he);break}localStorage.setItem(Pa,JSON.stringify(Q)),E.value=Q.length,Q.length===0&&(M.value=new Date)}catch(Q){console.error("Error syncing pending locations:",Q)}}),te=()=>Ke(this,null,function*(){if(!(!r.value||!f.value)){u.value=!0,d.value=!1;try{yield N(),yield new Promise(Q=>setTimeout(Q,100)),we()}catch(Q){console.error("Error initializing map:",Q),d.value=!0,u.value=!1}}}),we=()=>{if(!window.L||!r.value||!f.value)return;const{latitude:Q,longitude:ie}=r.value;try{A&&(A.remove(),A=null,g=null,w=null);const he=f.value.getBoundingClientRect();if(he.width===0||he.height===0){console.warn("Map container has no dimensions, retrying..."),setTimeout(()=>we(),200);return}A=window.L.map(f.value,{center:[Q,ie],zoom:15,zoomControl:!0,attributionControl:!0,preferCanvas:!1,renderer:window.L.canvas()});const j=window.L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',maxZoom:19,detectRetina:!0,crossOrigin:!0});j.on("tileerror",F=>{console.warn("Tile loading error:",F)}),j.addTo(A),g=window.L.marker([Q,ie],{title:"Your Location",alt:"Your Current Location"}).addTo(A),r.value.accuracy&&r.value.accuracy<1e3&&(w=window.L.circle([Q,ie],{radius:r.value.accuracy,color:"#3b82f6",fillColor:"#3b82f6",fillOpacity:.2,weight:2}).addTo(A)),A.on("load",()=>{u.value=!1,T=!0}),A.on("error",F=>{console.error("Map error:",F),d.value=!0,u.value=!1}),setTimeout(()=>{A&&(A.invalidateSize(),u.value=!1,T=!0)},100),setTimeout(()=>{A&&A.invalidateSize()},500),setTimeout(()=>{A&&A.invalidateSize()},1e3)}catch(he){console.error("Error creating map:",he),d.value=!0,u.value=!1}},Te=()=>{d.value=!1,u.value=!0,T=!1,A&&(A.remove(),A=null,g=null,w=null),setTimeout(()=>{te()},100)},Ee=Q=>Q?new Date(Q).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"",Ce=()=>{v||!i.autoTrack||(b.value=!0,v=setInterval(()=>{R(!1)},i.trackingInterval))},be=()=>{v&&(clearInterval(v),v=null),b.value=!1},X=()=>{let Q=!1;const ie=()=>{!Q&&i.autoSave&&(_.value?Date.now()-_.value.getTime():1/0)>10*60*1e3&&(Q=!0,R(!1).finally(()=>{Q=!1}))};["mousedown","mousemove","keypress","scroll","touchstart","click"].forEach(he=>{document.addEventListener(he,ie,{passive:!0})}),S=setInterval(()=>{},6e4)},ue=()=>{k.value=!0,G()},me=()=>{k.value=!1};return fi(r,Q=>{if(Q&&A&&T)try{const{latitude:ie,longitude:he}=Q;A.setView([ie,he],15),g&&g.setLatLng([ie,he]),w&&A.removeLayer(w),Q.accuracy&&Q.accuracy<1e3&&(w=window.L.circle([ie,he],{radius:Q.accuracy,color:"#3b82f6",fillColor:"#3b82f6",fillOpacity:.2,weight:2}).addTo(A))}catch(ie){console.error("Error updating map:",ie)}},{deep:!0}),ii(()=>Ke(this,null,function*(){window.addEventListener("online",ue),window.addEventListener("offline",me);const Q=JSON.parse(localStorage.getItem(Pa)||"[]");E.value=Q.length,B()||(yield W()),i.autoSave&&R(!1),i.autoTrack&&setTimeout(()=>{Ce()},5e3),i.autoSave&&X(),k.value&&E.value>0&&G()})),Qr(()=>{be(),S&&clearInterval(S),window.removeEventListener("online",ue),window.removeEventListener("offline",me),A&&(A.remove(),A=null,g=null,w=null)}),e({getLocation:R,startAutoTracking:Ce,stopAutoTracking:be,retryMap:Te,location:r,autoTracking:b}),(Q,ie)=>(K(),Y("div",cT,[P("div",uT,[P("div",dT,[P("div",hT,[P("div",{class:Ye(["h-2 w-2 rounded-full mr-2",k.value?"bg-green-500":"bg-red-500"])},null,2),P("span",fT,xe(k.value?"Online":"Offline"),1)]),M.value?(K(),Y("div",pT," Last sync: "+xe(Ee(M.value)),1)):Ae("",!0)]),E.value>0?(K(),Y("div",mT,xe(E.value)+" pending ",1)):Ae("",!0)]),o.value?(K(),Y("div",gT,ie[1]||(ie[1]=[P("div",{class:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"},null,-1),P("span",{class:"ml-2 text-gray-600"},"Getting your location...",-1)]))):a.value?(K(),Y("div",yT,[P("div",_T,[ie[2]||(ie[2]=P("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-red-500 mt-0.5 mr-2 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1)),P("div",vT,[P("p",bT,xe(a.value),1),P("div",{class:"mt-2 flex flex-wrap gap-2"},[P("button",{onClick:R,class:"text-xs bg-red-100 text-red-800 px-2 py-1 rounded hover:bg-red-200"}," Try Again "),P("button",{onClick:Z,class:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded hover:bg-blue-200"}," Enable Location ")])])])])):r.value?(K(),Y("div",xT,[P("div",wT,[P("div",{ref_key:"mapContainer",ref:f,class:Ye(["map-container absolute inset-0 w-full h-full",{"map-loading":u.value}])},null,2),u.value?(K(),Y("div",kT,ie[3]||(ie[3]=[P("div",{class:"flex flex-col items-center"},[P("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mb-2"}),P("span",{class:"text-sm text-gray-600"},"Loading map...")],-1)]))):Ae("",!0),d.value?(K(),Y("div",ST,[P("div",MT,[ie[4]||(ie[4]=P("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-12 w-12 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})],-1)),ie[5]||(ie[5]=P("p",{class:"text-sm font-medium"},"Map unavailable",-1)),P("p",CT,xe(r.value.latitude.toFixed(6))+", "+xe(r.value.longitude.toFixed(6)),1),P("button",{onClick:Te,class:"mt-2 text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded hover:bg-blue-200"}," Retry Map ")])])):Ae("",!0)]),P("div",TT,[ie[6]||(ie[6]=P("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-blue-600 mr-2 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),P("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),P("span",PT,xe(l.value||"Fetching address..."),1)]),P("div",ET,[P("div",AT,[m.value?(K(),Y("div",{key:0,class:Ye(["text-xs px-2 py-1 rounded-full",I.value])},xe(m.value),3)):Ae("",!0),_.value?(K(),Y("div",OT," Updated: "+xe(Ee(_.value)),1)):Ae("",!0)]),P("div",LT,[d.value?(K(),Y("button",{key:0,onClick:Te,class:"text-sm bg-gray-100 text-gray-700 px-3 py-2 rounded-lg hover:bg-gray-200 flex items-center"},ie[7]||(ie[7]=[P("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})],-1),Ht(" Fix Map ")]))):Ae("",!0),P("button",{onClick:ie[0]||(ie[0]=he=>R(!0)),disabled:p.value,class:"text-sm bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center disabled:opacity-50"},[ie[8]||(ie[8]=P("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)),Ht(" "+xe(p.value?"Updating...":"Refresh"),1)],8,RT)])])])):(K(),Y("div",DT,[P("button",{onClick:R,class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center mx-auto"},ie[9]||(ie[9]=[P("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),P("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1),Ht(" Get My Location ")]))]))]))}},NT=Vn(jT,[["__scopeId","data-v-07771200"]]);/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function ql(n){return n+.5|0}const js=(n,e,t)=>Math.max(Math.min(n,t),e);function za(n){return js(ql(n*2.55),0,255)}function Us(n){return js(ql(n*255),0,255)}function ss(n){return js(ql(n/2.55)/100,0,1)}function F1(n){return js(ql(n*100),0,100)}const qn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},cp=[..."0123456789ABCDEF"],zT=n=>cp[n&15],BT=n=>cp[(n&240)>>4]+cp[n&15],Cc=n=>(n&240)>>4===(n&15),FT=n=>Cc(n.r)&&Cc(n.g)&&Cc(n.b)&&Cc(n.a);function $T(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&qn[n[1]]*17,g:255&qn[n[2]]*17,b:255&qn[n[3]]*17,a:e===5?qn[n[4]]*17:255}:(e===7||e===9)&&(t={r:qn[n[1]]<<4|qn[n[2]],g:qn[n[3]]<<4|qn[n[4]],b:qn[n[5]]<<4|qn[n[6]],a:e===9?qn[n[7]]<<4|qn[n[8]]:255})),t}const HT=(n,e)=>n<255?e(n):"";function VT(n){var e=FT(n)?zT:BT;return n?"#"+e(n.r)+e(n.g)+e(n.b)+HT(n.a,e):void 0}const WT=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function P2(n,e,t){const i=e*Math.min(t,1-t),s=(r,o=(r+n/30)%12)=>t-i*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function UT(n,e,t){const i=(s,r=(s+n/60)%6)=>t-t*e*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function ZT(n,e,t){const i=P2(n,1,.5);let s;for(e+t>1&&(s=1/(e+t),e*=s,t*=s),s=0;s<3;s++)i[s]*=1-e-t,i[s]+=e;return i}function KT(n,e,t,i,s){return n===s?(e-t)/i+(e<t?6:0):e===s?(t-n)/i+2:(n-e)/i+4}function jm(n){const t=n.r/255,i=n.g/255,s=n.b/255,r=Math.max(t,i,s),o=Math.min(t,i,s),a=(r+o)/2;let l,u,d;return r!==o&&(d=r-o,u=a>.5?d/(2-r-o):d/(r+o),l=KT(t,i,s,d,r),l=l*60+.5),[l|0,u||0,a]}function Nm(n,e,t,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,i)).map(Us)}function zm(n,e,t){return Nm(P2,n,e,t)}function qT(n,e,t){return Nm(ZT,n,e,t)}function GT(n,e,t){return Nm(UT,n,e,t)}function E2(n){return(n%360+360)%360}function JT(n){const e=WT.exec(n);let t=255,i;if(!e)return;e[5]!==i&&(t=e[6]?za(+e[5]):Us(+e[5]));const s=E2(+e[2]),r=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=qT(s,r,o):e[1]==="hsv"?i=GT(s,r,o):i=zm(s,r,o),{r:i[0],g:i[1],b:i[2],a:t}}function YT(n,e){var t=jm(n);t[0]=E2(t[0]+e),t=zm(t),n.r=t[0],n.g=t[1],n.b=t[2]}function XT(n){if(!n)return;const e=jm(n),t=e[0],i=F1(e[1]),s=F1(e[2]);return n.a<255?`hsla(${t}, ${i}%, ${s}%, ${ss(n.a)})`:`hsl(${t}, ${i}%, ${s}%)`}const $1={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},H1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function QT(){const n={},e=Object.keys(H1),t=Object.keys($1);let i,s,r,o,a;for(i=0;i<e.length;i++){for(o=a=e[i],s=0;s<t.length;s++)r=t[s],a=a.replace(r,$1[r]);r=parseInt(H1[o],16),n[a]=[r>>16&255,r>>8&255,r&255]}return n}let Tc;function e5(n){Tc||(Tc=QT(),Tc.transparent=[0,0,0,0]);const e=Tc[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const t5=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function n5(n){const e=t5.exec(n);let t=255,i,s,r;if(e){if(e[7]!==i){const o=+e[7];t=e[8]?za(o):js(o*255,0,255)}return i=+e[1],s=+e[3],r=+e[5],i=255&(e[2]?za(i):js(i,0,255)),s=255&(e[4]?za(s):js(s,0,255)),r=255&(e[6]?za(r):js(r,0,255)),{r:i,g:s,b:r,a:t}}}function i5(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${ss(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Zh=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,ho=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function s5(n,e,t){const i=ho(ss(n.r)),s=ho(ss(n.g)),r=ho(ss(n.b));return{r:Us(Zh(i+t*(ho(ss(e.r))-i))),g:Us(Zh(s+t*(ho(ss(e.g))-s))),b:Us(Zh(r+t*(ho(ss(e.b))-r))),a:n.a+t*(e.a-n.a)}}function Pc(n,e,t){if(n){let i=jm(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,e===0?360:1)),i=zm(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function A2(n,e){return n&&Object.assign(e||{},n)}function V1(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Us(n[3]))):(e=A2(n,{r:0,g:0,b:0,a:1}),e.a=Us(e.a)),e}function r5(n){return n.charAt(0)==="r"?n5(n):JT(n)}let O2=class up{constructor(e){if(e instanceof up)return e;const t=typeof e;let i;t==="object"?i=V1(e):t==="string"&&(i=$T(e)||e5(e)||r5(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=A2(this._rgb);return e&&(e.a=ss(e.a)),e}set rgb(e){this._rgb=V1(e)}rgbString(){return this._valid?i5(this._rgb):void 0}hexString(){return this._valid?VT(this._rgb):void 0}hslString(){return this._valid?XT(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,s=e.rgb;let r;const o=t===r?.5:t,a=2*o-1,l=i.a-s.a,u=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-u,i.r=255&u*i.r+r*s.r+.5,i.g=255&u*i.g+r*s.g+.5,i.b=255&u*i.b+r*s.b+.5,i.a=o*i.a+(1-o)*s.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=s5(this._rgb,e._rgb,t)),this}clone(){return new up(this.rgb)}alpha(e){return this._rgb.a=Us(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=ql(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Pc(this._rgb,2,e),this}darken(e){return Pc(this._rgb,2,-e),this}saturate(e){return Pc(this._rgb,1,e),this}desaturate(e){return Pc(this._rgb,1,-e),this}rotate(e){return YT(this._rgb,e),this}};/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Xi(){}const o5=(()=>{let n=0;return()=>n++})();function Je(n){return n==null}function wt(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Xe(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Ot(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function jn(n,e){return Ot(n)?n:e}function We(n,e){return typeof n=="undefined"?e:n}const a5=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,L2=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function gt(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function lt(n,e,t,i){let s,r,o;if(wt(n))for(r=n.length,s=0;s<r;s++)e.call(t,n[s],s);else if(Xe(n))for(o=Object.keys(n),r=o.length,s=0;s<r;s++)e.call(t,n[o[s]],o[s])}function ju(n,e){let t,i,s,r;if(!n||!e||n.length!==e.length)return!1;for(t=0,i=n.length;t<i;++t)if(s=n[t],r=e[t],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function Nu(n){if(wt(n))return n.map(Nu);if(Xe(n)){const e=Object.create(null),t=Object.keys(n),i=t.length;let s=0;for(;s<i;++s)e[t[s]]=Nu(n[t[s]]);return e}return n}function R2(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function l5(n,e,t,i){if(!R2(n))return;const s=e[n],r=t[n];Xe(s)&&Xe(r)?Ml(s,r,i):e[n]=Nu(r)}function Ml(n,e,t){const i=wt(e)?e:[e],s=i.length;if(!Xe(n))return n;t=t||{};const r=t.merger||l5;let o;for(let a=0;a<s;++a){if(o=i[a],!Xe(o))continue;const l=Object.keys(o);for(let u=0,d=l.length;u<d;++u)r(l[u],n,o,t)}return n}function nl(n,e){return Ml(n,e,{merger:c5})}function c5(n,e,t){if(!R2(n))return;const i=e[n],s=t[n];Xe(i)&&Xe(s)?nl(i,s):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=Nu(s))}const W1={"":n=>n,x:n=>n.x,y:n=>n.y};function u5(n){const e=n.split("."),t=[];let i="";for(const s of e)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}function d5(n){const e=u5(n);return t=>{for(const i of e){if(i==="")break;t=t&&t[i]}return t}}function Ys(n,e){return(W1[e]||(W1[e]=d5(e)))(n)}function Bm(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Cl=n=>typeof n!="undefined",Xs=n=>typeof n=="function",U1=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function h5(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const vt=Math.PI,_t=2*vt,f5=_t+vt,zu=Number.POSITIVE_INFINITY,p5=vt/180,Dt=vt/2,yr=vt/4,Z1=vt*2/3,Ns=Math.log10,Bi=Math.sign;function il(n,e,t){return Math.abs(n-e)<t}function K1(n){const e=Math.round(n);n=il(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(Ns(n))),i=n/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function m5(n){const e=[],t=Math.sqrt(n);let i;for(i=1;i<t;i++)n%i===0&&(e.push(i),e.push(n/i));return t===(t|0)&&e.push(t),e.sort((s,r)=>s-r).pop(),e}function g5(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Ko(n){return!g5(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function y5(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function D2(n,e,t){let i,s,r;for(i=0,s=n.length;i<s;i++)r=n[i][t],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function ui(n){return n*(vt/180)}function Fm(n){return n*(180/vt)}function q1(n){if(!Ot(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function I2(n,e){const t=e.x-n.x,i=e.y-n.y,s=Math.sqrt(t*t+i*i);let r=Math.atan2(i,t);return r<-.5*vt&&(r+=_t),{angle:r,distance:s}}function dp(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function _5(n,e){return(n-e+f5)%_t-vt}function Nn(n){return(n%_t+_t)%_t}function Tl(n,e,t,i){const s=Nn(n),r=Nn(e),o=Nn(t),a=Nn(r-s),l=Nn(o-s),u=Nn(s-r),d=Nn(s-o);return s===r||s===o||i&&r===o||a>l&&u<d}function Gt(n,e,t){return Math.max(e,Math.min(t,n))}function v5(n){return Gt(n,-32768,32767)}function us(n,e,t,i=1e-6){return n>=Math.min(e,t)-i&&n<=Math.max(e,t)+i}function $m(n,e,t){t=t||(o=>n[o]<e);let i=n.length-1,s=0,r;for(;i-s>1;)r=s+i>>1,t(r)?s=r:i=r;return{lo:s,hi:i}}const ds=(n,e,t,i)=>$m(n,t,i?s=>{const r=n[s][e];return r<t||r===t&&n[s+1][e]===t}:s=>n[s][e]<t),b5=(n,e,t)=>$m(n,t,i=>n[i][e]>=t);function x5(n,e,t){let i=0,s=n.length;for(;i<s&&n[i]<e;)i++;for(;s>i&&n[s-1]>t;)s--;return i>0||s<n.length?n.slice(i,s):n}const j2=["push","pop","shift","splice","unshift"];function w5(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),j2.forEach(t=>{const i="_onData"+Bm(t),s=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...r){const o=s.apply(this,r);return n._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...r)}),o}})})}function G1(n,e){const t=n._chartjs;if(!t)return;const i=t.listeners,s=i.indexOf(e);s!==-1&&i.splice(s,1),!(i.length>0)&&(j2.forEach(r=>{delete n[r]}),delete n._chartjs)}function N2(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const z2=function(){return typeof window=="undefined"?function(n){return n()}:window.requestAnimationFrame}();function B2(n,e){let t=[],i=!1;return function(...s){t=s,i||(i=!0,z2.call(window,()=>{i=!1,n.apply(e,t)}))}}function k5(n,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(n,e,i)):n.apply(this,i),e}}const Hm=n=>n==="start"?"left":n==="end"?"right":"center",cn=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,S5=(n,e,t,i)=>n===(i?"left":"right")?t:n==="center"?(e+t)/2:e;function F2(n,e,t){const i=e.length;let s=0,r=i;if(n._sorted){const{iScale:o,vScale:a,_parsed:l}=n,u=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,d=o.axis,{min:f,max:p,minDefined:m,maxDefined:_}=o.getUserBounds();if(m){if(s=Math.min(ds(l,d,f).lo,t?i:ds(e,d,o.getPixelForValue(f)).lo),u){const b=l.slice(0,s+1).reverse().findIndex(k=>!Je(k[a.axis]));s-=Math.max(0,b)}s=Gt(s,0,i-1)}if(_){let b=Math.max(ds(l,o.axis,p,!0).hi+1,t?0:ds(e,d,o.getPixelForValue(p),!0).hi+1);if(u){const k=l.slice(b-1).findIndex(M=>!Je(M[a.axis]));b+=Math.max(0,k)}r=Gt(b,s,i)-s}else r=i-s}return{start:s,count:r}}function $2(n){const{xScale:e,yScale:t,_scaleRanges:i}=n,s={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!i)return n._scaleRanges=s,!0;const r=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==t.min||i.ymax!==t.max;return Object.assign(i,s),r}const Ec=n=>n===0||n===1,J1=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*_t/t)),Y1=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*_t/t)+1,sl={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Dt)+1,easeOutSine:n=>Math.sin(n*Dt),easeInOutSine:n=>-.5*(Math.cos(vt*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Ec(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Ec(n)?n:J1(n,.075,.3),easeOutElastic:n=>Ec(n)?n:Y1(n,.075,.3),easeInOutElastic(n){return Ec(n)?n:n<.5?.5*J1(n*2,.1125,.45):.5+.5*Y1(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-sl.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?sl.easeInBounce(n*2)*.5:sl.easeOutBounce(n*2-1)*.5+.5};function Vm(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function X1(n){return Vm(n)?n:new O2(n)}function Kh(n){return Vm(n)?n:new O2(n).saturate(.5).darken(.1).hexString()}const M5=["x","y","borderWidth","radius","tension"],C5=["color","borderColor","backgroundColor"];function T5(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:C5},numbers:{type:"number",properties:M5}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function P5(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Q1=new Map;function E5(n,e){e=e||{};const t=n+JSON.stringify(e);let i=Q1.get(t);return i||(i=new Intl.NumberFormat(n,e),Q1.set(t,i)),i}function Gl(n,e,t){return E5(e,t).format(n)}const H2={values(n){return wt(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const i=this.chart.options.locale;let s,r=n;if(t.length>1){const u=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(u<1e-4||u>1e15)&&(s="scientific"),r=A5(n,t)}const o=Ns(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Gl(n,i,l)},logarithmic(n,e,t){if(n===0)return"0";const i=t[e].significand||n/Math.pow(10,Math.floor(Ns(n)));return[1,2,3,5,10,15].includes(i)||e>.8*t.length?H2.numeric.call(this,n,e,t):""}};function A5(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var Id={formatters:H2};function O5(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Id.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Wr=Object.create(null),hp=Object.create(null);function rl(n,e){if(!e)return n;const t=e.split(".");for(let i=0,s=t.length;i<s;++i){const r=t[i];n=n[r]||(n[r]=Object.create(null))}return n}function qh(n,e,t){return typeof e=="string"?Ml(rl(n,e),t):Ml(rl(n,""),e)}class L5{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>Kh(s.backgroundColor),this.hoverBorderColor=(i,s)=>Kh(s.borderColor),this.hoverColor=(i,s)=>Kh(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return qh(this,e,t)}get(e){return rl(this,e)}describe(e,t){return qh(hp,e,t)}override(e,t){return qh(Wr,e,t)}route(e,t,i,s){const r=rl(this,e),o=rl(this,i),a="_"+t;Object.defineProperties(r,{[a]:{value:r[t],writable:!0},[t]:{enumerable:!0,get(){const l=this[a],u=o[s];return Xe(l)?Object.assign({},u,l):We(l,u)},set(l){this[a]=l}}})}apply(e){e.forEach(t=>t(this))}}var kt=new L5({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[T5,P5,O5]);function R5(n){return!n||Je(n.size)||Je(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Bu(n,e,t,i,s){let r=e[s];return r||(r=e[s]=n.measureText(s).width,t.push(s)),r>i&&(i=r),i}function D5(n,e,t,i){i=i||{};let s=i.data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(s=i.data={},r=i.garbageCollect=[],i.font=e),n.save(),n.font=e;let o=0;const a=t.length;let l,u,d,f,p;for(l=0;l<a;l++)if(f=t[l],f!=null&&!wt(f))o=Bu(n,s,r,o,f);else if(wt(f))for(u=0,d=f.length;u<d;u++)p=f[u],p!=null&&!wt(p)&&(o=Bu(n,s,r,o,p));n.restore();const m=r.length/2;if(m>t.length){for(l=0;l<m;l++)delete s[r[l]];r.splice(0,m)}return o}function _r(n,e,t){const i=n.currentDevicePixelRatio,s=t!==0?Math.max(t/2,.5):0;return Math.round((e-s)*i)/i+s}function ey(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function fp(n,e,t,i){V2(n,e,t,i,null)}function V2(n,e,t,i,s){let r,o,a,l,u,d,f,p;const m=e.pointStyle,_=e.rotation,b=e.radius;let k=(_||0)*p5;if(m&&typeof m=="object"&&(r=m.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){n.save(),n.translate(t,i),n.rotate(k),n.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),n.restore();return}if(!(isNaN(b)||b<=0)){switch(n.beginPath(),m){default:s?n.ellipse(t,i,s/2,b,0,0,_t):n.arc(t,i,b,0,_t),n.closePath();break;case"triangle":d=s?s/2:b,n.moveTo(t+Math.sin(k)*d,i-Math.cos(k)*b),k+=Z1,n.lineTo(t+Math.sin(k)*d,i-Math.cos(k)*b),k+=Z1,n.lineTo(t+Math.sin(k)*d,i-Math.cos(k)*b),n.closePath();break;case"rectRounded":u=b*.516,l=b-u,o=Math.cos(k+yr)*l,f=Math.cos(k+yr)*(s?s/2-u:l),a=Math.sin(k+yr)*l,p=Math.sin(k+yr)*(s?s/2-u:l),n.arc(t-f,i-a,u,k-vt,k-Dt),n.arc(t+p,i-o,u,k-Dt,k),n.arc(t+f,i+a,u,k,k+Dt),n.arc(t-p,i+o,u,k+Dt,k+vt),n.closePath();break;case"rect":if(!_){l=Math.SQRT1_2*b,d=s?s/2:l,n.rect(t-d,i-l,2*d,2*l);break}k+=yr;case"rectRot":f=Math.cos(k)*(s?s/2:b),o=Math.cos(k)*b,a=Math.sin(k)*b,p=Math.sin(k)*(s?s/2:b),n.moveTo(t-f,i-a),n.lineTo(t+p,i-o),n.lineTo(t+f,i+a),n.lineTo(t-p,i+o),n.closePath();break;case"crossRot":k+=yr;case"cross":f=Math.cos(k)*(s?s/2:b),o=Math.cos(k)*b,a=Math.sin(k)*b,p=Math.sin(k)*(s?s/2:b),n.moveTo(t-f,i-a),n.lineTo(t+f,i+a),n.moveTo(t+p,i-o),n.lineTo(t-p,i+o);break;case"star":f=Math.cos(k)*(s?s/2:b),o=Math.cos(k)*b,a=Math.sin(k)*b,p=Math.sin(k)*(s?s/2:b),n.moveTo(t-f,i-a),n.lineTo(t+f,i+a),n.moveTo(t+p,i-o),n.lineTo(t-p,i+o),k+=yr,f=Math.cos(k)*(s?s/2:b),o=Math.cos(k)*b,a=Math.sin(k)*b,p=Math.sin(k)*(s?s/2:b),n.moveTo(t-f,i-a),n.lineTo(t+f,i+a),n.moveTo(t+p,i-o),n.lineTo(t-p,i+o);break;case"line":o=s?s/2:Math.cos(k)*b,a=Math.sin(k)*b,n.moveTo(t-o,i-a),n.lineTo(t+o,i+a);break;case"dash":n.moveTo(t,i),n.lineTo(t+Math.cos(k)*(s?s/2:b),i+Math.sin(k)*b);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function hs(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function jd(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function Nd(n){n.restore()}function I5(n,e,t,i,s){if(!e)return n.lineTo(t.x,t.y);if(s==="middle"){const r=(e.x+t.x)/2;n.lineTo(r,e.y),n.lineTo(r,t.y)}else s==="after"!=!!i?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function j5(n,e,t,i){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?t.cp2x:t.cp1x,i?t.cp2y:t.cp1y,t.x,t.y)}function N5(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),Je(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function z5(n,e,t,i,s){if(s.strikethrough||s.underline){const r=n.measureText(i),o=e-r.actualBoundingBoxLeft,a=e+r.actualBoundingBoxRight,l=t-r.actualBoundingBoxAscent,u=t+r.actualBoundingBoxDescent,d=s.strikethrough?(l+u)/2:u;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=s.decorationWidth||2,n.moveTo(o,d),n.lineTo(a,d),n.stroke()}}function B5(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function Ur(n,e,t,i,s,r={}){const o=wt(e)?e:[e],a=r.strokeWidth>0&&r.strokeColor!=="";let l,u;for(n.save(),n.font=s.string,N5(n,r),l=0;l<o.length;++l)u=o[l],r.backdrop&&B5(n,r.backdrop),a&&(r.strokeColor&&(n.strokeStyle=r.strokeColor),Je(r.strokeWidth)||(n.lineWidth=r.strokeWidth),n.strokeText(u,t,i,r.maxWidth)),n.fillText(u,t,i,r.maxWidth),z5(n,t,i,u,r),i+=Number(s.lineHeight);n.restore()}function Pl(n,e){const{x:t,y:i,w:s,h:r,radius:o}=e;n.arc(t+o.topLeft,i+o.topLeft,o.topLeft,1.5*vt,vt,!0),n.lineTo(t,i+r-o.bottomLeft),n.arc(t+o.bottomLeft,i+r-o.bottomLeft,o.bottomLeft,vt,Dt,!0),n.lineTo(t+s-o.bottomRight,i+r),n.arc(t+s-o.bottomRight,i+r-o.bottomRight,o.bottomRight,Dt,0,!0),n.lineTo(t+s,i+o.topRight),n.arc(t+s-o.topRight,i+o.topRight,o.topRight,0,-Dt,!0),n.lineTo(t+o.topLeft,i)}const F5=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,$5=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function H5(n,e){const t=(""+n).match(F5);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const V5=n=>+n||0;function Wm(n,e){const t={},i=Xe(e),s=i?Object.keys(e):e,r=Xe(n)?i?o=>We(n[o],n[e[o]]):o=>n[o]:()=>n;for(const o of s)t[o]=V5(r(o));return t}function W2(n){return Wm(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Dr(n){return Wm(n,["topLeft","topRight","bottomLeft","bottomRight"])}function gn(n){const e=W2(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Vt(n,e){n=n||{},e=e||kt.font;let t=We(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let i=We(n.style,e.style);i&&!(""+i).match($5)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:We(n.family,e.family),lineHeight:H5(We(n.lineHeight,e.lineHeight),t),size:t,style:i,weight:We(n.weight,e.weight),string:""};return s.string=R5(s),s}function Ba(n,e,t,i){let s,r,o;for(s=0,r=n.length;s<r;++s)if(o=n[s],o!==void 0&&o!==void 0)return o}function W5(n,e,t){const{min:i,max:s}=n,r=L2(e,(s-i)/2),o=(a,l)=>t&&a===0?0:a+l;return{min:o(i,-Math.abs(r)),max:o(s,r)}}function sr(n,e){return Object.assign(Object.create(n),e)}function Um(n,e=[""],t,i,s=()=>n[0]){const r=t||n;typeof i=="undefined"&&(i=q2("_fallback",n));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:r,_fallback:i,_getTarget:s,override:a=>Um([a,...n],e,r,i)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete n[0][l],!0},get(a,l){return Z2(a,l,()=>X5(l,e,n,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(a,l){return ny(a).includes(l)},ownKeys(a){return ny(a)},set(a,l,u){const d=a._storage||(a._storage=s());return a[l]=d[l]=u,delete a._keys,!0}})}function qo(n,e,t,i){const s={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:U2(n,i),setContext:r=>qo(n,r,t,i),override:r=>qo(n.override(r),e,t,i)};return new Proxy(s,{deleteProperty(r,o){return delete r[o],delete n[o],!0},get(r,o,a){return Z2(r,o,()=>Z5(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(r,o){return Reflect.has(n,o)},ownKeys(){return Reflect.ownKeys(n)},set(r,o,a){return n[o]=a,delete r[o],!0}})}function U2(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:s=e.allKeys}=n;return{allKeys:s,scriptable:t,indexable:i,isScriptable:Xs(t)?t:()=>t,isIndexable:Xs(i)?i:()=>i}}const U5=(n,e)=>n?n+Bm(e):e,Zm=(n,e)=>Xe(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Z2(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const i=t();return n[e]=i,i}function Z5(n,e,t){const{_proxy:i,_context:s,_subProxy:r,_descriptors:o}=n;let a=i[e];return Xs(a)&&o.isScriptable(e)&&(a=K5(e,a,n,t)),wt(a)&&a.length&&(a=q5(e,a,n,o.isIndexable)),Zm(e,a)&&(a=qo(a,s,r&&r[e],o)),a}function K5(n,e,t,i){const{_proxy:s,_context:r,_subProxy:o,_stack:a}=t;if(a.has(n))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+n);a.add(n);let l=e(r,o||i);return a.delete(n),Zm(n,l)&&(l=Km(s._scopes,s,n,l)),l}function q5(n,e,t,i){const{_proxy:s,_context:r,_subProxy:o,_descriptors:a}=t;if(typeof r.index!="undefined"&&i(n))return e[r.index%e.length];if(Xe(e[0])){const l=e,u=s._scopes.filter(d=>d!==l);e=[];for(const d of l){const f=Km(u,s,n,d);e.push(qo(f,r,o&&o[n],a))}}return e}function K2(n,e,t){return Xs(n)?n(e,t):n}const G5=(n,e)=>n===!0?e:typeof n=="string"?Ys(e,n):void 0;function J5(n,e,t,i,s){for(const r of e){const o=G5(t,r);if(o){n.add(o);const a=K2(o._fallback,t,s);if(typeof a!="undefined"&&a!==t&&a!==i)return a}else if(o===!1&&typeof i!="undefined"&&t!==i)return null}return!1}function Km(n,e,t,i){const s=e._rootScopes,r=K2(e._fallback,t,i),o=[...n,...s],a=new Set;a.add(i);let l=ty(a,o,t,r||t,i);return l===null||typeof r!="undefined"&&r!==t&&(l=ty(a,o,r,l,i),l===null)?!1:Um(Array.from(a),[""],s,r,()=>Y5(e,t,i))}function ty(n,e,t,i,s){for(;t;)t=J5(n,e,t,i,s);return t}function Y5(n,e,t){const i=n._getTarget();e in i||(i[e]={});const s=i[e];return wt(s)&&Xe(t)?t:s||{}}function X5(n,e,t,i){let s;for(const r of e)if(s=q2(U5(r,n),t),typeof s!="undefined")return Zm(n,s)?Km(t,i,n,s):s}function q2(n,e){for(const t of e){if(!t)continue;const i=t[n];if(typeof i!="undefined")return i}}function ny(n){let e=n._keys;return e||(e=n._keys=Q5(n._scopes)),e}function Q5(n){const e=new Set;for(const t of n)for(const i of Object.keys(t).filter(s=>!s.startsWith("_")))e.add(i);return Array.from(e)}function G2(n,e,t,i){const{iScale:s}=n,{key:r="r"}=this._parsing,o=new Array(i);let a,l,u,d;for(a=0,l=i;a<l;++a)u=a+t,d=e[u],o[a]={r:s.parse(Ys(d,r),u)};return o}const eP=Number.EPSILON||1e-14,Go=(n,e)=>e<n.length&&!n[e].skip&&n[e],J2=n=>n==="x"?"y":"x";function tP(n,e,t,i){const s=n.skip?e:n,r=e,o=t.skip?e:t,a=dp(r,s),l=dp(o,r);let u=a/(a+l),d=l/(a+l);u=isNaN(u)?0:u,d=isNaN(d)?0:d;const f=i*u,p=i*d;return{previous:{x:r.x-f*(o.x-s.x),y:r.y-f*(o.y-s.y)},next:{x:r.x+p*(o.x-s.x),y:r.y+p*(o.y-s.y)}}}function nP(n,e,t){const i=n.length;let s,r,o,a,l,u=Go(n,0);for(let d=0;d<i-1;++d)if(l=u,u=Go(n,d+1),!(!l||!u)){if(il(e[d],0,eP)){t[d]=t[d+1]=0;continue}s=t[d]/e[d],r=t[d+1]/e[d],a=Math.pow(s,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),t[d]=s*o*e[d],t[d+1]=r*o*e[d])}}function iP(n,e,t="x"){const i=J2(t),s=n.length;let r,o,a,l=Go(n,0);for(let u=0;u<s;++u){if(o=a,a=l,l=Go(n,u+1),!a)continue;const d=a[t],f=a[i];o&&(r=(d-o[t])/3,a[`cp1${t}`]=d-r,a[`cp1${i}`]=f-r*e[u]),l&&(r=(l[t]-d)/3,a[`cp2${t}`]=d+r,a[`cp2${i}`]=f+r*e[u])}}function sP(n,e="x"){const t=J2(e),i=n.length,s=Array(i).fill(0),r=Array(i);let o,a,l,u=Go(n,0);for(o=0;o<i;++o)if(a=l,l=u,u=Go(n,o+1),!!l){if(u){const d=u[e]-l[e];s[o]=d!==0?(u[t]-l[t])/d:0}r[o]=a?u?Bi(s[o-1])!==Bi(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}nP(n,s,r),iP(n,r,e)}function Ac(n,e,t){return Math.max(Math.min(n,t),e)}function rP(n,e){let t,i,s,r,o,a=hs(n[0],e);for(t=0,i=n.length;t<i;++t)o=r,r=a,a=t<i-1&&hs(n[t+1],e),r&&(s=n[t],o&&(s.cp1x=Ac(s.cp1x,e.left,e.right),s.cp1y=Ac(s.cp1y,e.top,e.bottom)),a&&(s.cp2x=Ac(s.cp2x,e.left,e.right),s.cp2y=Ac(s.cp2y,e.top,e.bottom)))}function oP(n,e,t,i,s){let r,o,a,l;if(e.spanGaps&&(n=n.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")sP(n,s);else{let u=i?n[n.length-1]:n[0];for(r=0,o=n.length;r<o;++r)a=n[r],l=tP(u,a,n[Math.min(r+1,o-(i?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,u=a}e.capBezierPoints&&rP(n,t)}function qm(){return typeof window!="undefined"&&typeof document!="undefined"}function Gm(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Fu(n,e,t){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*e.parentNode[t])):i=n,i}const zd=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function aP(n,e){return zd(n).getPropertyValue(e)}const lP=["top","right","bottom","left"];function Ir(n,e,t){const i={};t=t?"-"+t:"";for(let s=0;s<4;s++){const r=lP[s];i[r]=parseFloat(n[e+"-"+r+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const cP=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function uP(n,e){const t=n.touches,i=t&&t.length?t[0]:n,{offsetX:s,offsetY:r}=i;let o=!1,a,l;if(cP(s,r,n.target))a=s,l=r;else{const u=e.getBoundingClientRect();a=i.clientX-u.left,l=i.clientY-u.top,o=!0}return{x:a,y:l,box:o}}function kr(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:i}=e,s=zd(t),r=s.boxSizing==="border-box",o=Ir(s,"padding"),a=Ir(s,"border","width"),{x:l,y:u,box:d}=uP(n,t),f=o.left+(d&&a.left),p=o.top+(d&&a.top);let{width:m,height:_}=e;return r&&(m-=o.width+a.width,_-=o.height+a.height),{x:Math.round((l-f)/m*t.width/i),y:Math.round((u-p)/_*t.height/i)}}function dP(n,e,t){let i,s;if(e===void 0||t===void 0){const r=n&&Gm(n);if(!r)e=n.clientWidth,t=n.clientHeight;else{const o=r.getBoundingClientRect(),a=zd(r),l=Ir(a,"border","width"),u=Ir(a,"padding");e=o.width-u.width-l.width,t=o.height-u.height-l.height,i=Fu(a.maxWidth,r,"clientWidth"),s=Fu(a.maxHeight,r,"clientHeight")}}return{width:e,height:t,maxWidth:i||zu,maxHeight:s||zu}}const Oc=n=>Math.round(n*10)/10;function hP(n,e,t,i){const s=zd(n),r=Ir(s,"margin"),o=Fu(s.maxWidth,n,"clientWidth")||zu,a=Fu(s.maxHeight,n,"clientHeight")||zu,l=dP(n,e,t);let{width:u,height:d}=l;if(s.boxSizing==="content-box"){const p=Ir(s,"border","width"),m=Ir(s,"padding");u-=m.width+p.width,d-=m.height+p.height}return u=Math.max(0,u-r.width),d=Math.max(0,i?u/i:d-r.height),u=Oc(Math.min(u,o,l.maxWidth)),d=Oc(Math.min(d,a,l.maxHeight)),u&&!d&&(d=Oc(u/2)),(e!==void 0||t!==void 0)&&i&&l.height&&d>l.height&&(d=l.height,u=Oc(Math.floor(d*i))),{width:u,height:d}}function iy(n,e,t){const i=e||1,s=Math.floor(n.height*i),r=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const o=n.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||o.height!==s||o.width!==r?(n.currentDevicePixelRatio=i,o.height=s,o.width=r,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const fP=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};qm()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch(e){}return n}();function sy(n,e){const t=aP(n,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Sr(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function pP(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:i==="middle"?t<.5?n.y:e.y:i==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function mP(n,e,t,i){const s={x:n.cp2x,y:n.cp2y},r={x:e.cp1x,y:e.cp1y},o=Sr(n,s,t),a=Sr(s,r,t),l=Sr(r,e,t),u=Sr(o,a,t),d=Sr(a,l,t);return Sr(u,d,t)}const gP=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,i){return t-i},leftForLtr(t,i){return t-i}}},yP=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function No(n,e,t){return n?gP(e,t):yP()}function Y2(n,e){let t,i;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=i)}function X2(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function Q2(n){return n==="angle"?{between:Tl,compare:_5,normalize:Nn}:{between:us,compare:(e,t)=>e-t,normalize:e=>e}}function ry({start:n,end:e,count:t,loop:i,style:s}){return{start:n%t,end:e%t,loop:i&&(e-n+1)%t===0,style:s}}function _P(n,e,t){const{property:i,start:s,end:r}=t,{between:o,normalize:a}=Q2(i),l=e.length;let{start:u,end:d,loop:f}=n,p,m;if(f){for(u+=l,d+=l,p=0,m=l;p<m&&o(a(e[u%l][i]),s,r);++p)u--,d--;u%=l,d%=l}return d<u&&(d+=l),{start:u,end:d,loop:f,style:n.style}}function ex(n,e,t){if(!t)return[n];const{property:i,start:s,end:r}=t,o=e.length,{compare:a,between:l,normalize:u}=Q2(i),{start:d,end:f,loop:p,style:m}=_P(n,e,t),_=[];let b=!1,k=null,M,E,A;const g=()=>l(s,A,M)&&a(s,A)!==0,w=()=>a(r,M)===0||l(r,A,M),v=()=>b||g(),S=()=>!b||w();for(let T=d,O=d;T<=f;++T)E=e[T%o],!E.skip&&(M=u(E[i]),M!==A&&(b=l(M,s,r),k===null&&v()&&(k=a(M,s)===0?T:O),k!==null&&S()&&(_.push(ry({start:k,end:T,loop:p,count:o,style:m})),k=null),O=T,A=M));return k!==null&&_.push(ry({start:k,end:f,loop:p,count:o,style:m})),_}function tx(n,e){const t=[],i=n.segments;for(let s=0;s<i.length;s++){const r=ex(i[s],n.points,e);r.length&&t.push(...r)}return t}function vP(n,e,t,i){let s=0,r=e-1;if(t&&!i)for(;s<e&&!n[s].skip;)s++;for(;s<e&&n[s].skip;)s++;for(s%=e,t&&(r+=s);r>s&&n[r%e].skip;)r--;return r%=e,{start:s,end:r}}function bP(n,e,t,i){const s=n.length,r=[];let o=e,a=n[e],l;for(l=e+1;l<=t;++l){const u=n[l%s];u.skip||u.stop?a.skip||(i=!1,r.push({start:e%s,end:(l-1)%s,loop:i}),e=o=u.stop?l:null):(o=l,a.skip&&(e=l)),a=u}return o!==null&&r.push({start:e%s,end:o%s,loop:i}),r}function xP(n,e){const t=n.points,i=n.options.spanGaps,s=t.length;if(!s)return[];const r=!!n._loop,{start:o,end:a}=vP(t,s,r,i);if(i===!0)return oy(n,[{start:o,end:a,loop:r}],t,e);const l=a<o?a+s:a,u=!!n._fullLoop&&o===0&&a===s-1;return oy(n,bP(t,o,l,u),t,e)}function oy(n,e,t,i){return!i||!i.setContext||!t?e:wP(n,e,t,i)}function wP(n,e,t,i){const s=n._chart.getContext(),r=ay(n.options),{_datasetIndex:o,options:{spanGaps:a}}=n,l=t.length,u=[];let d=r,f=e[0].start,p=f;function m(_,b,k,M){const E=a?-1:1;if(_!==b){for(_+=l;t[_%l].skip;)_-=E;for(;t[b%l].skip;)b+=E;_%l!==b%l&&(u.push({start:_%l,end:b%l,loop:k,style:M}),d=M,f=b%l)}}for(const _ of e){f=a?f:_.start;let b=t[f%l],k;for(p=f+1;p<=_.end;p++){const M=t[p%l];k=ay(i.setContext(sr(s,{type:"segment",p0:b,p1:M,p0DataIndex:(p-1)%l,p1DataIndex:p%l,datasetIndex:o}))),kP(k,d)&&m(f,p-1,_.loop,d),b=M,d=k}f<p-1&&m(f,p-1,_.loop,d)}return u}function ay(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function kP(n,e){if(!e)return!1;const t=[],i=function(s,r){return Vm(r)?(t.includes(r)||t.push(r),t.indexOf(r)):r};return JSON.stringify(n,i)!==JSON.stringify(e,i)}function Lc(n,e,t){return n.options.clip?n[t]:e[t]}function SP(n,e){const{xScale:t,yScale:i}=n;return t&&i?{left:Lc(t,e,"left"),right:Lc(t,e,"right"),top:Lc(i,e,"top"),bottom:Lc(i,e,"bottom")}:e}function nx(n,e){const t=e._clip;if(t.disabled)return!1;const i=SP(e,n.chartArea);return{left:t.left===!1?0:i.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:i.right+(t.right===!0?0:t.right),top:t.top===!1?0:i.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:i.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class MP{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,s){const r=t.listeners[s],o=t.duration;r.forEach(a=>a({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(i-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=z2.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const r=i.items;let o=r.length-1,a=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(e),a=!0):(r[o]=r[r.length-1],r.pop());a&&(s.draw(),this._notify(s,i,e,"progress")),r.length||(i.running=!1,this._notify(s,i,e,"complete"),i.initial=!1),t+=r.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Qi=new MP;const ly="transparent",CP={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const i=X1(n||ly),s=i.valid&&X1(e||ly);return s&&s.valid?s.mix(i,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class TP{constructor(e,t,i,s){const r=t[i];s=Ba([e.to,s,r,e.from]);const o=Ba([e.from,r,s]);this._active=!0,this._fn=e.fn||CP[e.type||typeof o],this._easing=sl[e.easing]||sl.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const s=this._target[this._prop],r=i-this._start,o=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=Ba([e.to,t,s,e.from]),this._from=Ba([e.from,s,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,s=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||t<i),!this._active){this._target[s]=a,this._notify(!0);return}if(t<0){this._target[s]=r;return}l=t/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(r,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][t]()}}class ix{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Xe(e))return;const t=Object.keys(kt.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const r=e[s];if(!Xe(r))return;const o={};for(const a of t)o[a]=r[a];(wt(r.properties)&&r.properties||[s]).forEach(a=>{(a===s||!i.has(a))&&i.set(a,o)})})}_animateOptions(e,t){const i=t.options,s=EP(e,i);if(!s)return[];const r=this._createAnimations(s,i);return i.$shared&&PP(e.options.$animations,i).then(()=>{e.options=i},()=>{}),r}_createAnimations(e,t){const i=this._properties,s=[],r=e.$animations||(e.$animations={}),o=Object.keys(t),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const u=o[l];if(u.charAt(0)==="$")continue;if(u==="options"){s.push(...this._animateOptions(e,t));continue}const d=t[u];let f=r[u];const p=i.get(u);if(f)if(p&&f.active()){f.update(p,d,a);continue}else f.cancel();if(!p||!p.duration){e[u]=d;continue}r[u]=f=new TP(p,e,u,d),s.push(f)}return s}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const i=this._createAnimations(e,t);if(i.length)return Qi.add(this._chart,i),!0}}function PP(n,e){const t=[],i=Object.keys(e);for(let s=0;s<i.length;s++){const r=n[i[s]];r&&r.active()&&t.push(r.wait())}return Promise.all(t)}function EP(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function cy(n,e){const t=n&&n.options||{},i=t.reverse,s=t.min===void 0?e:0,r=t.max===void 0?e:0;return{start:i?r:s,end:i?s:r}}function AP(n,e,t){if(t===!1)return!1;const i=cy(n,t),s=cy(e,t);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function OP(n){let e,t,i,s;return Xe(n)?(e=n.top,t=n.right,i=n.bottom,s=n.left):e=t=i=s=n,{top:e,right:t,bottom:i,left:s,disabled:n===!1}}function sx(n,e){const t=[],i=n._getSortedDatasetMetas(e);let s,r;for(s=0,r=i.length;s<r;++s)t.push(i[s].index);return t}function uy(n,e,t,i={}){const s=n.keys,r=i.mode==="single";let o,a,l,u;if(e===null)return;let d=!1;for(o=0,a=s.length;o<a;++o){if(l=+s[o],l===t){if(d=!0,i.all)continue;break}u=n.values[l],Ot(u)&&(r||e===0||Bi(e)===Bi(u))&&(e+=u)}return!d&&!i.all?0:e}function LP(n,e){const{iScale:t,vScale:i}=e,s=t.axis==="x"?"x":"y",r=i.axis==="x"?"x":"y",o=Object.keys(n),a=new Array(o.length);let l,u,d;for(l=0,u=o.length;l<u;++l)d=o[l],a[l]={[s]:d,[r]:n[d]};return a}function Gh(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function RP(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function DP(n){const{min:e,max:t,minDefined:i,maxDefined:s}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:s?t:Number.POSITIVE_INFINITY}}function IP(n,e,t){const i=n[e]||(n[e]={});return i[t]||(i[t]={})}function dy(n,e,t,i){for(const s of e.getMatchingVisibleMetas(i).reverse()){const r=n[s.index];if(t&&r>0||!t&&r<0)return s.index}return null}function hy(n,e){const{chart:t,_cachedMeta:i}=n,s=t._stacks||(t._stacks={}),{iScale:r,vScale:o,index:a}=i,l=r.axis,u=o.axis,d=RP(r,o,i),f=e.length;let p;for(let m=0;m<f;++m){const _=e[m],{[l]:b,[u]:k}=_,M=_._stacks||(_._stacks={});p=M[u]=IP(s,d,b),p[a]=k,p._top=dy(p,o,!0,i.type),p._bottom=dy(p,o,!1,i.type);const E=p._visualValues||(p._visualValues={});E[a]=k}}function Jh(n,e){const t=n.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function jP(n,e){return sr(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function NP(n,e,t){return sr(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Ea(n,e){const t=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(const s of e){const r=s._stacks;if(!r||r[i]===void 0||r[i][t]===void 0)return;delete r[i][t],r[i]._visualValues!==void 0&&r[i]._visualValues[t]!==void 0&&delete r[i]._visualValues[t]}}}const Yh=n=>n==="reset"||n==="none",fy=(n,e)=>e?n:Object.assign({},n),zP=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:sx(t,!0),values:null};class pi{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Gh(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Ea(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,i=this.getDataset(),s=(f,p,m,_)=>f==="x"?p:f==="r"?_:m,r=t.xAxisID=We(i.xAxisID,Jh(e,"x")),o=t.yAxisID=We(i.yAxisID,Jh(e,"y")),a=t.rAxisID=We(i.rAxisID,Jh(e,"r")),l=t.indexAxis,u=t.iAxisID=s(l,r,o,a),d=t.vAxisID=s(l,o,r,a);t.xScale=this.getScaleForId(r),t.yScale=this.getScaleForId(o),t.rScale=this.getScaleForId(a),t.iScale=this.getScaleForId(u),t.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&G1(this._data,this),e._stacked&&Ea(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if(Xe(t)){const s=this._cachedMeta;this._data=LP(t,s)}else if(i!==t){if(i){G1(i,this);const s=this._cachedMeta;Ea(s),s._parsed=[]}t&&Object.isExtensible(t)&&w5(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const r=t._stacked;t._stacked=Gh(t.vScale,t),t.stack!==i.stack&&(s=!0,Ea(t),t.stack=i.stack),this._resyncElements(e),(s||r!==t._stacked)&&(hy(this,t._parsed),t._stacked=Gh(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:i,_data:s}=this,{iScale:r,_stacked:o}=i,a=r.axis;let l=e===0&&t===s.length?!0:i._sorted,u=e>0&&i._parsed[e-1],d,f,p;if(this._parsing===!1)i._parsed=s,i._sorted=!0,p=s;else{wt(s[e])?p=this.parseArrayData(i,s,e,t):Xe(s[e])?p=this.parseObjectData(i,s,e,t):p=this.parsePrimitiveData(i,s,e,t);const m=()=>f[a]===null||u&&f[a]<u[a];for(d=0;d<t;++d)i._parsed[d+e]=f=p[d],l&&(m()&&(l=!1),u=f);i._sorted=l}o&&hy(this,p)}parsePrimitiveData(e,t,i,s){const{iScale:r,vScale:o}=e,a=r.axis,l=o.axis,u=r.getLabels(),d=r===o,f=new Array(s);let p,m,_;for(p=0,m=s;p<m;++p)_=p+i,f[p]={[a]:d||r.parse(u[_],_),[l]:o.parse(t[_],_)};return f}parseArrayData(e,t,i,s){const{xScale:r,yScale:o}=e,a=new Array(s);let l,u,d,f;for(l=0,u=s;l<u;++l)d=l+i,f=t[d],a[l]={x:r.parse(f[0],d),y:o.parse(f[1],d)};return a}parseObjectData(e,t,i,s){const{xScale:r,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=new Array(s);let d,f,p,m;for(d=0,f=s;d<f;++d)p=d+i,m=t[p],u[d]={x:r.parse(Ys(m,a),p),y:o.parse(Ys(m,l),p)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){const s=this.chart,r=this._cachedMeta,o=t[e.axis],a={keys:sx(s,!0),values:t._stacks[e.axis]._visualValues};return uy(a,o,r.index,{mode:i})}updateRangeFromParsed(e,t,i,s){const r=i[t.axis];let o=r===null?NaN:r;const a=s&&i._stacks[t.axis];s&&a&&(s.values=a,o=uy(s,r,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,t){const i=this._cachedMeta,s=i._parsed,r=i._sorted&&e===i.iScale,o=s.length,a=this._getOtherScale(e),l=zP(t,i,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:f}=DP(a);let p,m;function _(){m=s[p];const b=m[a.axis];return!Ot(m[e.axis])||d>b||f<b}for(p=0;p<o&&!(!_()&&(this.updateRangeFromParsed(u,e,m,l),r));++p);if(r){for(p=o-1;p>=0;--p)if(!_()){this.updateRangeFromParsed(u,e,m,l);break}}return u}getAllParsedValues(e){const t=this._cachedMeta._parsed,i=[];let s,r,o;for(s=0,r=t.length;s<r;++s)o=t[s][e.axis],Ot(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,i=t.iScale,s=t.vScale,r=this.getParsed(e);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:s?""+s.getLabelForValue(r[s.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=OP(We(this.options.clip,AP(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,i=this._cachedMeta,s=i.data||[],r=t.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||s.length-a,u=this.options.drawActiveElementsOnTop;let d;for(i.dataset&&i.dataset.draw(e,r,a,l),d=a;d<a+l;++d){const f=s[d];f.hidden||(f.active&&u?o.push(f):f.draw(e,r))}for(d=0;d<o.length;++d)o[d].draw(e,r)}getStyle(e,t){const i=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){const s=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];r=o.$context||(o.$context=NP(this.getContext(),e,o)),r.parsed=this.getParsed(e),r.raw=s.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=jP(this.chart.getContext(),this.index)),r.dataset=s,r.index=r.datasetIndex=this.index;return r.active=!!t,r.mode=i,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",i){const s=t==="active",r=this._cachedDataOpts,o=e+"-"+t,a=r[o],l=this.enableOptionSharing&&Cl(i);if(a)return fy(a,l);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,e),f=s?[`${e}Hover`,"hover",e,""]:[e,""],p=u.getOptionScopes(this.getDataset(),d),m=Object.keys(kt.elements[e]),_=()=>this.getContext(i,s,t),b=u.resolveNamedOptions(p,m,_,f);return b.$shared&&(b.$shared=l,r[o]=Object.freeze(fy(b,l))),b}_resolveAnimations(e,t,i){const s=this.chart,r=this._cachedDataOpts,o=`animation-${t}`,a=r[o];if(a)return a;let l;if(s.options.animation!==!1){const d=this.chart.config,f=d.datasetAnimationScopeKeys(this._type,t),p=d.getOptionScopes(this.getDataset(),f);l=d.createResolver(p,this.getContext(e,i,t))}const u=new ix(s,l&&l.animations);return l&&l._cacheable&&(r[o]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Yh(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const i=this.resolveDataElementOptions(e,t),s=this._sharedOptions,r=this.getSharedOptions(i),o=this.includeOptions(t,r)||r!==s;return this.updateSharedOptions(r,t,i),{sharedOptions:r,includeOptions:o}}updateElement(e,t,i,s){Yh(s)?Object.assign(e,i):this._resolveAnimations(t,s).update(e,i)}updateSharedOptions(e,t,i){e&&!Yh(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,s){e.active=s;const r=this.getStyle(t,s);this._resolveAnimations(t,i,s).update(e,{options:!s&&this.getSharedOptions(r)||r})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,i=this._cachedMeta.data;for(const[a,l,u]of this._syncList)this[a](l,u);this._syncList=[];const s=i.length,r=t.length,o=Math.min(r,s);o&&this.parse(0,o),r>s?this._insertElements(s,r-s,e):r<s&&this._removeElements(r,s-r)}_insertElements(e,t,i=!0){const s=this._cachedMeta,r=s.data,o=e+t;let a;const l=u=>{for(u.length+=t,a=u.length-1;a>=o;a--)u[a]=u[a-t]};for(l(r),a=e;a<o;++a)r[a]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(e,t),i&&this.updateElements(r,e,t,"reset")}updateElements(e,t,i,s){}_removeElements(e,t){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(e,t);i._stacked&&Ea(i,s)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,i,s]=e;this[t](i,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ye(pi,"defaults",{}),ye(pi,"datasetElementType",null),ye(pi,"dataElementType",null);function BP(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let i=[];for(let s=0,r=t.length;s<r;s++)i=i.concat(t[s].controller.getAllParsedValues(n));n._cache.$bar=N2(i.sort((s,r)=>s-r))}return n._cache.$bar}function FP(n){const e=n.iScale,t=BP(e,n.type);let i=e._length,s,r,o,a;const l=()=>{o===32767||o===-32768||(Cl(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(s=0,r=t.length;s<r;++s)o=e.getPixelForValue(t[s]),l();for(a=void 0,s=0,r=e.ticks.length;s<r;++s)o=e.getPixelForTick(s),l();return i}function $P(n,e,t,i){const s=t.barThickness;let r,o;return Je(s)?(r=e.min*t.categoryPercentage,o=t.barPercentage):(r=s*i,o=1),{chunk:r/i,ratio:o,start:e.pixels[n]-r/2}}function HP(n,e,t,i){const s=e.pixels,r=s[n];let o=n>0?s[n-1]:null,a=n<s.length-1?s[n+1]:null;const l=t.categoryPercentage;o===null&&(o=r-(a===null?e.end-e.start:a-r)),a===null&&(a=r+r-o);const u=r-(r-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:t.barPercentage,start:u}}function VP(n,e,t,i){const s=t.parse(n[0],i),r=t.parse(n[1],i),o=Math.min(s,r),a=Math.max(s,r);let l=o,u=a;Math.abs(o)>Math.abs(a)&&(l=a,u=o),e[t.axis]=u,e._custom={barStart:l,barEnd:u,start:s,end:r,min:o,max:a}}function rx(n,e,t,i){return wt(n)?VP(n,e,t,i):e[t.axis]=t.parse(n,i),e}function py(n,e,t,i){const s=n.iScale,r=n.vScale,o=s.getLabels(),a=s===r,l=[];let u,d,f,p;for(u=t,d=t+i;u<d;++u)p=e[u],f={},f[s.axis]=a||s.parse(o[u],u),l.push(rx(p,f,r,u));return l}function Xh(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function WP(n,e,t){return n!==0?Bi(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function UP(n){let e,t,i,s,r;return n.horizontal?(e=n.base>n.x,t="left",i="right"):(e=n.base<n.y,t="bottom",i="top"),e?(s="end",r="start"):(s="start",r="end"),{start:t,end:i,reverse:e,top:s,bottom:r}}function ZP(n,e,t,i){let s=e.borderSkipped;const r={};if(!s){n.borderSkipped=r;return}if(s===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:u,bottom:d}=UP(n);s==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===i?s=u:(t._bottom||0)===i?s=d:(r[my(d,o,a,l)]=!0,s=u)),r[my(s,o,a,l)]=!0,n.borderSkipped=r}function my(n,e,t,i){return i?(n=KP(n,e,t),n=gy(n,t,e)):n=gy(n,e,t),n}function KP(n,e,t){return n===e?t:n===t?e:n}function gy(n,e,t){return n==="start"?e:n==="end"?t:n}function qP(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}class au extends pi{parsePrimitiveData(e,t,i,s){return py(e,t,i,s)}parseArrayData(e,t,i,s){return py(e,t,i,s)}parseObjectData(e,t,i,s){const{iScale:r,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=r.axis==="x"?a:l,d=o.axis==="x"?a:l,f=[];let p,m,_,b;for(p=i,m=i+s;p<m;++p)b=t[p],_={},_[r.axis]=r.parse(Ys(b,u),p),f.push(rx(Ys(b,d),_,o,p));return f}updateRangeFromParsed(e,t,i,s){super.updateRangeFromParsed(e,t,i,s);const r=i._custom;r&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:i,vScale:s}=t,r=this.getParsed(e),o=r._custom,a=Xh(o)?"["+o.start+", "+o.end+"]":""+s.getLabelForValue(r[s.axis]);return{label:""+i.getLabelForValue(r[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,i,s){const r=s==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),u=a.isHorizontal(),d=this._getRuler(),{sharedOptions:f,includeOptions:p}=this._getSharedOptions(t,s);for(let m=t;m<t+i;m++){const _=this.getParsed(m),b=r||Je(_[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(m),k=this._calculateBarIndexPixels(m,d),M=(_._stacks||{})[a.axis],E={horizontal:u,base:b.base,enableBorderRadius:!M||Xh(_._custom)||o===M._top||o===M._bottom,x:u?b.head:k.center,y:u?k.center:b.head,height:u?k.size:Math.abs(b.size),width:u?Math.abs(b.size):k.size};p&&(E.options=f||this.resolveDataElementOptions(m,e[m].active?"active":s));const A=E.options||e[m].options;ZP(E,A,M,o),qP(E,A,d.ratio),this.updateElement(e[m],m,E,s)}}_getStacks(e,t){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),r=i.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(t),l=a&&a[i.axis],u=d=>{const f=d._parsed.find(m=>m[i.axis]===l),p=f&&f[d.vScale.axis];if(Je(p)||isNaN(p))return!0};for(const d of s)if(!(t!==void 0&&u(d))&&((r===!1||o.indexOf(d.stack)===-1||r===void 0&&d.stack===void 0)&&o.push(d.stack),d.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,i){const s=this._getStacks(e,i),r=t!==void 0?s.indexOf(t):-1;return r===-1?s.length-1:r}_getRuler(){const e=this.options,t=this._cachedMeta,i=t.iScale,s=[];let r,o;for(r=0,o=t.data.length;r<o;++r)s.push(i.getPixelForValue(this.getParsed(r)[i.axis],r));const a=e.barThickness;return{min:a||FP(t),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:i,index:s},options:{base:r,minBarLength:o}}=this,a=r||0,l=this.getParsed(e),u=l._custom,d=Xh(u);let f=l[t.axis],p=0,m=i?this.applyStack(t,l,i):f,_,b;m!==f&&(p=m-f,m=f),d&&(f=u.barStart,m=u.barEnd-u.barStart,f!==0&&Bi(f)!==Bi(u.barEnd)&&(p=0),p+=f);const k=!Je(r)&&!d?r:p;let M=t.getPixelForValue(k);if(this.chart.getDataVisibility(e)?_=t.getPixelForValue(p+m):_=M,b=_-M,Math.abs(b)<o){b=WP(b,t,a)*o,f===a&&(M-=b/2);const E=t.getPixelForDecimal(0),A=t.getPixelForDecimal(1),g=Math.min(E,A),w=Math.max(E,A);M=Math.max(Math.min(M,w),g),_=M+b,i&&!d&&(l._stacks[t.axis]._visualValues[s]=t.getValueForPixel(_)-t.getValueForPixel(M))}if(M===t.getPixelForValue(a)){const E=Bi(b)*t.getLineWidthForValue(a)/2;M+=E,b-=E}return{size:b,base:M,head:_,center:_+b/2}}_calculateBarIndexPixels(e,t){const i=t.scale,s=this.options,r=s.skipNull,o=We(s.maxBarThickness,1/0);let a,l;if(t.grouped){const u=r?this._getStackCount(e):t.stackCount,d=s.barThickness==="flex"?HP(e,t,s,u):$P(e,t,s,u),f=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0);a=d.start+d.chunk*f+d.chunk/2,l=Math.min(o,d.chunk*d.ratio)}else a=i.getPixelForValue(this.getParsed(e)[i.axis],e),l=Math.min(o,t.min*t.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,t=e.vScale,i=e.data,s=i.length;let r=0;for(;r<s;++r)this.getParsed(r)[t.axis]!==null&&!i[r].hidden&&i[r].draw(this._ctx)}}ye(au,"id","bar"),ye(au,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ye(au,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class lu extends pi{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,i,s){const r=super.parsePrimitiveData(e,t,i,s);for(let o=0;o<r.length;o++)r[o]._custom=this.resolveDataElementOptions(o+i).radius;return r}parseArrayData(e,t,i,s){const r=super.parseArrayData(e,t,i,s);for(let o=0;o<r.length;o++){const a=t[i+o];r[o]._custom=We(a[2],this.resolveDataElementOptions(o+i).radius)}return r}parseObjectData(e,t,i,s){const r=super.parseObjectData(e,t,i,s);for(let o=0;o<r.length;o++){const a=t[i+o];r[o]._custom=We(a&&a.r&&+a.r,this.resolveDataElementOptions(o+i).radius)}return r}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let i=e.length-1;i>=0;--i)t=Math.max(t,e[i].size(this.resolveDataElementOptions(i))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=t,o=this.getParsed(e),a=s.getLabelForValue(o.x),l=r.getLabelForValue(o.y),u=o._custom;return{label:i[e]||"",value:"("+a+", "+l+(u?", "+u:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,i,s){const r=s==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:u}=this._getSharedOptions(t,s),d=o.axis,f=a.axis;for(let p=t;p<t+i;p++){const m=e[p],_=!r&&this.getParsed(p),b={},k=b[d]=r?o.getPixelForDecimal(.5):o.getPixelForValue(_[d]),M=b[f]=r?a.getBasePixel():a.getPixelForValue(_[f]);b.skip=isNaN(k)||isNaN(M),u&&(b.options=l||this.resolveDataElementOptions(p,m.active?"active":s),r&&(b.options.radius=0)),this.updateElement(m,p,b,s)}}resolveDataElementOptions(e,t){const i=this.getParsed(e);let s=super.resolveDataElementOptions(e,t);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const r=s.radius;return t!=="active"&&(s.radius=0),s.radius+=We(i&&i._custom,r),s}}ye(lu,"id","bubble"),ye(lu,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),ye(lu,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function GP(n,e,t){let i=1,s=1,r=0,o=0;if(e<_t){const a=n,l=a+e,u=Math.cos(a),d=Math.sin(a),f=Math.cos(l),p=Math.sin(l),m=(A,g,w)=>Tl(A,a,l,!0)?1:Math.max(g,g*t,w,w*t),_=(A,g,w)=>Tl(A,a,l,!0)?-1:Math.min(g,g*t,w,w*t),b=m(0,u,f),k=m(Dt,d,p),M=_(vt,u,f),E=_(vt+Dt,d,p);i=(b-M)/2,s=(k-E)/2,r=-(b+M)/2,o=-(k+E)/2}return{ratioX:i,ratioY:s,offsetX:r,offsetY:o}}class Ar extends pi{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let r=l=>+i[l];if(Xe(i[e])){const{key:l="value"}=this._parsing;r=u=>+Ys(i[u],l)}let o,a;for(o=e,a=e+t;o<a;++o)s._parsed[o]=r(o)}}_getRotation(){return ui(this.options.rotation-90)}_getCircumference(){return ui(this.options.circumference)}_getRotationExtents(){let e=_t,t=-_t;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,r=s._getRotation(),o=s._getCircumference();e=Math.min(e,r),t=Math.max(t,r+o)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:i}=t,s=this._cachedMeta,r=s.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),l=Math.min(a5(this.options.cutout,a),1),u=this._getRingWeight(this.index),{circumference:d,rotation:f}=this._getRotationExtents(),{ratioX:p,ratioY:m,offsetX:_,offsetY:b}=GP(f,d,l),k=(i.width-o)/p,M=(i.height-o)/m,E=Math.max(Math.min(k,M)/2,0),A=L2(this.options.radius,E),g=Math.max(A*l,0),w=(A-g)/this._getVisibleDatasetWeightTotal();this.offsetX=_*A,this.offsetY=b*A,s.total=this.calculateTotal(),this.outerRadius=A-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*u,0),this.updateElements(r,0,r.length,e)}_circumference(e,t){const i=this.options,s=this._cachedMeta,r=this._getCircumference();return t&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*r/_t)}updateElements(e,t,i,s){const r=s==="reset",o=this.chart,a=o.chartArea,u=o.options.animation,d=(a.left+a.right)/2,f=(a.top+a.bottom)/2,p=r&&u.animateScale,m=p?0:this.innerRadius,_=p?0:this.outerRadius,{sharedOptions:b,includeOptions:k}=this._getSharedOptions(t,s);let M=this._getRotation(),E;for(E=0;E<t;++E)M+=this._circumference(E,r);for(E=t;E<t+i;++E){const A=this._circumference(E,r),g=e[E],w={x:d+this.offsetX,y:f+this.offsetY,startAngle:M,endAngle:M+A,circumference:A,outerRadius:_,innerRadius:m};k&&(w.options=b||this.resolveDataElementOptions(E,g.active?"active":s)),M+=A,this.updateElement(g,E,w,s)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let i=0,s;for(s=0;s<t.length;s++){const r=e._parsed[s];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(s)&&!t[s].hidden&&(i+=Math.abs(r))}return i}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?_t*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=Gl(t._parsed[e],i.options.locale);return{label:s[e]||"",value:r}}getMaxBorderWidth(e){let t=0;const i=this.chart;let s,r,o,a,l;if(!e){for(s=0,r=i.data.datasets.length;s<r;++s)if(i.isDatasetVisible(s)){o=i.getDatasetMeta(s),e=o.data,a=o.controller;break}}if(!e)return 0;for(s=0,r=e.length;s<r;++s)l=a.resolveDataElementOptions(s),l.borderAlign!=="inner"&&(t=Math.max(t,l.borderWidth||0,l.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let i=0,s=e.length;i<s;++i){const r=this.resolveDataElementOptions(i);t=Math.max(t,r.offset||0,r.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(t+=this._getRingWeight(i));return t}_getRingWeight(e){return Math.max(We(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ye(Ar,"id","doughnut"),ye(Ar,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ye(Ar,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),ye(Ar,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:s}}=e.legend.options;return t.labels.map((r,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}}});class cu extends pi{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:i,data:s=[],_dataset:r}=t,o=this.chart._animationsDisabled;let{start:a,count:l}=F2(t,s,o);this._drawStart=a,this._drawCount=l,$2(t)&&(a=0,l=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!r._decimated,i.points=s;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:u},e),this.updateElements(s,a,l,e)}updateElements(e,t,i,s){const r=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:f}=this._getSharedOptions(t,s),p=o.axis,m=a.axis,{spanGaps:_,segment:b}=this.options,k=Ko(_)?_:Number.POSITIVE_INFINITY,M=this.chart._animationsDisabled||r||s==="none",E=t+i,A=e.length;let g=t>0&&this.getParsed(t-1);for(let w=0;w<A;++w){const v=e[w],S=M?v:{};if(w<t||w>=E){S.skip=!0;continue}const T=this.getParsed(w),O=Je(T[m]),I=S[p]=o.getPixelForValue(T[p],w),N=S[m]=r||O?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,T,l):T[m],w);S.skip=isNaN(I)||isNaN(N)||O,S.stop=w>0&&Math.abs(T[p]-g[p])>k,b&&(S.parsed=T,S.raw=u.data[w]),f&&(S.options=d||this.resolveDataElementOptions(w,v.active?"active":s)),M||this.updateElement(v,w,S,s),g=T}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,i=t.options&&t.options.borderWidth||0,s=e.data||[];if(!s.length)return i;const r=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,r,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}ye(cu,"id","line"),ye(cu,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ye(cu,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class ol extends pi{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=Gl(t._parsed[e].r,i.options.locale);return{label:s[e]||"",value:r}}parseObjectData(e,t,i,s){return G2.bind(this)(e,t,i,s)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((i,s)=>{const r=this.getParsed(s).r;!isNaN(r)&&this.chart.getDataVisibility(s)&&(r<t.min&&(t.min=r),r>t.max&&(t.max=r))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,i=e.options,s=Math.min(t.right-t.left,t.bottom-t.top),r=Math.max(s/2,0),o=Math.max(i.cutoutPercentage?r/100*i.cutoutPercentage:1,0),a=(r-o)/e.getVisibleDatasetCount();this.outerRadius=r-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,t,i,s){const r=s==="reset",o=this.chart,l=o.options.animation,u=this._cachedMeta.rScale,d=u.xCenter,f=u.yCenter,p=u.getIndexAngle(0)-.5*vt;let m=p,_;const b=360/this.countVisibleElements();for(_=0;_<t;++_)m+=this._computeAngle(_,s,b);for(_=t;_<t+i;_++){const k=e[_];let M=m,E=m+this._computeAngle(_,s,b),A=o.getDataVisibility(_)?u.getDistanceFromCenterForValue(this.getParsed(_).r):0;m=E,r&&(l.animateScale&&(A=0),l.animateRotate&&(M=E=p));const g={x:d,y:f,innerRadius:0,outerRadius:A,startAngle:M,endAngle:E,options:this.resolveDataElementOptions(_,k.active?"active":s)};this.updateElement(k,_,g,s)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&t++}),t}_computeAngle(e,t,i){return this.chart.getDataVisibility(e)?ui(this.resolveDataElementOptions(e,t).angle||i):0}}ye(ol,"id","polarArea"),ye(ol,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),ye(ol,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:s}}=e.legend.options;return t.labels.map((r,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class pp extends Ar{}ye(pp,"id","pie"),ye(pp,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class uu extends pi{getLabelAndValue(e){const t=this._cachedMeta.vScale,i=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(i[t.axis])}}parseObjectData(e,t,i,s){return G2.bind(this)(e,t,i,s)}update(e){const t=this._cachedMeta,i=t.dataset,s=t.data||[],r=t.iScale.getLabels();if(i.points=s,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:r.length===s.length,options:o};this.updateElement(i,void 0,a,e)}this.updateElements(s,0,s.length,e)}updateElements(e,t,i,s){const r=this._cachedMeta.rScale,o=s==="reset";for(let a=t;a<t+i;a++){const l=e[a],u=this.resolveDataElementOptions(a,l.active?"active":s),d=r.getPointPositionForValue(a,this.getParsed(a).r),f=o?r.xCenter:d.x,p=o?r.yCenter:d.y,m={x:f,y:p,angle:d.angle,skip:isNaN(f)||isNaN(p),options:u};this.updateElement(l,a,m,s)}}}ye(uu,"id","radar"),ye(uu,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),ye(uu,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class du extends pi{getLabelAndValue(e){const t=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=t,o=this.getParsed(e),a=s.getLabelForValue(o.x),l=r.getLabelForValue(o.y);return{label:i[e]||"",value:"("+a+", "+l+")"}}update(e){const t=this._cachedMeta,{data:i=[]}=t,s=this.chart._animationsDisabled;let{start:r,count:o}=F2(t,i,s);if(this._drawStart=r,this._drawCount=o,$2(t)&&(r=0,o=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=t;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=i;const u=this.resolveDatasetElementOptions(e);u.segment=this.options.segment,this.updateElement(a,void 0,{animated:!s,options:u},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(i,r,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,i,s){const r=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:u}=this._cachedMeta,d=this.resolveDataElementOptions(t,s),f=this.getSharedOptions(d),p=this.includeOptions(s,f),m=o.axis,_=a.axis,{spanGaps:b,segment:k}=this.options,M=Ko(b)?b:Number.POSITIVE_INFINITY,E=this.chart._animationsDisabled||r||s==="none";let A=t>0&&this.getParsed(t-1);for(let g=t;g<t+i;++g){const w=e[g],v=this.getParsed(g),S=E?w:{},T=Je(v[_]),O=S[m]=o.getPixelForValue(v[m],g),I=S[_]=r||T?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,v,l):v[_],g);S.skip=isNaN(O)||isNaN(I)||T,S.stop=g>0&&Math.abs(v[m]-A[m])>M,k&&(S.parsed=v,S.raw=u.data[g]),p&&(S.options=f||this.resolveDataElementOptions(g,w.active?"active":s)),E||this.updateElement(w,g,S,s),A=v}this.updateSharedOptions(f,s,d)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let a=0;for(let l=t.length-1;l>=0;--l)a=Math.max(a,t[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const i=e.dataset,s=i.options&&i.options.borderWidth||0;if(!t.length)return s;const r=t[0].size(this.resolveDataElementOptions(0)),o=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(s,r,o)/2}}ye(du,"id","scatter"),ye(du,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),ye(du,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var JP=Object.freeze({__proto__:null,BarController:au,BubbleController:lu,DoughnutController:Ar,LineController:cu,PieController:pp,PolarAreaController:ol,RadarController:uu,ScatterController:du});function vr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Jm{constructor(e){ye(this,"options");this.options=e||{}}static override(e){Object.assign(Jm.prototype,e)}init(){}formats(){return vr()}parse(){return vr()}format(){return vr()}add(){return vr()}diff(){return vr()}startOf(){return vr()}endOf(){return vr()}}var YP={_date:Jm};function XP(n,e,t,i){const{controller:s,data:r,_sorted:o}=n,a=s._cachedMeta.iScale,l=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&r.length){const u=a._reversePixels?b5:ds;if(i){if(s._sharedOptions){const d=r[0],f=typeof d.getRange=="function"&&d.getRange(e);if(f){const p=u(r,e,t-f),m=u(r,e,t+f);return{lo:p.lo,hi:m.hi}}}}else{const d=u(r,e,t);if(l){const{vScale:f}=s._cachedMeta,{_parsed:p}=n,m=p.slice(0,d.lo+1).reverse().findIndex(b=>!Je(b[f.axis]));d.lo-=Math.max(0,m);const _=p.slice(d.hi).findIndex(b=>!Je(b[f.axis]));d.hi+=Math.max(0,_)}return d}}return{lo:0,hi:r.length-1}}function Jl(n,e,t,i,s){const r=n.getSortedVisibleDatasetMetas(),o=t[e];for(let a=0,l=r.length;a<l;++a){const{index:u,data:d}=r[a],{lo:f,hi:p}=XP(r[a],e,o,s);for(let m=f;m<=p;++m){const _=d[m];_.skip||i(_,u,m)}}}function QP(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(i,s){const r=e?Math.abs(i.x-s.x):0,o=t?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function Qh(n,e,t,i,s){const r=[];return!s&&!n.isPointInArea(e)||Jl(n,t,e,function(a,l,u){!s&&!hs(a,n.chartArea,0)||a.inRange(e.x,e.y,i)&&r.push({element:a,datasetIndex:l,index:u})},!0),r}function eE(n,e,t,i){let s=[];function r(o,a,l){const{startAngle:u,endAngle:d}=o.getProps(["startAngle","endAngle"],i),{angle:f}=I2(o,{x:e.x,y:e.y});Tl(f,u,d)&&s.push({element:o,datasetIndex:a,index:l})}return Jl(n,t,e,r),s}function tE(n,e,t,i,s,r){let o=[];const a=QP(t);let l=Number.POSITIVE_INFINITY;function u(d,f,p){const m=d.inRange(e.x,e.y,s);if(i&&!m)return;const _=d.getCenterPoint(s);if(!(!!r||n.isPointInArea(_))&&!m)return;const k=a(e,_);k<l?(o=[{element:d,datasetIndex:f,index:p}],l=k):k===l&&o.push({element:d,datasetIndex:f,index:p})}return Jl(n,t,e,u),o}function ef(n,e,t,i,s,r){return!r&&!n.isPointInArea(e)?[]:t==="r"&&!i?eE(n,e,t,s):tE(n,e,t,i,s,r)}function yy(n,e,t,i,s){const r=[],o=t==="x"?"inXRange":"inYRange";let a=!1;return Jl(n,t,e,(l,u,d)=>{l[o]&&l[o](e[t],s)&&(r.push({element:l,datasetIndex:u,index:d}),a=a||l.inRange(e.x,e.y,s))}),i&&!a?[]:r}var nE={evaluateInteractionItems:Jl,modes:{index(n,e,t,i){const s=kr(e,n),r=t.axis||"x",o=t.includeInvisible||!1,a=t.intersect?Qh(n,s,r,i,o):ef(n,s,r,!1,i,o),l=[];return a.length?(n.getSortedVisibleDatasetMetas().forEach(u=>{const d=a[0].index,f=u.data[d];f&&!f.skip&&l.push({element:f,datasetIndex:u.index,index:d})}),l):[]},dataset(n,e,t,i){const s=kr(e,n),r=t.axis||"xy",o=t.includeInvisible||!1;let a=t.intersect?Qh(n,s,r,i,o):ef(n,s,r,!1,i,o);if(a.length>0){const l=a[0].datasetIndex,u=n.getDatasetMeta(l).data;a=[];for(let d=0;d<u.length;++d)a.push({element:u[d],datasetIndex:l,index:d})}return a},point(n,e,t,i){const s=kr(e,n),r=t.axis||"xy",o=t.includeInvisible||!1;return Qh(n,s,r,i,o)},nearest(n,e,t,i){const s=kr(e,n),r=t.axis||"xy",o=t.includeInvisible||!1;return ef(n,s,r,t.intersect,i,o)},x(n,e,t,i){const s=kr(e,n);return yy(n,s,"x",t.intersect,i)},y(n,e,t,i){const s=kr(e,n);return yy(n,s,"y",t.intersect,i)}}};const ox=["left","top","right","bottom"];function Aa(n,e){return n.filter(t=>t.pos===e)}function _y(n,e){return n.filter(t=>ox.indexOf(t.pos)===-1&&t.box.axis===e)}function Oa(n,e){return n.sort((t,i)=>{const s=e?i:t,r=e?t:i;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function iE(n){const e=[];let t,i,s,r,o,a;for(t=0,i=(n||[]).length;t<i;++t)s=n[t],{position:r,options:{stack:o,stackWeight:a=1}}=s,e.push({index:t,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&r+o,stackWeight:a});return e}function sE(n){const e={};for(const t of n){const{stack:i,pos:s,stackWeight:r}=t;if(!i||!ox.includes(s))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return e}function rE(n,e){const t=sE(n),{vBoxMaxWidth:i,hBoxMaxHeight:s}=e;let r,o,a;for(r=0,o=n.length;r<o;++r){a=n[r];const{fullSize:l}=a.box,u=t[a.stack],d=u&&a.stackWeight/u.weight;a.horizontal?(a.width=d?d*i:l&&e.availableWidth,a.height=s):(a.width=i,a.height=d?d*s:l&&e.availableHeight)}return t}function oE(n){const e=iE(n),t=Oa(e.filter(u=>u.box.fullSize),!0),i=Oa(Aa(e,"left"),!0),s=Oa(Aa(e,"right")),r=Oa(Aa(e,"top"),!0),o=Oa(Aa(e,"bottom")),a=_y(e,"x"),l=_y(e,"y");return{fullSize:t,leftAndTop:i.concat(r),rightAndBottom:s.concat(l).concat(o).concat(a),chartArea:Aa(e,"chartArea"),vertical:i.concat(s).concat(l),horizontal:r.concat(o).concat(a)}}function vy(n,e,t,i){return Math.max(n[t],e[t])+Math.max(n[i],e[i])}function ax(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function aE(n,e,t,i){const{pos:s,box:r}=t,o=n.maxPadding;if(!Xe(s)){t.size&&(n[s]-=t.size);const f=i[t.stack]||{size:0,count:1};f.size=Math.max(f.size,t.horizontal?r.height:r.width),t.size=f.size/f.count,n[s]+=t.size}r.getPadding&&ax(o,r.getPadding());const a=Math.max(0,e.outerWidth-vy(o,n,"left","right")),l=Math.max(0,e.outerHeight-vy(o,n,"top","bottom")),u=a!==n.w,d=l!==n.h;return n.w=a,n.h=l,t.horizontal?{same:u,other:d}:{same:d,other:u}}function lE(n){const e=n.maxPadding;function t(i){const s=Math.max(e[i]-n[i],0);return n[i]+=s,s}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function cE(n,e){const t=e.maxPadding;function i(s){const r={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{r[o]=Math.max(e[o],t[o])}),r}return i(n?["left","right"]:["top","bottom"])}function Fa(n,e,t,i){const s=[];let r,o,a,l,u,d;for(r=0,o=n.length,u=0;r<o;++r){a=n[r],l=a.box,l.update(a.width||e.w,a.height||e.h,cE(a.horizontal,e));const{same:f,other:p}=aE(e,t,a,i);u|=f&&s.length,d=d||p,l.fullSize||s.push(a)}return u&&Fa(s,e,t,i)||d}function Rc(n,e,t,i,s){n.top=t,n.left=e,n.right=e+i,n.bottom=t+s,n.width=i,n.height=s}function by(n,e,t,i){const s=t.padding;let{x:r,y:o}=e;for(const a of n){const l=a.box,u=i[a.stack]||{count:1,placed:0,weight:1},d=a.stackWeight/u.weight||1;if(a.horizontal){const f=e.w*d,p=u.size||l.height;Cl(u.start)&&(o=u.start),l.fullSize?Rc(l,s.left,o,t.outerWidth-s.right-s.left,p):Rc(l,e.left+u.placed,o,f,p),u.start=o,u.placed+=f,o=l.bottom}else{const f=e.h*d,p=u.size||l.width;Cl(u.start)&&(r=u.start),l.fullSize?Rc(l,r,s.top,p,t.outerHeight-s.bottom-s.top):Rc(l,r,e.top+u.placed,p,f),u.start=r,u.placed+=f,r=l.right}}e.x=r,e.y=o}var pn={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,i){if(!n)return;const s=gn(n.options.layout.padding),r=Math.max(e-s.width,0),o=Math.max(t-s.height,0),a=oE(n.boxes),l=a.vertical,u=a.horizontal;lt(n.boxes,b=>{typeof b.beforeLayout=="function"&&b.beforeLayout()});const d=l.reduce((b,k)=>k.box.options&&k.box.options.display===!1?b:b+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:t,padding:s,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/d,hBoxMaxHeight:o/2}),p=Object.assign({},s);ax(p,gn(i));const m=Object.assign({maxPadding:p,w:r,h:o,x:s.left,y:s.top},s),_=rE(l.concat(u),f);Fa(a.fullSize,m,f,_),Fa(l,m,f,_),Fa(u,m,f,_)&&Fa(l,m,f,_),lE(m),by(a.leftAndTop,m,f,_),m.x+=m.w,m.y+=m.h,by(a.rightAndBottom,m,f,_),n.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},lt(a.chartArea,b=>{const k=b.box;Object.assign(k,n.chartArea),k.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class lx{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,s){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,s?Math.floor(t/s):i)}}isAttached(e){return!0}updateConfig(e){}}class uE extends lx{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const hu="$chartjs",dE={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},xy=n=>n===null||n==="";function hE(n,e){const t=n.style,i=n.getAttribute("height"),s=n.getAttribute("width");if(n[hu]={initial:{height:i,width:s,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",xy(s)){const r=sy(n,"width");r!==void 0&&(n.width=r)}if(xy(i))if(n.style.height==="")n.height=n.width/(e||2);else{const r=sy(n,"height");r!==void 0&&(n.height=r)}return n}const cx=fP?{passive:!0}:!1;function fE(n,e,t){n&&n.addEventListener(e,t,cx)}function pE(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,cx)}function mE(n,e){const t=dE[n.type]||n.type,{x:i,y:s}=kr(n,e);return{type:t,chart:e,native:n,x:i!==void 0?i:null,y:s!==void 0?s:null}}function $u(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function gE(n,e,t){const i=n.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||$u(a.addedNodes,i),o=o&&!$u(a.removedNodes,i);o&&t()});return s.observe(document,{childList:!0,subtree:!0}),s}function yE(n,e,t){const i=n.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||$u(a.removedNodes,i),o=o&&!$u(a.addedNodes,i);o&&t()});return s.observe(document,{childList:!0,subtree:!0}),s}const El=new Map;let wy=0;function ux(){const n=window.devicePixelRatio;n!==wy&&(wy=n,El.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function _E(n,e){El.size||window.addEventListener("resize",ux),El.set(n,e)}function vE(n){El.delete(n),El.size||window.removeEventListener("resize",ux)}function bE(n,e,t){const i=n.canvas,s=i&&Gm(i);if(!s)return;const r=B2((a,l)=>{const u=s.clientWidth;t(a,l),u<s.clientWidth&&t()},window),o=new ResizeObserver(a=>{const l=a[0],u=l.contentRect.width,d=l.contentRect.height;u===0&&d===0||r(u,d)});return o.observe(s),_E(n,r),o}function tf(n,e,t){t&&t.disconnect(),e==="resize"&&vE(n)}function xE(n,e,t){const i=n.canvas,s=B2(r=>{n.ctx!==null&&t(mE(r,n))},n);return fE(i,e,s),s}class wE extends lx{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(hE(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[hu])return!1;const i=t[hu].initial;["height","width"].forEach(r=>{const o=i[r];Je(o)?t.removeAttribute(r):t.setAttribute(r,o)});const s=i.style||{};return Object.keys(s).forEach(r=>{t.style[r]=s[r]}),t.width=t.width,delete t[hu],!0}addEventListener(e,t,i){this.removeEventListener(e,t);const s=e.$proxies||(e.$proxies={}),o={attach:gE,detach:yE,resize:bE}[t]||xE;s[t]=o(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),s=i[t];if(!s)return;({attach:tf,detach:tf,resize:tf}[t]||pE)(e,t,s),i[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,s){return hP(e,t,i,s)}isAttached(e){const t=e&&Gm(e);return!!(t&&t.isConnected)}}function kE(n){return!qm()||typeof OffscreenCanvas!="undefined"&&n instanceof OffscreenCanvas?uE:wE}var Qc;let ys=(Qc=class{constructor(){ye(this,"x");ye(this,"y");ye(this,"active",!1);ye(this,"options");ye(this,"$animations")}tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return Ko(this.x)&&Ko(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const s={};return e.forEach(r=>{s[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),s}},ye(Qc,"defaults",{}),ye(Qc,"defaultRoutes"),Qc);function SE(n,e){const t=n.options.ticks,i=ME(n),s=Math.min(t.maxTicksLimit||i,i),r=t.major.enabled?TE(e):[],o=r.length,a=r[0],l=r[o-1],u=[];if(o>s)return PE(e,u,r,o/s),u;const d=CE(r,e,s);if(o>0){let f,p;const m=o>1?Math.round((l-a)/(o-1)):null;for(Dc(e,u,d,Je(m)?0:a-m,a),f=0,p=o-1;f<p;f++)Dc(e,u,d,r[f],r[f+1]);return Dc(e,u,d,l,Je(m)?e.length:l+m),u}return Dc(e,u,d),u}function ME(n){const e=n.options.offset,t=n._tickSize(),i=n._length/t+(e?0:1),s=n._maxLength/t;return Math.floor(Math.min(i,s))}function CE(n,e,t){const i=EE(n),s=e.length/t;if(!i)return Math.max(s,1);const r=m5(i);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>s)return l}return Math.max(s,1)}function TE(n){const e=[];let t,i;for(t=0,i=n.length;t<i;t++)n[t].major&&e.push(t);return e}function PE(n,e,t,i){let s=0,r=t[0],o;for(i=Math.ceil(i),o=0;o<n.length;o++)o===r&&(e.push(n[o]),s++,r=t[s*i])}function Dc(n,e,t,i,s){const r=We(i,0),o=Math.min(We(s,n.length),n.length);let a=0,l,u,d;for(t=Math.ceil(t),s&&(l=s-i,t=l/Math.floor(l/t)),d=r;d<0;)a++,d=Math.round(r+a*t);for(u=Math.max(r,0);u<o;u++)u===d&&(e.push(n[u]),a++,d=Math.round(r+a*t))}function EE(n){const e=n.length;let t,i;if(e<2)return!1;for(i=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==i)return!1;return i}const AE=n=>n==="left"?"right":n==="right"?"left":n,ky=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,Sy=(n,e)=>Math.min(e||n,n);function My(n,e){const t=[],i=n.length/e,s=n.length;let r=0;for(;r<s;r+=i)t.push(n[Math.floor(r)]);return t}function OE(n,e,t){const i=n.ticks.length,s=Math.min(e,i-1),r=n._startPixel,o=n._endPixel,a=1e-6;let l=n.getPixelForTick(s),u;if(!(t&&(i===1?u=Math.max(l-r,o-l):e===0?u=(n.getPixelForTick(1)-l)/2:u=(l-n.getPixelForTick(s-1))/2,l+=s<e?u:-u,l<r-a||l>o+a)))return l}function LE(n,e){lt(n,t=>{const i=t.gc,s=i.length/2;let r;if(s>e){for(r=0;r<s;++r)delete t.data[i[r]];i.splice(0,s)}})}function La(n){return n.drawTicks?n.tickLength:0}function Cy(n,e){if(!n.display)return 0;const t=Vt(n.font,e),i=gn(n.padding);return(wt(n.text)?n.text.length:1)*t.lineHeight+i.height}function RE(n,e){return sr(n,{scale:e,type:"scale"})}function DE(n,e,t){return sr(n,{tick:t,index:e,type:"tick"})}function IE(n,e,t){let i=Hm(n);return(t&&e!=="right"||!t&&e==="right")&&(i=AE(i)),i}function jE(n,e,t,i){const{top:s,left:r,bottom:o,right:a,chart:l}=n,{chartArea:u,scales:d}=l;let f=0,p,m,_;const b=o-s,k=a-r;if(n.isHorizontal()){if(m=cn(i,r,a),Xe(t)){const M=Object.keys(t)[0],E=t[M];_=d[M].getPixelForValue(E)+b-e}else t==="center"?_=(u.bottom+u.top)/2+b-e:_=ky(n,t,e);p=a-r}else{if(Xe(t)){const M=Object.keys(t)[0],E=t[M];m=d[M].getPixelForValue(E)-k+e}else t==="center"?m=(u.left+u.right)/2-k+e:m=ky(n,t,e);_=cn(i,o,s),f=t==="left"?-Dt:Dt}return{titleX:m,titleY:_,maxWidth:p,rotation:f}}class eo extends ys{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:s}=this;return e=jn(e,Number.POSITIVE_INFINITY),t=jn(t,Number.NEGATIVE_INFINITY),i=jn(i,Number.POSITIVE_INFINITY),s=jn(s,Number.NEGATIVE_INFINITY),{min:jn(e,i),max:jn(t,s),minDefined:Ot(e),maxDefined:Ot(t)}}getMinMax(e){let{min:t,max:i,minDefined:s,maxDefined:r}=this.getUserBounds(),o;if(s&&r)return{min:t,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,u=a.length;l<u;++l)o=a[l].controller.getMinMax(this,e),s||(t=Math.min(t,o.min)),r||(i=Math.max(i,o.max));return t=r&&t>i?i:t,i=s&&t>i?t:i,{min:jn(t,jn(i,t)),max:jn(i,jn(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){gt(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:s,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=W5(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?My(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=SE(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,i;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){gt(this.options.afterUpdate,[this])}beforeSetDimensions(){gt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){gt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),gt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){gt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,s,r;for(i=0,s=e.length;i<s;i++)r=e[i],r.label=gt(t.callback,[r.value,i,e],this)}afterTickToLabelConversion(){gt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){gt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=Sy(this.ticks.length,e.ticks.maxTicksLimit),s=t.minRotation||0,r=t.maxRotation;let o=s,a,l,u;if(!this._isVisible()||!t.display||s>=r||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const d=this._getLabelSizes(),f=d.widest.width,p=d.highest.height,m=Gt(this.chart.width-f,0,this.maxWidth);a=e.offset?this.maxWidth/i:m/(i-1),f+6>a&&(a=m/(i-(e.offset?.5:1)),l=this.maxHeight-La(e.grid)-t.padding-Cy(e.title,this.chart.options.font),u=Math.sqrt(f*f+p*p),o=Fm(Math.min(Math.asin(Gt((d.highest.height+6)/a,-1,1)),Math.asin(Gt(l/u,-1,1))-Math.asin(Gt(p/u,-1,1)))),o=Math.max(s,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){gt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){gt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:s,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Cy(s,t.options.font);if(a?(e.width=this.maxWidth,e.height=La(r)+l):(e.height=this.maxHeight,e.width=La(r)+l),i.display&&this.ticks.length){const{first:u,last:d,widest:f,highest:p}=this._getLabelSizes(),m=i.padding*2,_=ui(this.labelRotation),b=Math.cos(_),k=Math.sin(_);if(a){const M=i.mirror?0:k*f.width+b*p.height;e.height=Math.min(this.maxHeight,e.height+M+m)}else{const M=i.mirror?0:b*f.width+k*p.height;e.width=Math.min(this.maxWidth,e.width+M+m)}this._calculatePadding(u,d,k,b)}}this._handleMargins(),a?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,s){const{ticks:{align:r,padding:o},position:a}=this.options,l=this.labelRotation!==0,u=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let p=0,m=0;l?u?(p=s*e.width,m=i*t.height):(p=i*e.height,m=s*t.width):r==="start"?m=t.width:r==="end"?p=e.width:r!=="inner"&&(p=e.width/2,m=t.width/2),this.paddingLeft=Math.max((p-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((m-f+o)*this.width/(this.width-f),0)}else{let d=t.height/2,f=e.height/2;r==="start"?(d=0,f=e.height):r==="end"&&(d=t.height,f=0),this.paddingTop=d+o,this.paddingBottom=f+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){gt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,i;for(t=0,i=e.length;t<i;t++)Je(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=My(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){const{ctx:s,_longestTextCache:r}=this,o=[],a=[],l=Math.floor(t/Sy(t,i));let u=0,d=0,f,p,m,_,b,k,M,E,A,g,w;for(f=0;f<t;f+=l){if(_=e[f].label,b=this._resolveTickFontOptions(f),s.font=k=b.string,M=r[k]=r[k]||{data:{},gc:[]},E=b.lineHeight,A=g=0,!Je(_)&&!wt(_))A=Bu(s,M.data,M.gc,A,_),g=E;else if(wt(_))for(p=0,m=_.length;p<m;++p)w=_[p],!Je(w)&&!wt(w)&&(A=Bu(s,M.data,M.gc,A,w),g+=E);o.push(A),a.push(g),u=Math.max(A,u),d=Math.max(g,d)}LE(r,t);const v=o.indexOf(u),S=a.indexOf(d),T=O=>({width:o[O]||0,height:a[O]||0});return{first:T(0),last:T(t-1),widest:T(v),highest:T(S),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return v5(this._alignToPixels?_r(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=DE(this.getContext(),e,i))}return this.$context||(this.$context=RE(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=ui(this.labelRotation),i=Math.abs(Math.cos(t)),s=Math.abs(Math.sin(t)),r=this._getLabelSizes(),o=e.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*i>a*s?a/i:l/s:l*s<a*i?l/i:a/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,s=this.options,{grid:r,position:o,border:a}=s,l=r.offset,u=this.isHorizontal(),f=this.ticks.length+(l?1:0),p=La(r),m=[],_=a.setContext(this.getContext()),b=_.display?_.width:0,k=b/2,M=function(R){return _r(i,R,b)};let E,A,g,w,v,S,T,O,I,N,B,V;if(o==="top")E=M(this.bottom),S=this.bottom-p,O=E-k,N=M(e.top)+k,V=e.bottom;else if(o==="bottom")E=M(this.top),N=e.top,V=M(e.bottom)-k,S=E+k,O=this.top+p;else if(o==="left")E=M(this.right),v=this.right-p,T=E-k,I=M(e.left)+k,B=e.right;else if(o==="right")E=M(this.left),I=e.left,B=M(e.right)-k,v=E+k,T=this.left+p;else if(t==="x"){if(o==="center")E=M((e.top+e.bottom)/2+.5);else if(Xe(o)){const R=Object.keys(o)[0],z=o[R];E=M(this.chart.scales[R].getPixelForValue(z))}N=e.top,V=e.bottom,S=E+k,O=S+p}else if(t==="y"){if(o==="center")E=M((e.left+e.right)/2);else if(Xe(o)){const R=Object.keys(o)[0],z=o[R];E=M(this.chart.scales[R].getPixelForValue(z))}v=E-k,T=v-p,I=e.left,B=e.right}const W=We(s.ticks.maxTicksLimit,f),Z=Math.max(1,Math.ceil(f/W));for(A=0;A<f;A+=Z){const R=this.getContext(A),z=r.setContext(R),H=a.setContext(R),ee=z.lineWidth,G=z.color,te=H.dash||[],we=H.dashOffset,Te=z.tickWidth,Ee=z.tickColor,Ce=z.tickBorderDash||[],be=z.tickBorderDashOffset;g=OE(this,A,l),g!==void 0&&(w=_r(i,g,ee),u?v=T=I=B=w:S=O=N=V=w,m.push({tx1:v,ty1:S,tx2:T,ty2:O,x1:I,y1:N,x2:B,y2:V,width:ee,color:G,borderDash:te,borderDashOffset:we,tickWidth:Te,tickColor:Ee,tickBorderDash:Ce,tickBorderDashOffset:be}))}return this._ticksLength=f,this._borderValue=E,m}_computeLabelItems(e){const t=this.axis,i=this.options,{position:s,ticks:r}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:u,padding:d,mirror:f}=r,p=La(i.grid),m=p+d,_=f?-d:m,b=-ui(this.labelRotation),k=[];let M,E,A,g,w,v,S,T,O,I,N,B,V="middle";if(s==="top")v=this.bottom-_,S=this._getXAxisLabelAlignment();else if(s==="bottom")v=this.top+_,S=this._getXAxisLabelAlignment();else if(s==="left"){const Z=this._getYAxisLabelAlignment(p);S=Z.textAlign,w=Z.x}else if(s==="right"){const Z=this._getYAxisLabelAlignment(p);S=Z.textAlign,w=Z.x}else if(t==="x"){if(s==="center")v=(e.top+e.bottom)/2+m;else if(Xe(s)){const Z=Object.keys(s)[0],R=s[Z];v=this.chart.scales[Z].getPixelForValue(R)+m}S=this._getXAxisLabelAlignment()}else if(t==="y"){if(s==="center")w=(e.left+e.right)/2-m;else if(Xe(s)){const Z=Object.keys(s)[0],R=s[Z];w=this.chart.scales[Z].getPixelForValue(R)}S=this._getYAxisLabelAlignment(p).textAlign}t==="y"&&(l==="start"?V="top":l==="end"&&(V="bottom"));const W=this._getLabelSizes();for(M=0,E=a.length;M<E;++M){A=a[M],g=A.label;const Z=r.setContext(this.getContext(M));T=this.getPixelForTick(M)+r.labelOffset,O=this._resolveTickFontOptions(M),I=O.lineHeight,N=wt(g)?g.length:1;const R=N/2,z=Z.color,H=Z.textStrokeColor,ee=Z.textStrokeWidth;let G=S;o?(w=T,S==="inner"&&(M===E-1?G=this.options.reverse?"left":"right":M===0?G=this.options.reverse?"right":"left":G="center"),s==="top"?u==="near"||b!==0?B=-N*I+I/2:u==="center"?B=-W.highest.height/2-R*I+I:B=-W.highest.height+I/2:u==="near"||b!==0?B=I/2:u==="center"?B=W.highest.height/2-R*I:B=W.highest.height-N*I,f&&(B*=-1),b!==0&&!Z.showLabelBackdrop&&(w+=I/2*Math.sin(b))):(v=T,B=(1-N)*I/2);let te;if(Z.showLabelBackdrop){const we=gn(Z.backdropPadding),Te=W.heights[M],Ee=W.widths[M];let Ce=B-we.top,be=0-we.left;switch(V){case"middle":Ce-=Te/2;break;case"bottom":Ce-=Te;break}switch(S){case"center":be-=Ee/2;break;case"right":be-=Ee;break;case"inner":M===E-1?be-=Ee:M>0&&(be-=Ee/2);break}te={left:be,top:Ce,width:Ee+we.width,height:Te+we.height,color:Z.backdropColor}}k.push({label:g,font:O,textOffset:B,options:{rotation:b,color:z,strokeColor:H,strokeWidth:ee,textAlign:G,textBaseline:V,translation:[w,v],backdrop:te}})}return k}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-ui(this.labelRotation))return e==="top"?"left":"right";let s="center";return t.align==="start"?s="left":t.align==="end"?s="right":t.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:s,padding:r}}=this.options,o=this._getLabelSizes(),a=e+r,l=o.widest.width;let u,d;return t==="left"?s?(d=this.right+r,i==="near"?u="left":i==="center"?(u="center",d+=l/2):(u="right",d+=l)):(d=this.right-a,i==="near"?u="right":i==="center"?(u="center",d-=l/2):(u="left",d=this.left)):t==="right"?s?(d=this.left+r,i==="near"?u="right":i==="center"?(u="center",d-=l/2):(u="left",d-=l)):(d=this.left+a,i==="near"?u="left":i==="center"?(u="center",d+=l/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:s,width:r,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,s,r,o),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const s=this.ticks.findIndex(r=>r.value===e);return s>=0?t.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const t=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,o;const a=(l,u,d)=>{!d.width||!d.color||(i.save(),i.lineWidth=d.width,i.strokeStyle=d.color,i.setLineDash(d.borderDash||[]),i.lineDashOffset=d.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(u.x,u.y),i.stroke(),i.restore())};if(t.display)for(r=0,o=s.length;r<o;++r){const l=s[r];t.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),t.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:i,grid:s}}=this,r=i.setContext(this.getContext()),o=i.display?r.width:0;if(!o)return;const a=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let u,d,f,p;this.isHorizontal()?(u=_r(e,this.left,o)-o/2,d=_r(e,this.right,a)+a/2,f=p=l):(f=_r(e,this.top,o)-o/2,p=_r(e,this.bottom,a)+a/2,u=d=l),t.save(),t.lineWidth=r.width,t.strokeStyle=r.color,t.beginPath(),t.moveTo(u,f),t.lineTo(d,p),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&jd(i,s);const r=this.getLabelItems(e);for(const o of r){const a=o.options,l=o.font,u=o.label,d=o.textOffset;Ur(i,u,0,d,l,a)}s&&Nd(i)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:s}}=this;if(!i.display)return;const r=Vt(i.font),o=gn(i.padding),a=i.align;let l=r.lineHeight/2;t==="bottom"||t==="center"||Xe(t)?(l+=o.bottom,wt(i.text)&&(l+=r.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:u,titleY:d,maxWidth:f,rotation:p}=jE(this,l,t,a);Ur(e,i.text,0,0,r,{color:i.color,maxWidth:f,rotation:p,textAlign:IE(a,t,s),textBaseline:"middle",translation:[u,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=We(e.grid&&e.grid.z,-1),s=We(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==eo.prototype.draw?[{z:t,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:t,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let r,o;for(r=0,o=t.length;r<o;++r){const a=t[r];a[i]===this.id&&(!e||a.type===e)&&s.push(a)}return s}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return Vt(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Ic{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;BE(t)&&(i=this.register(t));const s=this.items,r=e.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in s||(s[r]=e,NE(e,o,i),this.override&&kt.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,s=this.scope;i in t&&delete t[i],s&&i in kt[s]&&(delete kt[s][i],this.override&&delete Wr[i])}}function NE(n,e,t){const i=Ml(Object.create(null),[t?kt.get(t):{},kt.get(e),n.defaults]);kt.set(e,i),n.defaultRoutes&&zE(e,n.defaultRoutes),n.descriptors&&kt.describe(e,n.descriptors)}function zE(n,e){Object.keys(e).forEach(t=>{const i=t.split("."),s=i.pop(),r=[n].concat(i).join("."),o=e[t].split("."),a=o.pop(),l=o.join(".");kt.route(r,s,l,a)})}function BE(n){return"id"in n&&"defaults"in n}class FE{constructor(){this.controllers=new Ic(pi,"datasets",!0),this.elements=new Ic(ys,"elements"),this.plugins=new Ic(Object,"plugins"),this.scales=new Ic(eo,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(s=>{const r=i||this._getRegistryForType(s);i||r.isForType(s)||r===this.plugins&&s.id?this._exec(e,r,s):lt(s,o=>{const a=i||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,t,i){const s=Bm(e);gt(i["before"+s],[],i),t[e](i),gt(i["after"+s],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const s=t.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return s}}var Ei=new FE;class $E{constructor(){this._init=[]}notify(e,t,i,s){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=s?this._descriptors(e).filter(s):this._descriptors(e),o=this._notify(r,e,t,i);return t==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,t,i,s){s=s||{};for(const r of e){const o=r.plugin,a=o[i],l=[t,s,r.options];if(gt(a,l,o)===!1&&s.cancelable)return!1}return!0}invalidate(){Je(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,s=We(i.options&&i.options.plugins,{}),r=HE(i);return s===!1&&!t?[]:WE(e,r,s,t)}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,s=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(s(t,i),e,"stop"),this._notify(s(i,t),e,"start")}}function HE(n){const e={},t=[],i=Object.keys(Ei.plugins.items);for(let r=0;r<i.length;r++)t.push(Ei.getPlugin(i[r]));const s=n.plugins||[];for(let r=0;r<s.length;r++){const o=s[r];t.indexOf(o)===-1&&(t.push(o),e[o.id]=!0)}return{plugins:t,localIds:e}}function VE(n,e){return!e&&n===!1?null:n===!0?{}:n}function WE(n,{plugins:e,localIds:t},i,s){const r=[],o=n.getContext();for(const a of e){const l=a.id,u=VE(i[l],s);u!==null&&r.push({plugin:a,options:UE(n.config,{plugin:a,local:t[l]},u,o)})}return r}function UE(n,{plugin:e,local:t},i,s){const r=n.pluginScopeKeys(e),o=n.getOptionScopes(i,r);return t&&e.defaults&&o.push(e.defaults),n.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function mp(n,e){const t=kt.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function ZE(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function KE(n,e){return n===e?"_index_":"_value_"}function Ty(n){if(n==="x"||n==="y"||n==="r")return n}function qE(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function gp(n,...e){if(Ty(n))return n;for(const t of e){const i=t.axis||qE(t.position)||n.length>1&&Ty(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function Py(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function GE(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(t.length)return Py(n,"x",t[0])||Py(n,"y",t[0])}return{}}function JE(n,e){const t=Wr[n.type]||{scales:{}},i=e.scales||{},s=mp(n.type,e),r=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!Xe(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=gp(o,a,GE(o,n),kt.scales[a.type]),u=KE(l,s),d=t.scales||{};r[o]=nl(Object.create(null),[{axis:l},a,d[l],d[u]])}),n.data.datasets.forEach(o=>{const a=o.type||n.type,l=o.indexAxis||mp(a,e),d=(Wr[a]||{}).scales||{};Object.keys(d).forEach(f=>{const p=ZE(f,l),m=o[p+"AxisID"]||p;r[m]=r[m]||Object.create(null),nl(r[m],[{axis:p},i[m],d[f]])})}),Object.keys(r).forEach(o=>{const a=r[o];nl(a,[kt.scales[a.type],kt.scale])}),r}function dx(n){const e=n.options||(n.options={});e.plugins=We(e.plugins,{}),e.scales=JE(n,e)}function hx(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function YE(n){return n=n||{},n.data=hx(n.data),dx(n),n}const Ey=new Map,fx=new Set;function jc(n,e){let t=Ey.get(n);return t||(t=e(),Ey.set(n,t),fx.add(t)),t}const Ra=(n,e,t)=>{const i=Ys(e,t);i!==void 0&&n.add(i)};class XE{constructor(e){this._config=YE(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=hx(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),dx(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return jc(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return jc(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return jc(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,i=this.type;return jc(`${i}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const i=this._scopeCache;let s=i.get(e);return(!s||t)&&(s=new Map,i.set(e,s)),s}getOptionScopes(e,t,i){const{options:s,type:r}=this,o=this._cachedScopes(e,i),a=o.get(t);if(a)return a;const l=new Set;t.forEach(d=>{e&&(l.add(e),d.forEach(f=>Ra(l,e,f))),d.forEach(f=>Ra(l,s,f)),d.forEach(f=>Ra(l,Wr[r]||{},f)),d.forEach(f=>Ra(l,kt,f)),d.forEach(f=>Ra(l,hp,f))});const u=Array.from(l);return u.length===0&&u.push(Object.create(null)),fx.has(t)&&o.set(t,u),u}chartOptionScopes(){const{options:e,type:t}=this;return[e,Wr[t]||{},kt.datasets[t]||{},{type:t},kt,hp]}resolveNamedOptions(e,t,i,s=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=Ay(this._resolverCache,e,s);let l=o;if(eA(o,t)){r.$shared=!1,i=Xs(i)?i():i;const u=this.createResolver(e,i,a);l=qo(o,i,u)}for(const u of t)r[u]=l[u];return r}createResolver(e,t,i=[""],s){const{resolver:r}=Ay(this._resolverCache,e,i);return Xe(t)?qo(r,t,void 0,s):r}}function Ay(n,e,t){let i=n.get(e);i||(i=new Map,n.set(e,i));const s=t.join();let r=i.get(s);return r||(r={resolver:Um(e,t),subPrefixes:t.filter(a=>!a.toLowerCase().includes("hover"))},i.set(s,r)),r}const QE=n=>Xe(n)&&Object.getOwnPropertyNames(n).some(e=>Xs(n[e]));function eA(n,e){const{isScriptable:t,isIndexable:i}=U2(n);for(const s of e){const r=t(s),o=i(s),a=(o||r)&&n[s];if(r&&(Xs(a)||QE(a))||o&&wt(a))return!0}return!1}var tA="4.4.9";const nA=["top","bottom","left","right","chartArea"];function Oy(n,e){return n==="top"||n==="bottom"||nA.indexOf(n)===-1&&e==="x"}function Ly(n,e){return function(t,i){return t[n]===i[n]?t[e]-i[e]:t[n]-i[n]}}function Ry(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),gt(t&&t.onComplete,[n],e)}function iA(n){const e=n.chart,t=e.options.animation;gt(t&&t.onProgress,[n],e)}function px(n){return qm()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const fu={},Dy=n=>{const e=px(n);return Object.values(fu).filter(t=>t.canvas===e).pop()};function sA(n,e,t){const i=Object.keys(n);for(const s of i){const r=+s;if(r>=e){const o=n[s];delete n[s],(t>0||r>e)&&(n[r+t]=o)}}}function rA(n,e,t,i){return!t||n.type==="mouseout"?null:i?e:n}class rs{static register(...e){Ei.add(...e),Iy()}static unregister(...e){Ei.remove(...e),Iy()}constructor(e,t){const i=this.config=new XE(t),s=px(e),r=Dy(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||kE(s)),this.platform.updateConfig(i);const a=this.platform.acquireContext(s,o.aspectRatio),l=a&&a.canvas,u=l&&l.height,d=l&&l.width;if(this.id=o5(),this.ctx=a,this.canvas=l,this.width=d,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new $E,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=k5(f=>this.update(f),o.resizeDelay||0),this._dataChanges=[],fu[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Qi.listen(this,"complete",Ry),Qi.listen(this,"progress",iA),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:s,_aspectRatio:r}=this;return Je(e)?t&&r?r:s?i/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Ei}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():iy(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return ey(this.canvas,this.ctx),this}stop(){return Qi.stop(this),this}resize(e,t){Qi.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const i=this.options,s=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,e,t,r),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,iy(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),gt(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};lt(t,(i,s)=>{i.id=s})}buildOrUpdateScales(){const e=this.options,t=e.scales,i=this.scales,s=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let r=[];t&&(r=r.concat(Object.keys(t).map(o=>{const a=t[o],l=gp(o,a),u=l==="r",d=l==="x";return{options:a,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),lt(r,o=>{const a=o.options,l=a.id,u=gp(l,a),d=We(a.type,o.dtype);(a.position===void 0||Oy(a.position,u)!==Oy(o.dposition))&&(a.position=o.dposition),s[l]=!0;let f=null;if(l in i&&i[l].type===d)f=i[l];else{const p=Ei.getScale(d);f=new p({id:l,type:d,ctx:this.ctx,chart:this}),i[f.id]=f}f.init(a,e)}),lt(s,(o,a)=>{o||delete i[a]}),lt(i,o=>{pn.configure(this,o,o.options),pn.addBox(this,o)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((s,r)=>s.index-r.index),i>t){for(let s=t;s<i;++s)this._destroyDatasetMeta(s);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(Ly("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((i,s)=>{t.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=t.length;i<s;i++){const r=t[i];let o=this.getDatasetMeta(i);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=r.indexAxis||mp(a,this.options),o.order=r.order||0,o.index=i,o.label=""+r.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=Ei.getController(a),{datasetElementType:u,dataElementType:d}=kt.datasets[a];Object.assign(l,{dataElementType:Ei.getElement(d),datasetElementType:u&&Ei.getElement(u)}),o.controller=new l(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){lt(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:f}=this.getDatasetMeta(u),p=!s&&r.indexOf(f)===-1;f.buildOrUpdateElements(p),o=Math.max(+f.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),s||lt(r,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Ly("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){lt(this.scales,e=>{pn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!U1(t,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:r}of t){const o=i==="_removeElements"?-r:r;sA(e,s,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=r=>new Set(e.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),s=i(0);for(let r=1;r<t;r++)if(!U1(s,i(r)))return;return Array.from(s).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;pn.update(this,this.width,this.height,e);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],lt(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,i=this.data.datasets.length;t<i;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,Xs(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const i=this.getDatasetMeta(e),s={meta:i,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(t),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Qi.has(this)?this.attached&&!Qi.running(this)&&Qi.start(this):(this.draw(),Ry({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,i=[];let s,r;for(s=0,r=t.length;s<r;++s){const o=t[s];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,i={meta:e,index:e.index,cancelable:!0},s=nx(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(s&&jd(t,s),e.controller.draw(),s&&Nd(t),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return hs(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,s){const r=nE.modes[t];return typeof r=="function"?r(this,e,i,s):[]}getDatasetMeta(e){const t=this.data.datasets[e],i=this._metasets;let s=i.filter(r=>r&&r._dataset===t).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=sr(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!t.hidden}setDatasetVisibility(e,t){const i=this.getDatasetMeta(e);i.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){const s=i?"show":"hide",r=this.getDatasetMeta(e),o=r.controller._resolveAnimations(void 0,s);Cl(t)?(r.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(r,{visible:i}),this.update(a=>a.datasetIndex===e?s:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Qi.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),ey(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete fu[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,i=(r,o)=>{t.addEventListener(this,r,o),e[r]=o},s=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};lt(this.options.events,r=>i(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,i=(l,u)=>{t.addEventListener(this,l,u),e[l]=u},s=(l,u)=>{e[l]&&(t.removeEventListener(this,l,u),delete e[l])},r=(l,u)=>{this.canvas&&this.resize(l,u)};let o;const a=()=>{s("attach",a),this.attached=!0,this.resize(),i("resize",r),i("detach",o)};o=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),i("attach",a)},t.isAttached(this.canvas)?a():o()}unbindEvents(){lt(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},lt(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){const s=i?"set":"remove";let r,o,a,l;for(t==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],i=e.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!ju(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,i){const s=this.options.hover,r=(l,u)=>l.filter(d=>!u.some(f=>d.datasetIndex===f.datasetIndex&&d.index===f.index)),o=r(t,e),a=i?e:r(e,t);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(e,t){const i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},s=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const r=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(r||i.changed)&&this.render(),this}_handleEvent(e,t,i){const{_active:s=[],options:r}=this,o=t,a=this._getActiveElements(e,s,i,o),l=h5(e),u=rA(e,this._lastEvent,i,l);i&&(this._lastEvent=null,gt(r.onHover,[e,a,this],this),l&&gt(r.onClick,[e,a,this],this));const d=!ju(a,s);return(d||t)&&(this._active=a,this._updateHoverStyles(a,s,t)),this._lastEvent=u,d}_getActiveElements(e,t,i,s){if(e.type==="mouseout")return[];if(!i)return t;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,s)}}ye(rs,"defaults",kt),ye(rs,"instances",fu),ye(rs,"overrides",Wr),ye(rs,"registry",Ei),ye(rs,"version",tA),ye(rs,"getChart",Dy);function Iy(){return lt(rs.instances,n=>n._plugins.invalidate())}function oA(n,e,t){const{startAngle:i,pixelMargin:s,x:r,y:o,outerRadius:a,innerRadius:l}=e;let u=s/a;n.beginPath(),n.arc(r,o,a,i-u,t+u),l>s?(u=s/l,n.arc(r,o,l,t+u,i-u,!0)):n.arc(r,o,s,t+Dt,i-Dt),n.closePath(),n.clip()}function aA(n){return Wm(n,["outerStart","outerEnd","innerStart","innerEnd"])}function lA(n,e,t,i){const s=aA(n.options.borderRadius),r=(t-e)/2,o=Math.min(r,i*e/2),a=l=>{const u=(t-Math.min(r,l))*i/2;return Gt(l,0,Math.min(r,u))};return{outerStart:a(s.outerStart),outerEnd:a(s.outerEnd),innerStart:Gt(s.innerStart,0,o),innerEnd:Gt(s.innerEnd,0,o)}}function fo(n,e,t,i){return{x:t+n*Math.cos(e),y:i+n*Math.sin(e)}}function Hu(n,e,t,i,s,r){const{x:o,y:a,startAngle:l,pixelMargin:u,innerRadius:d}=e,f=Math.max(e.outerRadius+i+t-u,0),p=d>0?d+i+t+u:0;let m=0;const _=s-l;if(i){const Z=d>0?d-i:0,R=f>0?f-i:0,z=(Z+R)/2,H=z!==0?_*z/(z+i):_;m=(_-H)/2}const b=Math.max(.001,_*f-t/vt)/f,k=(_-b)/2,M=l+k+m,E=s-k-m,{outerStart:A,outerEnd:g,innerStart:w,innerEnd:v}=lA(e,p,f,E-M),S=f-A,T=f-g,O=M+A/S,I=E-g/T,N=p+w,B=p+v,V=M+w/N,W=E-v/B;if(n.beginPath(),r){const Z=(O+I)/2;if(n.arc(o,a,f,O,Z),n.arc(o,a,f,Z,I),g>0){const ee=fo(T,I,o,a);n.arc(ee.x,ee.y,g,I,E+Dt)}const R=fo(B,E,o,a);if(n.lineTo(R.x,R.y),v>0){const ee=fo(B,W,o,a);n.arc(ee.x,ee.y,v,E+Dt,W+Math.PI)}const z=(E-v/p+(M+w/p))/2;if(n.arc(o,a,p,E-v/p,z,!0),n.arc(o,a,p,z,M+w/p,!0),w>0){const ee=fo(N,V,o,a);n.arc(ee.x,ee.y,w,V+Math.PI,M-Dt)}const H=fo(S,M,o,a);if(n.lineTo(H.x,H.y),A>0){const ee=fo(S,O,o,a);n.arc(ee.x,ee.y,A,M-Dt,O)}}else{n.moveTo(o,a);const Z=Math.cos(O)*f+o,R=Math.sin(O)*f+a;n.lineTo(Z,R);const z=Math.cos(I)*f+o,H=Math.sin(I)*f+a;n.lineTo(z,H)}n.closePath()}function cA(n,e,t,i,s){const{fullCircles:r,startAngle:o,circumference:a}=e;let l=e.endAngle;if(r){Hu(n,e,t,i,l,s);for(let u=0;u<r;++u)n.fill();isNaN(a)||(l=o+(a%_t||_t))}return Hu(n,e,t,i,l,s),n.fill(),l}function uA(n,e,t,i,s){const{fullCircles:r,startAngle:o,circumference:a,options:l}=e,{borderWidth:u,borderJoinStyle:d,borderDash:f,borderDashOffset:p}=l,m=l.borderAlign==="inner";if(!u)return;n.setLineDash(f||[]),n.lineDashOffset=p,m?(n.lineWidth=u*2,n.lineJoin=d||"round"):(n.lineWidth=u,n.lineJoin=d||"bevel");let _=e.endAngle;if(r){Hu(n,e,t,i,_,s);for(let b=0;b<r;++b)n.stroke();isNaN(a)||(_=o+(a%_t||_t))}m&&oA(n,e,_),r||(Hu(n,e,t,i,_,s),n.stroke())}class $a extends ys{constructor(t){super();ye(this,"circumference");ye(this,"endAngle");ye(this,"fullCircles");ye(this,"innerRadius");ye(this,"outerRadius");ye(this,"pixelMargin");ye(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,i,s){const r=this.getProps(["x","y"],s),{angle:o,distance:a}=I2(r,{x:t,y:i}),{startAngle:l,endAngle:u,innerRadius:d,outerRadius:f,circumference:p}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),m=(this.options.spacing+this.options.borderWidth)/2,_=We(p,u-l),b=Tl(o,l,u)&&l!==u,k=_>=_t||b,M=us(a,d+m,f+m);return k&&M}getCenterPoint(t){const{x:i,y:s,startAngle:r,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:u,spacing:d}=this.options,f=(r+o)/2,p=(a+l+d+u)/2;return{x:i+Math.cos(f)*p,y:s+Math.sin(f)*p}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:i,circumference:s}=this,r=(i.offset||0)/4,o=(i.spacing||0)/2,a=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=s>_t?Math.floor(s/_t):0,s===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const l=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(l)*r,Math.sin(l)*r);const u=1-Math.sin(Math.min(vt,s||0)),d=r*u;t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,cA(t,this,d,o,a),uA(t,this,d,o,a),t.restore()}}ye($a,"id","arc"),ye($a,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),ye($a,"defaultRoutes",{backgroundColor:"backgroundColor"}),ye($a,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});function mx(n,e,t=e){n.lineCap=We(t.borderCapStyle,e.borderCapStyle),n.setLineDash(We(t.borderDash,e.borderDash)),n.lineDashOffset=We(t.borderDashOffset,e.borderDashOffset),n.lineJoin=We(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=We(t.borderWidth,e.borderWidth),n.strokeStyle=We(t.borderColor,e.borderColor)}function dA(n,e,t){n.lineTo(t.x,t.y)}function hA(n){return n.stepped?I5:n.tension||n.cubicInterpolationMode==="monotone"?j5:dA}function gx(n,e,t={}){const i=n.length,{start:s=0,end:r=i-1}=t,{start:o,end:a}=e,l=Math.max(s,o),u=Math.min(r,a),d=s<o&&r<o||s>a&&r>a;return{count:i,start:l,loop:e.loop,ilen:u<l&&!d?i+u-l:u-l}}function fA(n,e,t,i){const{points:s,options:r}=e,{count:o,start:a,loop:l,ilen:u}=gx(s,t,i),d=hA(r);let{move:f=!0,reverse:p}=i||{},m,_,b;for(m=0;m<=u;++m)_=s[(a+(p?u-m:m))%o],!_.skip&&(f?(n.moveTo(_.x,_.y),f=!1):d(n,b,_,p,r.stepped),b=_);return l&&(_=s[(a+(p?u:0))%o],d(n,b,_,p,r.stepped)),!!l}function pA(n,e,t,i){const s=e.points,{count:r,start:o,ilen:a}=gx(s,t,i),{move:l=!0,reverse:u}=i||{};let d=0,f=0,p,m,_,b,k,M;const E=g=>(o+(u?a-g:g))%r,A=()=>{b!==k&&(n.lineTo(d,k),n.lineTo(d,b),n.lineTo(d,M))};for(l&&(m=s[E(0)],n.moveTo(m.x,m.y)),p=0;p<=a;++p){if(m=s[E(p)],m.skip)continue;const g=m.x,w=m.y,v=g|0;v===_?(w<b?b=w:w>k&&(k=w),d=(f*d+g)/++f):(A(),n.lineTo(g,w),_=v,f=0,b=k=w),M=w}A()}function yp(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?pA:fA}function mA(n){return n.stepped?pP:n.tension||n.cubicInterpolationMode==="monotone"?mP:Sr}function gA(n,e,t,i){let s=e._path;s||(s=e._path=new Path2D,e.path(s,t,i)&&s.closePath()),mx(n,e.options),n.stroke(s)}function yA(n,e,t,i){const{segments:s,options:r}=e,o=yp(e);for(const a of s)mx(n,r,a.style),n.beginPath(),o(n,e,a,{start:t,end:t+i-1})&&n.closePath(),n.stroke()}const _A=typeof Path2D=="function";function vA(n,e,t,i){_A&&!e.options.segment?gA(n,e,t,i):yA(n,e,t,i)}class zs extends ys{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;oP(this._points,i,e,s,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=xP(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,i=e.length;return i&&t[e[i-1].end]}interpolate(e,t){const i=this.options,s=e[t],r=this.points,o=tx(this,{property:t,start:s,end:s});if(!o.length)return;const a=[],l=mA(i);let u,d;for(u=0,d=o.length;u<d;++u){const{start:f,end:p}=o[u],m=r[f],_=r[p];if(m===_){a.push(m);continue}const b=Math.abs((s-m[t])/(_[t]-m[t])),k=l(m,_,b,i.stepped);k[t]=e[t],a.push(k)}return a.length===1?a[0]:a}pathSegment(e,t,i){return yp(this)(e,this,t,i)}path(e,t,i){const s=this.segments,r=yp(this);let o=this._loop;t=t||0,i=i||this.points.length-t;for(const a of s)o&=r(e,this,a,{start:t,end:t+i-1});return!!o}draw(e,t,i,s){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),vA(e,this,i,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ye(zs,"id","line"),ye(zs,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ye(zs,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ye(zs,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function jy(n,e,t,i){const s=n.options,{[t]:r}=n.getProps([t],i);return Math.abs(e-r)<s.radius+s.hitRadius}class pu extends ys{constructor(t){super();ye(this,"parsed");ye(this,"skip");ye(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,i,s){const r=this.options,{x:o,y:a}=this.getProps(["x","y"],s);return Math.pow(t-o,2)+Math.pow(i-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,i){return jy(this,t,"x",i)}inYRange(t,i){return jy(this,t,"y",i)}getCenterPoint(t){const{x:i,y:s}=this.getProps(["x","y"],t);return{x:i,y:s}}size(t){t=t||this.options||{};let i=t.radius||0;i=Math.max(i,i&&t.hoverRadius||0);const s=i&&t.borderWidth||0;return(i+s)*2}draw(t,i){const s=this.options;this.skip||s.radius<.1||!hs(this,i,this.size(s)/2)||(t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.fillStyle=s.backgroundColor,fp(t,s,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}ye(pu,"id","point"),ye(pu,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ye(pu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function yx(n,e){const{x:t,y:i,base:s,width:r,height:o}=n.getProps(["x","y","base","width","height"],e);let a,l,u,d,f;return n.horizontal?(f=o/2,a=Math.min(t,s),l=Math.max(t,s),u=i-f,d=i+f):(f=r/2,a=t-f,l=t+f,u=Math.min(i,s),d=Math.max(i,s)),{left:a,top:u,right:l,bottom:d}}function Bs(n,e,t,i){return n?0:Gt(e,t,i)}function bA(n,e,t){const i=n.options.borderWidth,s=n.borderSkipped,r=W2(i);return{t:Bs(s.top,r.top,0,t),r:Bs(s.right,r.right,0,e),b:Bs(s.bottom,r.bottom,0,t),l:Bs(s.left,r.left,0,e)}}function xA(n,e,t){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),s=n.options.borderRadius,r=Dr(s),o=Math.min(e,t),a=n.borderSkipped,l=i||Xe(s);return{topLeft:Bs(!l||a.top||a.left,r.topLeft,0,o),topRight:Bs(!l||a.top||a.right,r.topRight,0,o),bottomLeft:Bs(!l||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:Bs(!l||a.bottom||a.right,r.bottomRight,0,o)}}function wA(n){const e=yx(n),t=e.right-e.left,i=e.bottom-e.top,s=bA(n,t/2,i/2),r=xA(n,t/2,i/2);return{outer:{x:e.left,y:e.top,w:t,h:i,radius:r},inner:{x:e.left+s.l,y:e.top+s.t,w:t-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}function nf(n,e,t,i){const s=e===null,r=t===null,a=n&&!(s&&r)&&yx(n,i);return a&&(s||us(e,a.left,a.right))&&(r||us(t,a.top,a.bottom))}function kA(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function SA(n,e){n.rect(e.x,e.y,e.w,e.h)}function sf(n,e,t={}){const i=n.x!==t.x?-e:0,s=n.y!==t.y?-e:0,r=(n.x+n.w!==t.x+t.w?e:0)-i,o=(n.y+n.h!==t.y+t.h?e:0)-s;return{x:n.x+i,y:n.y+s,w:n.w+r,h:n.h+o,radius:n.radius}}class mu extends ys{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:i,backgroundColor:s}}=this,{inner:r,outer:o}=wA(this),a=kA(o.radius)?Pl:SA;e.save(),(o.w!==r.w||o.h!==r.h)&&(e.beginPath(),a(e,sf(o,t,r)),e.clip(),a(e,sf(r,-t,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),a(e,sf(r,t)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,t,i){return nf(this,e,t,i)}inXRange(e,t){return nf(this,e,null,t)}inYRange(e,t){return nf(this,null,e,t)}getCenterPoint(e){const{x:t,y:i,base:s,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(t+s)/2:t,y:r?i:(i+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}ye(mu,"id","bar"),ye(mu,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ye(mu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var MA=Object.freeze({__proto__:null,ArcElement:$a,BarElement:mu,LineElement:zs,PointElement:pu});const _p=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Ny=_p.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function _x(n){return _p[n%_p.length]}function vx(n){return Ny[n%Ny.length]}function CA(n,e){return n.borderColor=_x(e),n.backgroundColor=vx(e),++e}function TA(n,e){return n.backgroundColor=n.data.map(()=>_x(e++)),e}function PA(n,e){return n.backgroundColor=n.data.map(()=>vx(e++)),e}function EA(n){let e=0;return(t,i)=>{const s=n.getDatasetMeta(i).controller;s instanceof Ar?e=TA(t,e):s instanceof ol?e=PA(t,e):s&&(e=CA(t,e))}}function zy(n){let e;for(e in n)if(n[e].borderColor||n[e].backgroundColor)return!0;return!1}function AA(n){return n&&(n.borderColor||n.backgroundColor)}function OA(){return kt.borderColor!=="rgba(0,0,0,0.1)"||kt.backgroundColor!=="rgba(0,0,0,0.1)"}var LA={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,e,t){if(!t.enabled)return;const{data:{datasets:i},options:s}=n.config,{elements:r}=s,o=zy(i)||AA(s)||r&&zy(r)||OA();if(!t.forceOverride&&o)return;const a=EA(n);i.forEach(a)}};function RA(n,e,t,i,s){const r=s.samples||i;if(r>=t)return n.slice(e,e+t);const o=[],a=(t-2)/(r-2);let l=0;const u=e+t-1;let d=e,f,p,m,_,b;for(o[l++]=n[d],f=0;f<r-2;f++){let k=0,M=0,E;const A=Math.floor((f+1)*a)+1+e,g=Math.min(Math.floor((f+2)*a)+1,t)+e,w=g-A;for(E=A;E<g;E++)k+=n[E].x,M+=n[E].y;k/=w,M/=w;const v=Math.floor(f*a)+1+e,S=Math.min(Math.floor((f+1)*a)+1,t)+e,{x:T,y:O}=n[d];for(m=_=-1,E=v;E<S;E++)_=.5*Math.abs((T-k)*(n[E].y-O)-(T-n[E].x)*(M-O)),_>m&&(m=_,p=n[E],b=E);o[l++]=p,d=b}return o[l++]=n[u],o}function DA(n,e,t,i){let s=0,r=0,o,a,l,u,d,f,p,m,_,b;const k=[],M=e+t-1,E=n[e].x,g=n[M].x-E;for(o=e;o<e+t;++o){a=n[o],l=(a.x-E)/g*i,u=a.y;const w=l|0;if(w===d)u<_?(_=u,f=o):u>b&&(b=u,p=o),s=(r*s+a.x)/++r;else{const v=o-1;if(!Je(f)&&!Je(p)){const S=Math.min(f,p),T=Math.max(f,p);S!==m&&S!==v&&k.push($e(ce({},n[S]),{x:s})),T!==m&&T!==v&&k.push($e(ce({},n[T]),{x:s}))}o>0&&v!==m&&k.push(n[v]),k.push(a),d=w,r=0,_=b=u,f=p=m=o}}return k}function bx(n){if(n._decimated){const e=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function By(n){n.data.datasets.forEach(e=>{bx(e)})}function IA(n,e){const t=e.length;let i=0,s;const{iScale:r}=n,{min:o,max:a,minDefined:l,maxDefined:u}=r.getUserBounds();return l&&(i=Gt(ds(e,r.axis,o).lo,0,t-1)),u?s=Gt(ds(e,r.axis,a).hi+1,i,t)-i:s=t-i,{start:i,count:s}}var jA={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,e,t)=>{if(!t.enabled){By(n);return}const i=n.width;n.data.datasets.forEach((s,r)=>{const{_data:o,indexAxis:a}=s,l=n.getDatasetMeta(r),u=o||s.data;if(Ba([a,n.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const d=n.scales[l.xAxisID];if(d.type!=="linear"&&d.type!=="time"||n.options.parsing)return;let{start:f,count:p}=IA(l,u);const m=t.threshold||4*i;if(p<=m){bx(s);return}Je(o)&&(s._data=u,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(b){this._data=b}}));let _;switch(t.algorithm){case"lttb":_=RA(u,f,p,i,t);break;case"min-max":_=DA(u,f,p,i);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}s._decimated=_})},destroy(n){By(n)}};function NA(n,e,t){const i=n.segments,s=n.points,r=e.points,o=[];for(const a of i){let{start:l,end:u}=a;u=Ym(l,u,s);const d=vp(t,s[l],s[u],a.loop);if(!e.segments){o.push({source:a,target:d,start:s[l],end:s[u]});continue}const f=tx(e,d);for(const p of f){const m=vp(t,r[p.start],r[p.end],p.loop),_=ex(a,s,m);for(const b of _)o.push({source:b,target:p,start:{[t]:Fy(d,m,"start",Math.max)},end:{[t]:Fy(d,m,"end",Math.min)}})}}return o}function vp(n,e,t,i){if(i)return;let s=e[n],r=t[n];return n==="angle"&&(s=Nn(s),r=Nn(r)),{property:n,start:s,end:r}}function zA(n,e){const{x:t=null,y:i=null}=n||{},s=e.points,r=[];return e.segments.forEach(({start:o,end:a})=>{a=Ym(o,a,s);const l=s[o],u=s[a];i!==null?(r.push({x:l.x,y:i}),r.push({x:u.x,y:i})):t!==null&&(r.push({x:t,y:l.y}),r.push({x:t,y:u.y}))}),r}function Ym(n,e,t){for(;e>n;e--){const i=t[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function Fy(n,e,t,i){return n&&e?i(n[t],e[t]):n?n[t]:e?e[t]:0}function xx(n,e){let t=[],i=!1;return wt(n)?(i=!0,t=n):t=zA(n,e),t.length?new zs({points:t,options:{tension:0},_loop:i,_fullLoop:i}):null}function $y(n){return n&&n.fill!==!1}function BA(n,e,t){let s=n[e].fill;const r=[e];let o;if(!t)return s;for(;s!==!1&&r.indexOf(s)===-1;){if(!Ot(s))return s;if(o=n[s],!o)return!1;if(o.visible)return s;r.push(s),s=o.fill}return!1}function FA(n,e,t){const i=WA(n);if(Xe(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return Ot(s)&&Math.floor(s)===s?$A(i[0],e,s,t):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function $A(n,e,t,i){return(n==="-"||n==="+")&&(t=e+t),t===e||t<0||t>=i?!1:t}function HA(n,e){let t=null;return n==="start"?t=e.bottom:n==="end"?t=e.top:Xe(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}function VA(n,e,t){let i;return n==="start"?i=t:n==="end"?i=e.options.reverse?e.min:e.max:Xe(n)?i=n.value:i=e.getBaseValue(),i}function WA(n){const e=n.options,t=e.fill;let i=We(t&&t.target,t);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function UA(n){const{scale:e,index:t,line:i}=n,s=[],r=i.segments,o=i.points,a=ZA(e,t);a.push(xx({x:null,y:e.bottom},i));for(let l=0;l<r.length;l++){const u=r[l];for(let d=u.start;d<=u.end;d++)KA(s,o[d],a)}return new zs({points:s,options:{}})}function ZA(n,e){const t=[],i=n.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const r=i[s];if(r.index===e)break;r.hidden||t.unshift(r.dataset)}return t}function KA(n,e,t){const i=[];for(let s=0;s<t.length;s++){const r=t[s],{first:o,last:a,point:l}=qA(r,e,"x");if(!(!l||o&&a)){if(o)i.unshift(l);else if(n.push(l),!a)break}}n.push(...i)}function qA(n,e,t){const i=n.interpolate(e,t);if(!i)return{};const s=i[t],r=n.segments,o=n.points;let a=!1,l=!1;for(let u=0;u<r.length;u++){const d=r[u],f=o[d.start][t],p=o[d.end][t];if(us(s,f,p)){a=s===f,l=s===p;break}}return{first:a,last:l,point:i}}class wx{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,i){const{x:s,y:r,radius:o}=this;return t=t||{start:0,end:_t},e.arc(s,r,o,t.end,t.start,!0),!i.bounds}interpolate(e){const{x:t,y:i,radius:s}=this,r=e.angle;return{x:t+Math.cos(r)*s,y:i+Math.sin(r)*s,angle:r}}}function GA(n){const{chart:e,fill:t,line:i}=n;if(Ot(t))return JA(e,t);if(t==="stack")return UA(n);if(t==="shape")return!0;const s=YA(n);return s instanceof wx?s:xx(s,i)}function JA(n,e){const t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}function YA(n){return(n.scale||{}).getPointPositionForValue?QA(n):XA(n)}function XA(n){const{scale:e={},fill:t}=n,i=HA(t,e);if(Ot(i)){const s=e.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function QA(n){const{scale:e,fill:t}=n,i=e.options,s=e.getLabels().length,r=i.reverse?e.max:e.min,o=VA(t,e,r),a=[];if(i.grid.circular){const l=e.getPointPositionForValue(0,r);return new wx({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<s;++l)a.push(e.getPointPositionForValue(l,o));return a}function rf(n,e,t){const i=GA(e),{chart:s,index:r,line:o,scale:a,axis:l}=e,u=o.options,d=u.fill,f=u.backgroundColor,{above:p=f,below:m=f}=d||{},_=s.getDatasetMeta(r),b=nx(s,_);i&&o.points.length&&(jd(n,t),eO(n,{line:o,target:i,above:p,below:m,area:t,scale:a,axis:l,clip:b}),Nd(n))}function eO(n,e){const{line:t,target:i,above:s,below:r,area:o,scale:a,clip:l}=e,u=t._loop?"angle":e.axis;n.save(),u==="x"&&r!==s&&(Hy(n,i,o.top),Vy(n,{line:t,target:i,color:s,scale:a,property:u,clip:l}),n.restore(),n.save(),Hy(n,i,o.bottom)),Vy(n,{line:t,target:i,color:r,scale:a,property:u,clip:l}),n.restore()}function Hy(n,e,t){const{segments:i,points:s}=e;let r=!0,o=!1;n.beginPath();for(const a of i){const{start:l,end:u}=a,d=s[l],f=s[Ym(l,u,s)];r?(n.moveTo(d.x,d.y),r=!1):(n.lineTo(d.x,t),n.lineTo(d.x,d.y)),o=!!e.pathSegment(n,a,{move:o}),o?n.closePath():n.lineTo(f.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function Vy(n,e){const{line:t,target:i,property:s,color:r,scale:o,clip:a}=e,l=NA(t,i,s);for(const{source:u,target:d,start:f,end:p}of l){const{style:{backgroundColor:m=r}={}}=u,_=i!==!0;n.save(),n.fillStyle=m,tO(n,o,a,_&&vp(s,f,p)),n.beginPath();const b=!!t.pathSegment(n,u);let k;if(_){b?n.closePath():Wy(n,i,p,s);const M=!!i.pathSegment(n,d,{move:b,reverse:!0});k=b&&M,k||Wy(n,i,f,s)}n.closePath(),n.fill(k?"evenodd":"nonzero"),n.restore()}}function tO(n,e,t,i){const s=e.chart.chartArea,{property:r,start:o,end:a}=i||{};if(r==="x"||r==="y"){let l,u,d,f;r==="x"?(l=o,u=s.top,d=a,f=s.bottom):(l=s.left,u=o,d=s.right,f=a),n.beginPath(),t&&(l=Math.max(l,t.left),d=Math.min(d,t.right),u=Math.max(u,t.top),f=Math.min(f,t.bottom)),n.rect(l,u,d-l,f-u),n.clip()}}function Wy(n,e,t,i){const s=e.interpolate(t,i);s&&n.lineTo(s.x,s.y)}var nO={id:"filler",afterDatasetsUpdate(n,e,t){const i=(n.data.datasets||[]).length,s=[];let r,o,a,l;for(o=0;o<i;++o)r=n.getDatasetMeta(o),a=r.dataset,l=null,a&&a.options&&a instanceof zs&&(l={visible:n.isDatasetVisible(o),index:o,fill:FA(a,o,i),chart:n,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=l,s.push(l);for(o=0;o<i;++o)l=s[o],!(!l||l.fill===!1)&&(l.fill=BA(s,o,t.propagate))},beforeDraw(n,e,t){const i=t.drawTime==="beforeDraw",s=n.getSortedVisibleDatasetMetas(),r=n.chartArea;for(let o=s.length-1;o>=0;--o){const a=s[o].$filler;a&&(a.line.updateControlPoints(r,a.axis),i&&a.fill&&rf(n.ctx,a,r))}},beforeDatasetsDraw(n,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const r=i[s].$filler;$y(r)&&rf(n.ctx,r,n.chartArea)}},beforeDatasetDraw(n,e,t){const i=e.meta.$filler;!$y(i)||t.drawTime!=="beforeDatasetDraw"||rf(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Uy=(n,e)=>{let{boxHeight:t=e,boxWidth:i=e}=n;return n.usePointStyle&&(t=Math.min(t,e),i=n.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(e,t)}},iO=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class Zy extends ys{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=gt(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(i=>e.filter(i,this.chart.data))),e.sort&&(t=t.sort((i,s)=>e.sort(i,s,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,s=Vt(i.font),r=s.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Uy(i,r);let u,d;t.font=s.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(o,r,a,l)+10):(d=this.maxHeight,u=this._fitCols(o,s,a,l)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,s){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],d=s+a;let f=e;r.textAlign="left",r.textBaseline="middle";let p=-1,m=-d;return this.legendItems.forEach((_,b)=>{const k=i+t/2+r.measureText(_.text).width;(b===0||u[u.length-1]+k+2*a>o)&&(f+=d,u[u.length-(b>0?0:1)]=0,m+=d,p++),l[b]={left:0,top:m,row:p,width:k,height:s},u[u.length-1]+=k+a}),f}_fitCols(e,t,i,s){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],d=o-e;let f=a,p=0,m=0,_=0,b=0;return this.legendItems.forEach((k,M)=>{const{itemWidth:E,itemHeight:A}=sO(i,t,r,k,s);M>0&&m+A+2*a>d&&(f+=p+a,u.push({width:p,height:m}),_+=p+a,b++,p=m=0),l[M]={left:_,top:m,col:b,width:E,height:A},p=Math.max(p,E),m+=A+a}),f+=p,u.push({width:p,height:m}),f}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:s},rtl:r}}=this,o=No(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=cn(i,this.left+s,this.right-this.lineWidths[a]);for(const u of t)a!==u.row&&(a=u.row,l=cn(i,this.left+s,this.right-this.lineWidths[a])),u.top+=this.top+e+s,u.left=o.leftForLtr(o.x(l),u.width),l+=u.width+s}else{let a=0,l=cn(i,this.top+e+s,this.bottom-this.columnSizes[a].height);for(const u of t)u.col!==a&&(a=u.col,l=cn(i,this.top+e+s,this.bottom-this.columnSizes[a].height)),u.top=l,u.left+=this.left+s,u.left=o.leftForLtr(o.x(u.left),u.width),l+=u.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;jd(e,this),this._draw(),Nd(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:i,ctx:s}=this,{align:r,labels:o}=e,a=kt.color,l=No(e.rtl,this.left,this.width),u=Vt(o.font),{padding:d}=o,f=u.size,p=f/2;let m;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=u.string;const{boxWidth:_,boxHeight:b,itemHeight:k}=Uy(o,f),M=function(v,S,T){if(isNaN(_)||_<=0||isNaN(b)||b<0)return;s.save();const O=We(T.lineWidth,1);if(s.fillStyle=We(T.fillStyle,a),s.lineCap=We(T.lineCap,"butt"),s.lineDashOffset=We(T.lineDashOffset,0),s.lineJoin=We(T.lineJoin,"miter"),s.lineWidth=O,s.strokeStyle=We(T.strokeStyle,a),s.setLineDash(We(T.lineDash,[])),o.usePointStyle){const I={radius:b*Math.SQRT2/2,pointStyle:T.pointStyle,rotation:T.rotation,borderWidth:O},N=l.xPlus(v,_/2),B=S+p;V2(s,I,N,B,o.pointStyleWidth&&_)}else{const I=S+Math.max((f-b)/2,0),N=l.leftForLtr(v,_),B=Dr(T.borderRadius);s.beginPath(),Object.values(B).some(V=>V!==0)?Pl(s,{x:N,y:I,w:_,h:b,radius:B}):s.rect(N,I,_,b),s.fill(),O!==0&&s.stroke()}s.restore()},E=function(v,S,T){Ur(s,T.text,v,S+k/2,u,{strikethrough:T.hidden,textAlign:l.textAlign(T.textAlign)})},A=this.isHorizontal(),g=this._computeTitleHeight();A?m={x:cn(r,this.left+d,this.right-i[0]),y:this.top+d+g,line:0}:m={x:this.left+d,y:cn(r,this.top+g+d,this.bottom-t[0].height),line:0},Y2(this.ctx,e.textDirection);const w=k+d;this.legendItems.forEach((v,S)=>{s.strokeStyle=v.fontColor,s.fillStyle=v.fontColor;const T=s.measureText(v.text).width,O=l.textAlign(v.textAlign||(v.textAlign=o.textAlign)),I=_+p+T;let N=m.x,B=m.y;l.setWidth(this.width),A?S>0&&N+I+d>this.right&&(B=m.y+=w,m.line++,N=m.x=cn(r,this.left+d,this.right-i[m.line])):S>0&&B+w>this.bottom&&(N=m.x=N+t[m.line].width+d,m.line++,B=m.y=cn(r,this.top+g+d,this.bottom-t[m.line].height));const V=l.x(N);if(M(V,B,v),N=S5(O,N+_+p,A?N+I:this.right,e.rtl),E(l.x(N),B,v),A)m.x+=I+d;else if(typeof v.text!="string"){const W=u.lineHeight;m.y+=kx(v,W)+d}else m.y+=w}),X2(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,i=Vt(t.font),s=gn(t.padding);if(!t.display)return;const r=No(e.rtl,this.left,this.width),o=this.ctx,a=t.position,l=i.size/2,u=s.top+l;let d,f=this.left,p=this.width;if(this.isHorizontal())p=Math.max(...this.lineWidths),d=this.top+u,f=cn(e.align,f,this.right-p);else{const _=this.columnSizes.reduce((b,k)=>Math.max(b,k.height),0);d=u+cn(e.align,this.top,this.bottom-_-e.labels.padding-this._computeTitleHeight())}const m=cn(a,f,f+p);o.textAlign=r.textAlign(Hm(a)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=i.string,Ur(o,t.text,m,d,i)}_computeTitleHeight(){const e=this.options.title,t=Vt(e.font),i=gn(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,s,r;if(us(e,this.left,this.right)&&us(t,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(s=r[i],us(e,s.left,s.left+s.width)&&us(t,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(e){const t=this.options;if(!aO(e.type,t))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,r=iO(s,i);s&&!r&&gt(t.onLeave,[e,s,this],this),this._hoveredItem=i,i&&!r&&gt(t.onHover,[e,i,this],this)}else i&&gt(t.onClick,[e,i,this],this)}}function sO(n,e,t,i,s){const r=rO(i,n,e,t),o=oO(s,i,e.lineHeight);return{itemWidth:r,itemHeight:o}}function rO(n,e,t,i){let s=n.text;return s&&typeof s!="string"&&(s=s.reduce((r,o)=>r.length>o.length?r:o)),e+t.size/2+i.measureText(s).width}function oO(n,e,t){let i=n;return typeof e.text!="string"&&(i=kx(e,t)),i}function kx(n,e){const t=n.text?n.text.length:0;return e*t}function aO(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var lO={id:"legend",_element:Zy,start(n,e,t){const i=n.legend=new Zy({ctx:n.ctx,options:t,chart:n});pn.configure(n,i,t),pn.addBox(n,i)},stop(n){pn.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const i=n.legend;pn.configure(n,i,t),i.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const i=e.datasetIndex,s=t.chart;s.isDatasetVisible(i)?(s.hide(i),e.hidden=!0):(s.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:s,color:r,useBorderRadius:o,borderRadius:a}}=n.legend.options;return n._getSortedDatasetMetas().map(l=>{const u=l.controller.getStyle(t?0:void 0),d=gn(u.borderWidth);return{text:e[l.index].label,fillStyle:u.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:i||u.pointStyle,rotation:u.rotation,textAlign:s||u.textAlign,borderRadius:o&&(a||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class Xm extends ys{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const s=wt(i.text)?i.text.length:1;this._padding=gn(i.padding);const r=s*Vt(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:i,bottom:s,right:r,options:o}=this,a=o.align;let l=0,u,d,f;return this.isHorizontal()?(d=cn(a,i,r),f=t+e,u=r-i):(o.position==="left"?(d=i+e,f=cn(a,s,t),l=vt*-.5):(d=r-e,f=cn(a,t,s),l=vt*.5),u=s-t),{titleX:d,titleY:f,maxWidth:u,rotation:l}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const i=Vt(t.font),r=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:u}=this._drawArgs(r);Ur(e,t.text,0,0,i,{color:t.color,maxWidth:l,rotation:u,textAlign:Hm(t.align),textBaseline:"middle",translation:[o,a]})}}function cO(n,e){const t=new Xm({ctx:n.ctx,options:e,chart:n});pn.configure(n,t,e),pn.addBox(n,t),n.titleBlock=t}var uO={id:"title",_element:Xm,start(n,e,t){cO(n,t)},stop(n){const e=n.titleBlock;pn.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const i=n.titleBlock;pn.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Nc=new WeakMap;var dO={id:"subtitle",start(n,e,t){const i=new Xm({ctx:n.ctx,options:t,chart:n});pn.configure(n,i,t),pn.addBox(n,i),Nc.set(n,i)},stop(n){pn.removeBox(n,Nc.get(n)),Nc.delete(n)},beforeUpdate(n,e,t){const i=Nc.get(n);pn.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ha={average(n){if(!n.length)return!1;let e,t,i=new Set,s=0,r=0;for(e=0,t=n.length;e<t;++e){const a=n[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();i.add(l.x),s+=l.y,++r}}return r===0||i.size===0?!1:{x:[...i].reduce((a,l)=>a+l)/i.size,y:s/r}},nearest(n,e){if(!n.length)return!1;let t=e.x,i=e.y,s=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=n.length;r<o;++r){const l=n[r].element;if(l&&l.hasValue()){const u=l.getCenterPoint(),d=dp(e,u);d<s&&(s=d,a=l)}}if(a){const l=a.tooltipPosition();t=l.x,i=l.y}return{x:t,y:i}}};function Ti(n,e){return e&&(wt(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function es(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function hO(n,e){const{element:t,datasetIndex:i,index:s}=e,r=n.getDatasetMeta(i).controller,{label:o,value:a}=r.getLabelAndValue(s);return{chart:n,label:o,parsed:r.getParsed(s),raw:n.data.datasets[i].data[s],formattedValue:a,dataset:r.getDataset(),dataIndex:s,datasetIndex:i,element:t}}function Ky(n,e){const t=n.chart.ctx,{body:i,footer:s,title:r}=n,{boxWidth:o,boxHeight:a}=e,l=Vt(e.bodyFont),u=Vt(e.titleFont),d=Vt(e.footerFont),f=r.length,p=s.length,m=i.length,_=gn(e.padding);let b=_.height,k=0,M=i.reduce((g,w)=>g+w.before.length+w.lines.length+w.after.length,0);if(M+=n.beforeBody.length+n.afterBody.length,f&&(b+=f*u.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),M){const g=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;b+=m*g+(M-m)*l.lineHeight+(M-1)*e.bodySpacing}p&&(b+=e.footerMarginTop+p*d.lineHeight+(p-1)*e.footerSpacing);let E=0;const A=function(g){k=Math.max(k,t.measureText(g).width+E)};return t.save(),t.font=u.string,lt(n.title,A),t.font=l.string,lt(n.beforeBody.concat(n.afterBody),A),E=e.displayColors?o+2+e.boxPadding:0,lt(i,g=>{lt(g.before,A),lt(g.lines,A),lt(g.after,A)}),E=0,t.font=d.string,lt(n.footer,A),t.restore(),k+=_.width,{width:k,height:b}}function fO(n,e){const{y:t,height:i}=e;return t<i/2?"top":t>n.height-i/2?"bottom":"center"}function pO(n,e,t,i){const{x:s,width:r}=i,o=t.caretSize+t.caretPadding;if(n==="left"&&s+r+o>e.width||n==="right"&&s-r-o<0)return!0}function mO(n,e,t,i){const{x:s,width:r}=t,{width:o,chartArea:{left:a,right:l}}=n;let u="center";return i==="center"?u=s<=(a+l)/2?"left":"right":s<=r/2?u="left":s>=o-r/2&&(u="right"),pO(u,n,e,t)&&(u="center"),u}function qy(n,e,t){const i=t.yAlign||e.yAlign||fO(n,t);return{xAlign:t.xAlign||e.xAlign||mO(n,e,t,i),yAlign:i}}function gO(n,e){let{x:t,width:i}=n;return e==="right"?t-=i:e==="center"&&(t-=i/2),t}function yO(n,e,t){let{y:i,height:s}=n;return e==="top"?i+=t:e==="bottom"?i-=s+t:i-=s/2,i}function Gy(n,e,t,i){const{caretSize:s,caretPadding:r,cornerRadius:o}=n,{xAlign:a,yAlign:l}=t,u=s+r,{topLeft:d,topRight:f,bottomLeft:p,bottomRight:m}=Dr(o);let _=gO(e,a);const b=yO(e,l,u);return l==="center"?a==="left"?_+=u:a==="right"&&(_-=u):a==="left"?_-=Math.max(d,p)+s:a==="right"&&(_+=Math.max(f,m)+s),{x:Gt(_,0,i.width-e.width),y:Gt(b,0,i.height-e.height)}}function zc(n,e,t){const i=gn(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-i.right:n.x+i.left}function Jy(n){return Ti([],es(n))}function _O(n,e,t){return sr(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function Yy(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const Sx={beforeTitle:Xi,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:Xi,beforeBody:Xi,beforeLabel:Xi,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return Je(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Xi,afterBody:Xi,beforeFooter:Xi,footer:Xi,afterFooter:Xi};function En(n,e,t,i){const s=n[e].call(t,i);return typeof s=="undefined"?Sx[e].call(t,i):s}class bp extends ys{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&t.options.animation&&i.animations,r=new ix(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=_O(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:i}=t,s=En(i,"beforeTitle",this,e),r=En(i,"title",this,e),o=En(i,"afterTitle",this,e);let a=[];return a=Ti(a,es(s)),a=Ti(a,es(r)),a=Ti(a,es(o)),a}getBeforeBody(e,t){return Jy(En(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:i}=t,s=[];return lt(e,r=>{const o={before:[],lines:[],after:[]},a=Yy(i,r);Ti(o.before,es(En(a,"beforeLabel",this,r))),Ti(o.lines,En(a,"label",this,r)),Ti(o.after,es(En(a,"afterLabel",this,r))),s.push(o)}),s}getAfterBody(e,t){return Jy(En(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:i}=t,s=En(i,"beforeFooter",this,e),r=En(i,"footer",this,e),o=En(i,"afterFooter",this,e);let a=[];return a=Ti(a,es(s)),a=Ti(a,es(r)),a=Ti(a,es(o)),a}_createItems(e){const t=this._active,i=this.chart.data,s=[],r=[],o=[];let a=[],l,u;for(l=0,u=t.length;l<u;++l)a.push(hO(this.chart,t[l]));return e.filter&&(a=a.filter((d,f,p)=>e.filter(d,f,p,i))),e.itemSort&&(a=a.sort((d,f)=>e.itemSort(d,f,i))),lt(a,d=>{const f=Yy(e.callbacks,d);s.push(En(f,"labelColor",this,d)),r.push(En(f,"labelPointStyle",this,d)),o.push(En(f,"labelTextColor",this,d))}),this.labelColors=s,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(e,t){const i=this.options.setContext(this.getContext()),s=this._active;let r,o=[];if(!s.length)this.opacity!==0&&(r={opacity:0});else{const a=Ha[i.position].call(this,s,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=Ky(this,i),u=Object.assign({},a,l),d=qy(this.chart,i,u),f=Gy(i,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,r={opacity:1,x:f.x,y:f.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,s){const r=this.getCaretPosition(e,i,s);t.lineTo(r.x1,r.y1),t.lineTo(r.x2,r.y2),t.lineTo(r.x3,r.y3)}getCaretPosition(e,t,i){const{xAlign:s,yAlign:r}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:u,bottomLeft:d,bottomRight:f}=Dr(a),{x:p,y:m}=e,{width:_,height:b}=t;let k,M,E,A,g,w;return r==="center"?(g=m+b/2,s==="left"?(k=p,M=k-o,A=g+o,w=g-o):(k=p+_,M=k+o,A=g-o,w=g+o),E=k):(s==="left"?M=p+Math.max(l,d)+o:s==="right"?M=p+_-Math.max(u,f)-o:M=this.caretX,r==="top"?(A=m,g=A-o,k=M-o,E=M+o):(A=m+b,g=A+o,k=M+o,E=M-o),w=A),{x1:k,x2:M,x3:E,y1:A,y2:g,y3:w}}drawTitle(e,t,i){const s=this.title,r=s.length;let o,a,l;if(r){const u=No(i.rtl,this.x,this.width);for(e.x=zc(this,i.titleAlign,i),t.textAlign=u.textAlign(i.titleAlign),t.textBaseline="middle",o=Vt(i.titleFont),a=i.titleSpacing,t.fillStyle=i.titleColor,t.font=o.string,l=0;l<r;++l)t.fillText(s[l],u.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===r&&(e.y+=i.titleMarginBottom-a)}}_drawColorBox(e,t,i,s,r){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:u}=r,d=Vt(r.bodyFont),f=zc(this,"left",r),p=s.x(f),m=l<d.lineHeight?(d.lineHeight-l)/2:0,_=t.y+m;if(r.usePointStyle){const b={radius:Math.min(u,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},k=s.leftForLtr(p,u)+u/2,M=_+l/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,fp(e,b,k,M),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,fp(e,b,k,M)}else{e.lineWidth=Xe(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const b=s.leftForLtr(p,u),k=s.leftForLtr(s.xPlus(p,1),u-2),M=Dr(o.borderRadius);Object.values(M).some(E=>E!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,Pl(e,{x:b,y:_,w:u,h:l,radius:M}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Pl(e,{x:k,y:_+1,w:u-2,h:l-2,radius:M}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(b,_,u,l),e.strokeRect(b,_,u,l),e.fillStyle=o.backgroundColor,e.fillRect(k,_+1,u-2,l-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){const{body:s}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:u,boxPadding:d}=i,f=Vt(i.bodyFont);let p=f.lineHeight,m=0;const _=No(i.rtl,this.x,this.width),b=function(T){t.fillText(T,_.x(e.x+m),e.y+p/2),e.y+=p+r},k=_.textAlign(o);let M,E,A,g,w,v,S;for(t.textAlign=o,t.textBaseline="middle",t.font=f.string,e.x=zc(this,k,i),t.fillStyle=i.bodyColor,lt(this.beforeBody,b),m=a&&k!=="right"?o==="center"?u/2+d:u+2+d:0,g=0,v=s.length;g<v;++g){for(M=s[g],E=this.labelTextColors[g],t.fillStyle=E,lt(M.before,b),A=M.lines,a&&A.length&&(this._drawColorBox(t,e,g,_,i),p=Math.max(f.lineHeight,l)),w=0,S=A.length;w<S;++w)b(A[w]),p=f.lineHeight;lt(M.after,b)}m=0,p=f.lineHeight,lt(this.afterBody,b),e.y-=r}drawFooter(e,t,i){const s=this.footer,r=s.length;let o,a;if(r){const l=No(i.rtl,this.x,this.width);for(e.x=zc(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=l.textAlign(i.footerAlign),t.textBaseline="middle",o=Vt(i.footerFont),t.fillStyle=i.footerColor,t.font=o.string,a=0;a<r;++a)t.fillText(s[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,t,i,s){const{xAlign:r,yAlign:o}=this,{x:a,y:l}=e,{width:u,height:d}=i,{topLeft:f,topRight:p,bottomLeft:m,bottomRight:_}=Dr(s.cornerRadius);t.fillStyle=s.backgroundColor,t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.beginPath(),t.moveTo(a+f,l),o==="top"&&this.drawCaret(e,t,i,s),t.lineTo(a+u-p,l),t.quadraticCurveTo(a+u,l,a+u,l+p),o==="center"&&r==="right"&&this.drawCaret(e,t,i,s),t.lineTo(a+u,l+d-_),t.quadraticCurveTo(a+u,l+d,a+u-_,l+d),o==="bottom"&&this.drawCaret(e,t,i,s),t.lineTo(a+m,l+d),t.quadraticCurveTo(a,l+d,a,l+d-m),o==="center"&&r==="left"&&this.drawCaret(e,t,i,s),t.lineTo(a,l+f),t.quadraticCurveTo(a,l,a+f,l),t.closePath(),t.fill(),s.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,i=this.$animations,s=i&&i.x,r=i&&i.y;if(s||r){const o=Ha[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Ky(this,e),l=Object.assign({},o,this._size),u=qy(t,e,l),d=Gy(e,l,u,t);(s._to!==d.x||r._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(t);const s={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=gn(t.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&a&&(e.save(),e.globalAlpha=i,this.drawBackground(r,e,s,t),Y2(e,t.textDirection),r.y+=o.top,this.drawTitle(r,e,t),this.drawBody(r,e,t),this.drawFooter(r,e,t),X2(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const i=this._active,s=e.map(({datasetIndex:a,index:l})=>{const u=this.chart.getDatasetMeta(a);if(!u)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:u.data[l],index:l}}),r=!ju(i,s),o=this._positionChanged(s,t);(r||o)&&(this._active=s,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,r=this._active||[],o=this._getActiveElements(e,r,t,i),a=this._positionChanged(o,e),l=t||!ju(o,r)||a;return l&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),l}_getActiveElements(e,t,i,s){const r=this.options;if(e.type==="mouseout")return[];if(!s)return t.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,r.mode,r,i);return r.reverse&&o.reverse(),o}_positionChanged(e,t){const{caretX:i,caretY:s,options:r}=this,o=Ha[r.position].call(this,e,t);return o!==!1&&(i!==o.x||s!==o.y)}}ye(bp,"positioners",Ha);var vO={id:"tooltip",_element:bp,positioners:Ha,afterInit(n,e,t){t&&(n.tooltip=new bp({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",$e(ce({},t),{cancelable:!0}))===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Sx},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},bO=Object.freeze({__proto__:null,Colors:LA,Decimation:jA,Filler:nO,Legend:lO,SubTitle:dO,Title:uO,Tooltip:vO});const xO=(n,e,t,i)=>(typeof e=="string"?(t=n.push(e)-1,i.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function wO(n,e,t,i){const s=n.indexOf(e);if(s===-1)return xO(n,e,t,i);const r=n.lastIndexOf(e);return s!==r?t:s}const kO=(n,e)=>n===null?null:Gt(Math.round(n),0,e);function Xy(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class xp extends eo{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const i=this.getLabels();for(const{index:s,label:r}of t)i[s]===r&&i.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Je(e))return null;const i=this.getLabels();return t=isFinite(t)&&i[t]===e?t:wO(i,e,We(t,e),this._addedLabels),kO(t,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),t||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const e=this.min,t=this.max,i=this.options.offset,s=[];let r=this.getLabels();r=e===0&&t===r.length-1?r:r.slice(e,t+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=t;o++)s.push({value:o});return s}getLabelForValue(e){return Xy.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}ye(xp,"id","category"),ye(xp,"defaults",{ticks:{callback:Xy}});function SO(n,e){const t=[],{bounds:s,step:r,min:o,max:a,precision:l,count:u,maxTicks:d,maxDigits:f,includeBounds:p}=n,m=r||1,_=d-1,{min:b,max:k}=e,M=!Je(o),E=!Je(a),A=!Je(u),g=(k-b)/(f+1);let w=K1((k-b)/_/m)*m,v,S,T,O;if(w<1e-14&&!M&&!E)return[{value:b},{value:k}];O=Math.ceil(k/w)-Math.floor(b/w),O>_&&(w=K1(O*w/_/m)*m),Je(l)||(v=Math.pow(10,l),w=Math.ceil(w*v)/v),s==="ticks"?(S=Math.floor(b/w)*w,T=Math.ceil(k/w)*w):(S=b,T=k),M&&E&&r&&y5((a-o)/r,w/1e3)?(O=Math.round(Math.min((a-o)/w,d)),w=(a-o)/O,S=o,T=a):A?(S=M?o:S,T=E?a:T,O=u-1,w=(T-S)/O):(O=(T-S)/w,il(O,Math.round(O),w/1e3)?O=Math.round(O):O=Math.ceil(O));const I=Math.max(q1(w),q1(S));v=Math.pow(10,Je(l)?I:l),S=Math.round(S*v)/v,T=Math.round(T*v)/v;let N=0;for(M&&(p&&S!==o?(t.push({value:o}),S<o&&N++,il(Math.round((S+N*w)*v)/v,o,Qy(o,g,n))&&N++):S<o&&N++);N<O;++N){const B=Math.round((S+N*w)*v)/v;if(E&&B>a)break;t.push({value:B})}return E&&p&&T!==a?t.length&&il(t[t.length-1].value,a,Qy(a,g,n))?t[t.length-1].value=a:t.push({value:a}):(!E||T===a)&&t.push({value:T}),t}function Qy(n,e,{horizontal:t,minRotation:i}){const s=ui(i),r=(t?Math.sin(s):Math.cos(s))||.001,o=.75*e*(""+n).length;return Math.min(e/r,o)}class Vu extends eo{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Je(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:s,max:r}=this;const o=l=>s=t?s:l,a=l=>r=i?r:l;if(e){const l=Bi(s),u=Bi(r);l<0&&u<0?a(0):l>0&&u>0&&o(0)}if(s===r){let l=r===0?1:Math.abs(r*.05);a(r+l),e||o(s-l)}this.min=s,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:i}=e,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),t=t||11),t&&(s=Math.min(t,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},r=this._range||this,o=SO(s,r);return e.bounds==="ticks"&&D2(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const s=(i-t)/Math.max(e.length-1,1)/2;t-=s,i+=s}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return Gl(e,this.chart.options.locale,this.options.ticks.format)}}class wp extends Vu{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Ot(e)?e:0,this.max=Ot(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,i=ui(this.options.ticks.minRotation),s=(e?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,r.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}ye(wp,"id","linear"),ye(wp,"defaults",{ticks:{callback:Id.formatters.numeric}});const Al=n=>Math.floor(Ns(n)),br=(n,e)=>Math.pow(10,Al(n)+e);function e_(n){return n/Math.pow(10,Al(n))===1}function t_(n,e,t){const i=Math.pow(10,t),s=Math.floor(n/i);return Math.ceil(e/i)-s}function MO(n,e){const t=e-n;let i=Al(t);for(;t_(n,e,i)>10;)i++;for(;t_(n,e,i)<10;)i--;return Math.min(i,Al(n))}function CO(n,{min:e,max:t}){e=jn(n.min,e);const i=[],s=Al(e);let r=MO(e,t),o=r<0?Math.pow(10,Math.abs(r)):1;const a=Math.pow(10,r),l=s>r?Math.pow(10,s):0,u=Math.round((e-l)*o)/o,d=Math.floor((e-l)/a/10)*a*10;let f=Math.floor((u-d)/Math.pow(10,r)),p=jn(n.min,Math.round((l+d+f*Math.pow(10,r))*o)/o);for(;p<t;)i.push({value:p,major:e_(p),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(r++,f=2,o=r>=0?1:o),p=Math.round((l+d+f*Math.pow(10,r))*o)/o;const m=jn(n.max,p);return i.push({value:m,major:e_(m),significand:f}),i}class kp extends eo{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const i=Vu.prototype.parse.apply(this,[e,t]);if(i===0){this._zero=!0;return}return Ot(i)&&i>0?i:null}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Ot(e)?Math.max(0,e):null,this.max=Ot(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Ot(this._userMin)&&(this.min=e===br(this.min,0)?br(this.min,-1):br(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let i=this.min,s=this.max;const r=a=>i=e?i:a,o=a=>s=t?s:a;i===s&&(i<=0?(r(1),o(10)):(r(br(i,-1)),o(br(s,1)))),i<=0&&r(br(s,-1)),s<=0&&o(br(i,1)),this.min=i,this.max=s}buildTicks(){const e=this.options,t={min:this._userMin,max:this._userMax},i=CO(t,this);return e.bounds==="ticks"&&D2(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":Gl(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Ns(e),this._valueRange=Ns(this.max)-Ns(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Ns(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}ye(kp,"id","logarithmic"),ye(kp,"defaults",{ticks:{callback:Id.formatters.logarithmic,major:{enabled:!0}}});function Sp(n){const e=n.ticks;if(e.display&&n.display){const t=gn(e.backdropPadding);return We(e.font&&e.font.size,kt.font.size)+t.height}return 0}function TO(n,e,t){return t=wt(t)?t:[t],{w:D5(n,e.string,t),h:t.length*e.lineHeight}}function n_(n,e,t,i,s){return n===i||n===s?{start:e-t/2,end:e+t/2}:n<i||n>s?{start:e-t,end:e}:{start:e,end:e+t}}function PO(n){const e={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},t=Object.assign({},e),i=[],s=[],r=n._pointLabels.length,o=n.options.pointLabels,a=o.centerPointLabels?vt/r:0;for(let l=0;l<r;l++){const u=o.setContext(n.getPointLabelContext(l));s[l]=u.padding;const d=n.getPointPosition(l,n.drawingArea+s[l],a),f=Vt(u.font),p=TO(n.ctx,f,n._pointLabels[l]);i[l]=p;const m=Nn(n.getIndexAngle(l)+a),_=Math.round(Fm(m)),b=n_(_,d.x,p.w,0,180),k=n_(_,d.y,p.h,90,270);EO(t,e,m,b,k)}n.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),n._pointLabelItems=LO(n,i,s)}function EO(n,e,t,i,s){const r=Math.abs(Math.sin(t)),o=Math.abs(Math.cos(t));let a=0,l=0;i.start<e.l?(a=(e.l-i.start)/r,n.l=Math.min(n.l,e.l-a)):i.end>e.r&&(a=(i.end-e.r)/r,n.r=Math.max(n.r,e.r+a)),s.start<e.t?(l=(e.t-s.start)/o,n.t=Math.min(n.t,e.t-l)):s.end>e.b&&(l=(s.end-e.b)/o,n.b=Math.max(n.b,e.b+l))}function AO(n,e,t){const i=n.drawingArea,{extra:s,additionalAngle:r,padding:o,size:a}=t,l=n.getPointPosition(e,i+s+o,r),u=Math.round(Fm(Nn(l.angle+Dt))),d=IO(l.y,a.h,u),f=RO(u),p=DO(l.x,a.w,f);return{visible:!0,x:l.x,y:d,textAlign:f,left:p,top:d,right:p+a.w,bottom:d+a.h}}function OO(n,e){if(!e)return!0;const{left:t,top:i,right:s,bottom:r}=n;return!(hs({x:t,y:i},e)||hs({x:t,y:r},e)||hs({x:s,y:i},e)||hs({x:s,y:r},e))}function LO(n,e,t){const i=[],s=n._pointLabels.length,r=n.options,{centerPointLabels:o,display:a}=r.pointLabels,l={extra:Sp(r)/2,additionalAngle:o?vt/s:0};let u;for(let d=0;d<s;d++){l.padding=t[d],l.size=e[d];const f=AO(n,d,l);i.push(f),a==="auto"&&(f.visible=OO(f,u),f.visible&&(u=f))}return i}function RO(n){return n===0||n===180?"center":n<180?"left":"right"}function DO(n,e,t){return t==="right"?n-=e:t==="center"&&(n-=e/2),n}function IO(n,e,t){return t===90||t===270?n-=e/2:(t>270||t<90)&&(n-=e),n}function jO(n,e,t){const{left:i,top:s,right:r,bottom:o}=t,{backdropColor:a}=e;if(!Je(a)){const l=Dr(e.borderRadius),u=gn(e.backdropPadding);n.fillStyle=a;const d=i-u.left,f=s-u.top,p=r-i+u.width,m=o-s+u.height;Object.values(l).some(_=>_!==0)?(n.beginPath(),Pl(n,{x:d,y:f,w:p,h:m,radius:l}),n.fill()):n.fillRect(d,f,p,m)}}function NO(n,e){const{ctx:t,options:{pointLabels:i}}=n;for(let s=e-1;s>=0;s--){const r=n._pointLabelItems[s];if(!r.visible)continue;const o=i.setContext(n.getPointLabelContext(s));jO(t,o,r);const a=Vt(o.font),{x:l,y:u,textAlign:d}=r;Ur(t,n._pointLabels[s],l,u+a.lineHeight/2,a,{color:o.color,textAlign:d,textBaseline:"middle"})}}function Mx(n,e,t,i){const{ctx:s}=n;if(t)s.arc(n.xCenter,n.yCenter,e,0,_t);else{let r=n.getPointPosition(0,e);s.moveTo(r.x,r.y);for(let o=1;o<i;o++)r=n.getPointPosition(o,e),s.lineTo(r.x,r.y)}}function zO(n,e,t,i,s){const r=n.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!i||!a||!l||t<0||(r.save(),r.strokeStyle=a,r.lineWidth=l,r.setLineDash(s.dash||[]),r.lineDashOffset=s.dashOffset,r.beginPath(),Mx(n,t,o,i),r.closePath(),r.stroke(),r.restore())}function BO(n,e,t){return sr(n,{label:t,index:e,type:"pointLabel"})}class Va extends Vu{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=gn(Sp(this.options)/2),t=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(t,i)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=Ot(e)&&!isNaN(e)?e:0,this.max=Ot(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Sp(this.options))}generateTickLabels(e){Vu.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,i)=>{const s=gt(this.options.pointLabels.callback,[t,i],this);return s||s===0?s:""}).filter((t,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?PO(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,i,s){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,i,s))}getIndexAngle(e){const t=_t/(this._pointLabels.length||1),i=this.options.startAngle||0;return Nn(e*t+ui(i))}getDistanceFromCenterForValue(e){if(Je(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(Je(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const i=t[e];return BO(this.getContext(),e,i)}}getPointPosition(e,t,i=0){const s=this.getIndexAngle(e)-Dt+i;return{x:Math.cos(s)*t+this.xCenter,y:Math.sin(s)*t+this.yCenter,angle:s}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:i,right:s,bottom:r}=this._pointLabelItems[e];return{left:t,top:i,right:s,bottom:r}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),Mx(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:i,grid:s,border:r}=t,o=this._pointLabels.length;let a,l,u;if(t.pointLabels.display&&NO(this,o),s.display&&this.ticks.forEach((d,f)=>{if(f!==0||f===0&&this.min<0){l=this.getDistanceFromCenterForValue(d.value);const p=this.getContext(f),m=s.setContext(p),_=r.setContext(p);zO(this,m,l,o,_)}}),i.display){for(e.save(),a=o-1;a>=0;a--){const d=i.setContext(this.getPointLabelContext(a)),{color:f,lineWidth:p}=d;!p||!f||(e.lineWidth=p,e.strokeStyle=f,e.setLineDash(d.borderDash),e.lineDashOffset=d.borderDashOffset,l=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),u=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(u.x,u.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,i=t.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let r,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(s),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!t.reverse)return;const u=i.setContext(this.getContext(l)),d=Vt(u.font);if(r=this.getDistanceFromCenterForValue(this.ticks[l].value),u.showLabelBackdrop){e.font=d.string,o=e.measureText(a.label).width,e.fillStyle=u.backdropColor;const f=gn(u.backdropPadding);e.fillRect(-o/2-f.left,-r-d.size/2-f.top,o+f.width,d.size+f.height)}Ur(e,a.label,0,-r,d,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),e.restore()}drawTitle(){}}ye(Va,"id","radialLinear"),ye(Va,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Id.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),ye(Va,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),ye(Va,"descriptors",{angleLines:{_fallback:"grid"}});const Bd={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ln=Object.keys(Bd);function i_(n,e){return n-e}function s_(n,e){if(Je(e))return null;const t=n._adapter,{parser:i,round:s,isoWeekday:r}=n._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),Ot(o)||(o=typeof i=="string"?t.parse(o,i):t.parse(o)),o===null?null:(s&&(o=s==="week"&&(Ko(r)||r===!0)?t.startOf(o,"isoWeek",r):t.startOf(o,s)),+o)}function r_(n,e,t,i){const s=Ln.length;for(let r=Ln.indexOf(n);r<s-1;++r){const o=Bd[Ln[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((t-e)/(a*o.size))<=i)return Ln[r]}return Ln[s-1]}function FO(n,e,t,i,s){for(let r=Ln.length-1;r>=Ln.indexOf(t);r--){const o=Ln[r];if(Bd[o].common&&n._adapter.diff(s,i,o)>=e-1)return o}return Ln[t?Ln.indexOf(t):0]}function $O(n){for(let e=Ln.indexOf(n)+1,t=Ln.length;e<t;++e)if(Bd[Ln[e]].common)return Ln[e]}function o_(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:i,hi:s}=$m(t,e),r=t[i]>=e?t[i]:t[s];n[r]=!0}}function HO(n,e,t,i){const s=n._adapter,r=+s.startOf(e[0].value,i),o=e[e.length-1].value;let a,l;for(a=r;a<=o;a=+s.add(a,1,i))l=t[a],l>=0&&(e[l].major=!0);return e}function a_(n,e,t){const i=[],s={},r=e.length;let o,a;for(o=0;o<r;++o)a=e[o],s[a]=o,i.push({value:a,major:!1});return r===0||!t?i:HO(n,i,s,t)}class Ol extends eo{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const i=e.time||(e.time={}),s=this._adapter=new YP._date(e.adapters.date);s.init(t),nl(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:s_(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,i=e.time.unit||"day";let{min:s,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function l(u){!o&&!isNaN(u.min)&&(s=Math.min(s,u.min)),!a&&!isNaN(u.max)&&(r=Math.max(r,u.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=Ot(s)&&!isNaN(s)?s:+t.startOf(Date.now(),i),r=Ot(r)&&!isNaN(r)?r:+t.endOf(Date.now(),i)+1,this.min=Math.min(s,r-1),this.max=Math.max(s+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],i=e[e.length-1]),{min:t,max:i}}buildTicks(){const e=this.options,t=e.time,i=e.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const r=this.min,o=this.max,a=x5(s,r,o);return this._unit=t.unit||(i.autoSkip?r_(t.minUnit,this.min,this.max,this._getLabelCapacity(r)):FO(this,a.length,t.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:$O(this._unit),this.initOffsets(s),e.reverse&&a.reverse(),a_(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,i=0,s,r;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?t=1-s:t=(this.getDecimalForValue(e[1])-s)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?i=r:i=(r-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;t=Gt(t,0,o),i=Gt(i,0,o),this._offsets={start:t,end:i,factor:1/(t+1+i)}}_generate(){const e=this._adapter,t=this.min,i=this.max,s=this.options,r=s.time,o=r.unit||r_(r.minUnit,t,i,this._getLabelCapacity(t)),a=We(s.ticks.stepSize,1),l=o==="week"?r.isoWeekday:!1,u=Ko(l)||l===!0,d={};let f=t,p,m;if(u&&(f=+e.startOf(f,"isoWeek",l)),f=+e.startOf(f,u?"day":o),e.diff(i,t,o)>1e5*a)throw new Error(t+" and "+i+" are too far apart with stepSize of "+a+" "+o);const _=s.ticks.source==="data"&&this.getDataTimestamps();for(p=f,m=0;p<i;p=+e.add(p,a,o),m++)o_(d,p,_);return(p===i||s.bounds==="ticks"||m===1)&&o_(d,p,_),Object.keys(d).sort(i_).map(b=>+b)}getLabelForValue(e){const t=this._adapter,i=this.options.time;return i.tooltipFormat?t.format(e,i.tooltipFormat):t.format(e,i.displayFormats.datetime)}format(e,t){const s=this.options.time.displayFormats,r=this._unit,o=t||s[r];return this._adapter.format(e,o)}_tickFormatFunction(e,t,i,s){const r=this.options,o=r.ticks.callback;if(o)return gt(o,[e,t,i],this);const a=r.time.displayFormats,l=this._unit,u=this._majorUnit,d=l&&a[l],f=u&&a[u],p=i[t],m=u&&f&&p&&p.major;return this._adapter.format(e,s||(m?f:d))}generateTickLabels(e){let t,i,s;for(t=0,i=e.length;t<i;++t)s=e[t],s.label=this._tickFormatFunction(s.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,i=this.ctx.measureText(e).width,s=ui(this.isHorizontal()?t.maxRotation:t.minRotation),r=Math.cos(s),o=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:i*r+a*o,h:i*o+a*r}}_getLabelCapacity(e){const t=this.options.time,i=t.displayFormats,s=i[t.unit]||i.millisecond,r=this._tickFormatFunction(e,0,a_(this,[e],this._majorUnit),s),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],t,i;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(t=0,i=s.length;t<i;++t)e=e.concat(s[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,i;if(e.length)return e;const s=this.getLabels();for(t=0,i=s.length;t<i;++t)e.push(s_(this,s[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return N2(e.sort(i_))}}ye(Ol,"id","time"),ye(Ol,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Bc(n,e,t){let i=0,s=n.length-1,r,o,a,l;t?(e>=n[i].pos&&e<=n[s].pos&&({lo:i,hi:s}=ds(n,"pos",e)),{pos:r,time:a}=n[i],{pos:o,time:l}=n[s]):(e>=n[i].time&&e<=n[s].time&&({lo:i,hi:s}=ds(n,"time",e)),{time:r,pos:a}=n[i],{time:o,pos:l}=n[s]);const u=o-r;return u?a+(l-a)*(e-r)/u:a}class Mp extends Ol{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Bc(t,this.min),this._tableRange=Bc(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,s=[],r=[];let o,a,l,u,d;for(o=0,a=e.length;o<a;++o)u=e[o],u>=t&&u<=i&&s.push(u);if(s.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(o=0,a=s.length;o<a;++o)d=s[o+1],l=s[o-1],u=s[o],Math.round((d+l)/2)!==u&&r.push({time:u,pos:o/(a-1)});return r}_generate(){const e=this.min,t=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(t)||i.length===1)&&i.push(t),i.sort((s,r)=>s-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return t.length&&i.length?e=this.normalize(t.concat(i)):e=t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Bc(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return Bc(this._table,i*this._tableRange+this._minPos,!0)}}ye(Mp,"id","timeseries"),ye(Mp,"defaults",Ol.defaults);var VO=Object.freeze({__proto__:null,CategoryScale:xp,LinearScale:wp,LogarithmicScale:kp,RadialLinearScale:Va,TimeScale:Ol,TimeSeriesScale:Mp});const WO=[JP,MA,bO,VO];rs.register(...WO);const UO={class:"chart-container relative w-full h-full"},ZO={__name:"IssueStatusChart",props:{statusCounts:{type:Object,required:!0,default:()=>({})}},setup(n){const e=n,t=pe(null);let i=null,s=null;const r=pe(""),o=pe([]),a=pe({}),l=["#1E40AF","#2563EB","#3B82F6","#60A5FA","#38BDF8","#0EA5E9","#06B6D4","#14B8A6","#10B981","#22C55E","#FACC15","#FB923C","#F97316","#EF4444","#EC4899","#A855F7","#7C3AED","#64748B","#94A3B8"],u=()=>Ke(this,null,function*(){try{const b=yield(yield fetch("/api/method/frappe.desk.form.load.getdoctype",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({doctype:"Issue"})})).json();if(b.message&&b.message.docs&&b.message.docs[0]){const M=b.message.docs[0].fields.find(E=>E.fieldname==="status");if(M&&M.options){const E=M.options.split(`
`).filter(A=>A.trim());o.value=E,console.log("Available status options:",E),d(E)}}}catch(_){console.error("Error fetching status options:",_),o.value=["Open","Replied","Closed","Resolved","On Hold"],d(o.value)}}),d=_=>{const b={Open:"#FF9F43",Replied:"#7367F0",Closed:"#28C76F",Resolved:"#00CFE8","On Hold":"#EA5455"},k={};_.forEach((M,E)=>{if(b[M])k[M]=b[M];else{const A=E%l.length;k[M]=l[A]}}),a.value=k,console.log("Status colors:",a.value)},f=_=>a.value[_]||"#9CA3AF",p=()=>Ke(this,null,function*(){if(i&&i.destroy(),!!t.value)try{if(!r.value){const T=yield(yield fetch("/api/method/frappe.auth.get_logged_user")).json();r.value=T.message}o.value.length===0&&(yield u());const b=yield(yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({doctype:"Issue",fields:["status"],filters:{raised_by:r.value},limit_page_length:1e3,limit_start:0})})).json(),k={};o.value.forEach(S=>{k[S]=0}),b.message&&b.message.forEach(S=>{if(S.status){if(!k.hasOwnProperty(S.status)&&(k[S.status]=0,!o.value.includes(S.status)&&(o.value.push(S.status),!a.value[S.status]))){const O=(o.value.length-1)%l.length;a.value[S.status]=l[O]}k[S.status]++}});const M={};Object.keys(k).forEach(S=>{k[S]>0&&(M[S]=k[S])});const E=Object.keys(M),A=Object.values(M),g=E.map(S=>f(S)),w=A.reduce((S,T)=>S+T,0),v=t.value.getContext("2d");i=new rs(v,{type:"doughnut",data:{labels:E,datasets:[{data:A,backgroundColor:g,borderWidth:2,borderColor:"#ffffff",hoverOffset:6,hoverBorderWidth:3,hoverBorderColor:"#ffffff"}]},options:{responsive:!0,maintainAspectRatio:!1,cutout:"70%",layout:{padding:{top:20,bottom:20,left:20,right:20}},plugins:{legend:{position:window.innerWidth<768?"bottom":"right",labels:{usePointStyle:!0,padding:20,font:{size:12,weight:"bold"},color:"#4B5563"}},tooltip:{backgroundColor:"rgba(255, 255, 255, 0.9)",titleColor:"#111827",bodyColor:"#4B5563",borderColor:"#E5E7EB",borderWidth:1,cornerRadius:8,boxPadding:6,usePointStyle:!0,callbacks:{label:function(S){const T=S.label||"",O=S.raw||0,I=Math.round(O/w*100);return`${T}: ${O} (${I}%)`}}}},animation:{animateScale:!0,animateRotate:!0,duration:1e3,easing:"easeOutQuart"}},plugins:[{id:"centerText",beforeDraw:function(S){const T=S.width,O=S.height,I=S.ctx;I.restore();const N=T<400?12:14,B=T<400?24:30;I.font=`${N}px 'Inter', sans-serif`,I.fillStyle="#6B7280",I.textAlign="center",I.textBaseline="middle",I.fillText("My Issues",T/2,O/2-20),I.font=`bold ${B}px 'Inter', sans-serif`,I.fillStyle="#111827",I.textAlign="center",I.textBaseline="middle",I.fillText(w.toLocaleString(),T/2,O/2+10),I.font=`${N}px 'Inter', sans-serif`,I.fillStyle="#6B7280",I.textAlign="center",I.textBaseline="middle",I.fillText("Total",T/2,O/2+35),I.save()}}]})}catch(_){console.error("Error creating chart:",_)}}),m=()=>{i&&(i.options.plugins.legend.position=window.innerWidth<768?"bottom":"right",i.update())};return ii(()=>Ke(this,null,function*(){yield u(),p(),s=new ResizeObserver(()=>{i&&(i.resize(),m())}),t.value&&s.observe(t.value.parentElement),window.addEventListener("resize",m)})),Qr(()=>{s&&s.disconnect(),window.removeEventListener("resize",m),i&&i.destroy()}),fi(()=>e.statusCounts,p,{deep:!0}),(_,b)=>(K(),Y("div",UO,[P("canvas",{ref_key:"chartRef",ref:t},null,512)]))}},KO={class:"bg-gray-50 min-h-screen pb-20"},qO={class:"max-w-8xl mx-auto p-4"},GO={class:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl shadow-lg p-6 mb-6 text-white relative overflow-hidden"},JO={class:"flex items-center justify-between mb-6 relative z-10"},YO={class:"text-2xl md:text-3xl font-bold text-white"},XO={class:"text-sm md:text-base text-blue-100 opacity-90 mt-1"},QO={class:"h-16 w-16 rounded-full overflow-hidden border-2 border-white shadow-md"},e4=["src","alt"],t4={key:1,class:"h-full w-full flex items-center justify-center bg-blue-400 text-white font-bold text-xl"},n4={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6"},i4={class:"bg-white rounded-xl shadow-md p-5 transform transition-all duration-300 hover:shadow-lg"},s4={class:"grid grid-cols-2 gap-3"},r4={class:"bg-white rounded-xl shadow-sm border overflow-hidden"},o4={class:"p-4"},a4={key:0,class:"fixed inset-0 bg-black bg-opacity-70 backdrop-blur-sm z-50 flex items-center justify-center p-4"},l4={class:"bg-white rounded-xl w-full max-w-3xl max-h-[90vh] overflow-auto shadow-2xl"},c4={class:"p-4 border-b flex justify-between items-center"},u4={class:"p-6"},d4={class:"h-96"},h4={__name:"Home",setup(n){const e=pe("User"),t=pe("U"),i=pe(""),s=pe(""),r=pe(!1),o=pe({openIssues:0,completedTasks:0,activeProjects:3,hoursLogged:24}),a=()=>{const p=new Date,m={weekday:"long",year:"numeric",month:"long",day:"numeric"};s.value=p.toLocaleDateString("en-US",m)},l=()=>Ke(this,null,function*(){try{try{const b=yield(yield fetch("/api/method/oms.api.get_current_user_info")).json();if(b.message){e.value=b.message.full_name||b.message.name||"User",b.message.user_image&&(i.value=d(b.message.user_image)),t.value=u(b.message.full_name||b.message.name);return}}catch(_){console.log("Custom API not available, trying standard method")}const m=yield(yield fetch("/api/method/frappe.auth.get_logged_user")).json();if(m.message){const b=yield(yield fetch("/api/method/frappe.client.get",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({doctype:"User",name:m.message})})).json();b.message?(e.value=b.message.full_name||b.message.first_name||m.message,b.message.user_image&&(i.value=d(b.message.user_image)),t.value=u(b.message.full_name||b.message.first_name||m.message)):(e.value=m.message,t.value=u(m.message))}}catch(p){console.error("Error fetching user info:",p),e.value="User",t.value="U"}}),u=p=>p?p.split(" ").map(m=>m[0]).join("").toUpperCase().slice(0,2):"U",d=p=>p?p.startsWith("/private/files")?`/api/method/frappe.utils.file_manager.download_file?file_url=${p}`:p:"",f=()=>Ke(this,null,function*(){try{let p="";try{p=(yield(yield fetch("/api/method/frappe.auth.get_logged_user")).json()).message}catch(b){console.error("Error getting current user:",b)}if(!p)return;const _=yield(yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({doctype:"Issue",filters:{status:"Open",raised_by:p},limit:0,fields:["count(name) as count"]})})).json();_.message&&_.message.length>0&&(o.value.openIssues=_.message[0].count||0);try{const k=yield(yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({doctype:"Task",filters:{status:"Completed"},limit:0,fields:["name","_assign"]})})).json();if(k.message&&k.message.length>0){const M=k.message.filter(E=>{if(!E._assign)return!1;try{return JSON.parse(E._assign).includes(p)}catch(A){return!1}});o.value.completedTasks=M.length}}catch(b){console.error("Error with approach 1:",b)}if(o.value.completedTasks===0)try{const k=yield(yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({doctype:"Task",filters:{status:"Completed",owner:p},limit:0,fields:["count(name) as count"]})})).json();k.message&&k.message.length>0&&(o.value.completedTasks=k.message[0].count||0)}catch(b){console.error("Error with approach 2:",b)}try{const k=yield(yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({doctype:"Project",filters:{status:"Open"},limit:0,fields:["count(name) as count"]})})).json();k.message&&k.message.length>0&&(o.value.activeProjects=k.message[0].count||3)}catch(b){console.error("Error fetching projects:",b)}try{const k=yield(yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({doctype:"Timesheet",filters:{owner:p},limit:0,fields:["sum(total_hours) as total_hours"]})})).json();k.message&&k.message.length>0&&(o.value.hoursLogged=Math.round(k.message[0].total_hours||0))}catch(b){console.error("Error fetching timesheet data:",b)}}catch(p){console.error("Error fetching stats:",p)}});return ii(()=>Ke(this,null,function*(){a(),yield l(),yield f()})),(p,m)=>(K(),Y("div",KO,[P("div",qO,[P("div",GO,[m[5]||(m[5]=P("div",{class:"absolute -right-16 -top-16 w-48 h-48 rounded-full bg-white opacity-10"},null,-1)),m[6]||(m[6]=P("div",{class:"absolute -left-8 bottom-0 w-32 h-32 rounded-full bg-white opacity-5"},null,-1)),P("div",JO,[P("div",null,[P("h1",YO,"Welcome back, "+xe(e.value),1),P("p",XO,xe(s.value),1)]),P("div",QO,[i.value?(K(),Y("img",{key:0,src:i.value,alt:e.value,class:"h-full w-full object-cover"},null,8,e4)):(K(),Y("div",t4,xe(t.value),1))])]),m[7]||(m[7]=P("div",{class:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-3"},null,-1))]),P("div",n4,[P("div",i4,[m[12]||(m[12]=P("h2",{class:"text-lg font-semibold text-gray-800 mb-4 flex items-center"},[P("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})]),Ht(" Quick Actions ")],-1)),P("div",s4,[P("button",{onClick:m[0]||(m[0]=_=>p.$router.push("/task/new")),class:"flex flex-col items-center justify-center p-4 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors duration-200 group"},m[8]||(m[8]=[P("div",{class:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center mb-2 group-hover:bg-blue-200 transition-colors duration-200"},[P("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})])],-1),P("span",{class:"text-sm font-medium text-gray-700"},"New Task",-1)])),P("button",{onClick:m[1]||(m[1]=_=>p.$router.push("/issue/new")),class:"flex flex-col items-center justify-center p-4 bg-purple-50 rounded-lg hover:bg-purple-100 transition-colors duration-200 group"},m[9]||(m[9]=[P("div",{class:"w-10 h-10 rounded-full bg-purple-100 flex items-center justify-center mb-2 group-hover:bg-purple-200 transition-colors duration-200"},[P("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])],-1),P("span",{class:"text-sm font-medium text-gray-700"},"Report Issue",-1)])),P("button",{onClick:m[2]||(m[2]=_=>p.$router.push("/timesheet/new")),class:"flex flex-col items-center justify-center p-4 bg-green-50 rounded-lg hover:bg-green-100 transition-colors duration-200 group"},m[10]||(m[10]=[P("div",{class:"w-10 h-10 rounded-full bg-green-100 flex items-center justify-center mb-2 group-hover:bg-green-200 transition-colors duration-200"},[P("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1),P("span",{class:"text-sm font-medium text-gray-700"},"Log Time",-1)])),P("button",{onClick:m[3]||(m[3]=_=>p.$router.push("/profile")),class:"flex flex-col items-center justify-center p-4 bg-amber-50 rounded-lg hover:bg-amber-100 transition-colors duration-200 group"},m[11]||(m[11]=[P("div",{class:"w-10 h-10 rounded-full bg-amber-100 flex items-center justify-center mb-2 group-hover:bg-amber-200 transition-colors duration-200"},[P("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-amber-600",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5.121 17.804A9 9 0 0112 15c2.21 0 4.209.805 5.879 2.137M15 11a3 3 0 11-6 0 3 3 0 016 0zM12 3a9 9 0 100 18 9 9 0 000-18z"})])],-1),P("span",{class:"text-sm font-medium text-gray-700"},"Profile",-1)]))])]),P("div",r4,[m[13]||(m[13]=Io('<div class="p-4 border-b bg-gradient-to-r from-blue-50 to-indigo-50" data-v-ba5a0397><h2 class="text-lg font-semibold text-gray-900 flex items-center" data-v-ba5a0397><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-blue-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-ba5a0397><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" data-v-ba5a0397></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" data-v-ba5a0397></path></svg> My Location </h2></div>',1)),P("div",o4,[Pe(NT,{"auto-track":!0,"tracking-interval":3e5})])])]),Pe(lT)]),r.value?(K(),Y("div",a4,[P("div",l4,[P("div",c4,[m[15]||(m[15]=P("h3",{class:"text-lg font-medium text-gray-800"},"My Issue Status",-1)),P("button",{onClick:m[4]||(m[4]=_=>r.value=!1),class:"text-gray-500 hover:text-gray-700 transition-colors"},m[14]||(m[14]=[P("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),P("div",u4,[P("div",d4,[Pe(ZO,{statusCounts:{},showChart:!0})])])])])):Ae("",!0)]))}},Cx=Vn(h4,[["__scopeId","data-v-ba5a0397"]]),of=Object.freeze(Object.defineProperty({__proto__:null,default:Cx},Symbol.toStringTag,{value:"Module"})),f4="/assets/oms/frontend/icon.png";function p4(n,e){return K(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"})])}function m4(n,e){return K(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"})])}function g4(n,e){return K(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function y4(n,e){return K(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})])}function af(n,e){return K(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})])}function _4(n,e){return K(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"})])}function v4(n,e){return K(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})])}function b4(n,e){return K(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"})])}function x4(n,e){return K(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),P("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})])}function l_(n,e){return K(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"})])}function w4(n,e){return K(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"})])}function Tx(n,e){return K(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})])}function k4(n,e){return K(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18 18 6M6 6l12 12"})])}const S4={class:"min-h-screen bg-gradient-to-b from-blue-50 to-white flex flex-col justify-center py-12 sm:px-6 lg:px-8"},M4={class:"mt-8 sm:mx-auto sm:w-full sm:max-w-md md:max-w-lg p-4 sm:p-0"},C4={class:"bg-white py-8 px-4 shadow-lg sm:rounded-xl sm:px-10 border border-gray-100"},T4={key:0,class:"mb-4 bg-red-50 border-l-4 border-red-500 p-4 rounded-md"},P4={class:"flex"},E4={class:"flex-shrink-0"},A4={class:"ml-3"},O4={class:"text-sm text-red-700"},L4={class:"mt-1 relative rounded-md shadow-sm"},R4={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},D4={class:"mt-1 relative rounded-md shadow-sm"},I4={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},j4=["type"],N4={class:"absolute inset-y-0 right-0 pr-3 flex items-center"},z4={class:"text-right mt-2"},B4=["disabled"],F4={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},$4={class:"mt-8 text-center text-xs text-gray-500"},H4={key:0,class:"fixed z-10 inset-0 overflow-y-auto"},V4={class:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},W4={class:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-md sm:w-full sm:p-6"},U4={class:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-blue-100"},Z4={class:"mt-3 text-center sm:mt-5"},K4={class:"mt-2"},q4={key:0,class:"text-sm text-gray-500"},G4={key:0},J4={class:"mt-5"},Y4={key:0,class:"mt-2 text-sm text-red-600"},X4={key:1,class:"mt-2 text-sm text-yellow-600"},Q4={key:1,class:"mt-5 text-center"},eL={class:"mt-3 text-sm text-gray-700"},tL={class:"mt-5 sm:mt-6 sm:grid sm:grid-cols-1 sm:gap-3"},nL=["disabled"],iL={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},Px={__name:"Login",setup(n){const e=Kl(),t=pe(""),i=pe(""),s=pe(!1),r=pe(!1),o=pe(""),a=pe(!1),l=pe(""),u=pe(!1),d=pe(""),f=pe(""),p=pe(!1),m=()=>Ke(this,null,function*(){s.value=!0,o.value="";try{if(!t.value||!i.value)throw new Error("Please enter both user ID and password");const k=yield fetch("/api/method/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({usr:t.value,pwd:i.value})}),M=yield k.json();if(k.ok&&M.message==="Logged In")e.push("/");else throw new Error(M.message||"Invalid username or password")}catch(k){console.error("Login error:",k),o.value=k.message||"Login failed. Please try again."}finally{s.value=!1}}),_=()=>{a.value=!1,l.value="",d.value="",f.value="",p.value=!1},b=()=>Ke(this,null,function*(){u.value=!0,d.value="",f.value="",p.value=!1;try{if(!l.value)throw new Error("Please enter your email address");const k=yield fetch("/api/method/frappe.core.doctype.user.user.reset_password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:l.value})}),M=yield k.json();if(k.ok){if(M._server_messages)try{const E=JSON.parse(M._server_messages);if(Array.isArray(E)){const A=JSON.parse(E[0]);f.value=A.message||"Password reset instructions have been sent to your email"}}catch(E){f.value="Password reset instructions have been sent to your email"}else f.value="Password reset instructions have been sent to your email";setTimeout(_,5e3)}else if(M.exc&&M.exc.includes("MailNotEnabledError"))p.value=!0;else throw new Error(M.message||"Failed to send reset instructions")}catch(k){console.error("Password reset error:",k),d.value=k.message||"An error occurred while sending reset instructions"}finally{u.value=!1}});return(k,M)=>(K(),Y("div",S4,[M[12]||(M[12]=Io('<div class="sm:mx-auto sm:w-full sm:max-w-md"><div class="flex justify-center"><img class="h-16 w-auto" src="'+f4+'" alt="Your Logo"></div><h2 class="mt-6 text-center text-3xl font-extrabold text-gray-900"> Welcome Back </h2><p class="mt-2 text-center text-sm text-gray-600"> Sign in to access your account </p></div>',1)),P("div",M4,[P("div",C4,[o.value?(K(),Y("div",T4,[P("div",P4,[P("div",E4,[Pe(Tt(v4),{class:"h-5 w-5 text-red-500"})]),P("div",A4,[P("p",O4,xe(o.value),1)])])])):Ae("",!0),P("form",{class:"space-y-6",onSubmit:DC(m,["prevent"])},[P("div",null,[M[5]||(M[5]=P("label",{for:"email",class:"block text-sm font-medium text-gray-700"}," User ID ",-1)),P("div",L4,[P("div",R4,[Pe(Tt(Tx),{class:"h-5 w-5 text-gray-400"})]),ps(P("input",{id:"email","onUpdate:modelValue":M[0]||(M[0]=E=>t.value=E),name:"email",type:"text",required:"",class:"appearance-none block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Enter your user ID"},null,512),[[Vr,t.value]])])]),P("div",null,[M[6]||(M[6]=P("label",{for:"password",class:"block text-sm font-medium text-gray-700"}," Password ",-1)),P("div",D4,[P("div",I4,[Pe(Tt(l_),{class:"h-5 w-5 text-gray-400"})]),ps(P("input",{id:"password","onUpdate:modelValue":M[1]||(M[1]=E=>i.value=E),name:"password",type:r.value?"text":"password",required:"",class:"appearance-none block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Enter your password"},null,8,j4),[[AC,i.value]]),P("div",N4,[P("button",{type:"button",onClick:M[2]||(M[2]=E=>r.value=!r.value),class:"text-gray-400 hover:text-gray-500 focus:outline-none"},[r.value?(K(),$n(Tt(x4),{key:0,class:"h-5 w-5"})):(K(),$n(Tt(b4),{key:1,class:"h-5 w-5"}))])])]),P("div",z4,[P("button",{type:"button",onClick:M[3]||(M[3]=E=>a.value=!0),class:"text-sm text-blue-600 hover:text-blue-500 focus:outline-none"}," Forgot password? ")])]),P("div",null,[P("button",{type:"submit",disabled:s.value,class:"w-full flex justify-center py-2.5 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 transition-colors"},[s.value?(K(),Y("svg",F4,M[7]||(M[7]=[P("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),P("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):Ae("",!0),Ht(" "+xe(s.value?"Signing in...":"Sign in"),1)],8,B4)])],32)])]),P("div",$4,[P("p",null,"© "+xe(new Date().getFullYear())+" Visitor Management ",1)]),a.value?(K(),Y("div",H4,[P("div",V4,[M[11]||(M[11]=P("div",{class:"fixed inset-0 transition-opacity","aria-hidden":"true"},[P("div",{class:"absolute inset-0 bg-gray-500 opacity-75"})],-1)),P("div",W4,[P("div",null,[P("div",U4,[Pe(Tt(l_),{class:"h-6 w-6 text-blue-600"})]),P("div",Z4,[M[8]||(M[8]=P("h3",{class:"text-lg leading-6 font-medium text-gray-900"}," Reset your password ",-1)),P("div",K4,[f.value?Ae("",!0):(K(),Y("p",q4," Enter your email address and we'll send you a link to reset your password. "))])])]),f.value?(K(),Y("div",Q4,[Pe(Tt(g4),{class:"mx-auto h-12 w-12 text-green-500"}),P("p",eL,xe(f.value),1),M[9]||(M[9]=P("p",{class:"mt-1 text-sm text-gray-500"}," Please check your email to reset your password. ",-1))])):(K(),Y("div",G4,[P("div",J4,[ps(P("input",{"onUpdate:modelValue":M[4]||(M[4]=E=>l.value=E),type:"email",required:"",class:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Enter your email address"},null,512),[[Vr,l.value]])]),d.value?(K(),Y("div",Y4,xe(d.value),1)):Ae("",!0),p.value?(K(),Y("div",X4," Mail server is not configured. Please contact your administrator. ")):Ae("",!0)])),P("div",tL,[f.value?(K(),Y("button",{key:1,type:"button",onClick:_,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:text-sm"}," OK ")):(K(),Y("button",{key:0,type:"button",onClick:b,disabled:u.value,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:text-sm disabled:opacity-50"},[u.value?(K(),Y("svg",iL,M[10]||(M[10]=[P("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),P("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):Ae("",!0),Ht(" "+xe(u.value?"Sending...":"Send reset link"),1)],8,nL))])])])])):Ae("",!0)]))}},lf=Object.freeze(Object.defineProperty({__proto__:null,default:Px},Symbol.toStringTag,{value:"Module"})),sL={class:"px-4 py-3 flex items-center justify-between border-b sticky top-3 bg-white z-10"},rL={class:"text-lg font-semibold text-gray-900"},oL={class:"p-4"},aL={__name:"BottomSheet",props:{modelValue:{type:Boolean,required:!0},title:{type:String,default:"Details"},fullScreen:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(n){return(e,t)=>(K(),Y("div",null,[Pe(i1,{name:"fade"},{default:$t(()=>[n.modelValue?(K(),Y("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-40 transition-opacity",onClick:t[0]||(t[0]=i=>e.$emit("update:modelValue",!1))})):Ae("",!0)]),_:1}),Pe(i1,{name:"slide-up"},{default:$t(()=>[n.modelValue?(K(),Y("div",{key:0,class:Ye(["fixed inset-x-0 bottom-0 z-50 bg-white rounded-t-2xl shadow-xl max-h-[90vh] overflow-y-auto",[n.fullScreen?"min-h-screen rounded-none":"max-w-3xl mx-auto"]])},[t[2]||(t[2]=P("div",{class:"w-full flex justify-center pt-2 pb-1 sticky top-0 bg-white z-10"},[P("div",{class:"w-12 h-1.5 bg-gray-300 rounded-full"})],-1)),P("div",sL,[P("h3",rL,xe(n.title),1),P("button",{onClick:t[1]||(t[1]=i=>e.$emit("update:modelValue",!1)),class:"rounded-full p-1 hover:bg-gray-100 transition-colors"},[Pe(Tt(k4),{class:"h-6 w-6 text-gray-500"})])]),P("div",oL,[Is(e.$slots,"default",{},void 0,!0)])],2)):Ae("",!0)]),_:3})]))}},cf=Vn(aL,[["__scopeId","data-v-91346965"]]),lL={class:"min-h-screen bg-gray-50"},cL={class:"bg-white shadow-sm"},uL={class:"px-4 py-3 flex items-center max-w-5xl mx-auto"},dL={class:"max-w-5xl mx-auto"},hL={class:"bg-white mt-2 px-6 py-8 flex flex-col items-center rounded-lg shadow-sm"},fL={class:"relative"},pL={class:"h-28 w-28 rounded-full bg-gray-200 overflow-hidden shadow-md"},mL=["src","alt"],gL={key:1,class:"h-full w-full flex items-center justify-center bg-blue-100 text-blue-600 font-semibold text-3xl"},yL={class:"mt-4 text-2xl font-semibold"},_L={class:"text-gray-600"},vL={class:"mt-4 flex items-center text-sm text-gray-500"},bL={class:"bg-white mt-4 rounded-lg shadow-sm overflow-hidden"},xL={class:"flex items-center"},wL={class:"flex items-center"},kL={class:"flex items-center"},SL={class:"px-4 mt-6 mb-8"},ML={class:"relative flex items-center"},CL={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},TL={class:"bg-white rounded-lg max-w-sm w-full p-6 shadow-xl"},PL={class:"flex justify-end space-x-3"},EL=["disabled"],AL={key:0,class:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"},OL={key:0,class:"space-y-4"},LL={class:"text-sm text-gray-500 mb-1"},RL={class:"font-medium text-gray-800"},DL={key:1,class:"p-4 text-center text-gray-500"},IL={key:0,class:"space-y-4"},jL={class:"text-sm text-gray-500 mb-1"},NL={class:"font-medium text-gray-800"},zL={key:1,class:"p-4 text-center text-gray-500"},BL={key:0,class:"space-y-4"},FL={class:"text-sm text-gray-500 mb-1"},$L={class:"font-medium text-gray-800"},HL={key:1,class:"p-4 text-center text-gray-500"},Ex={__name:"Profile",setup(n){const e=pe(null),t=pe(null),i=pe(null),s=pe(window.innerWidth<768),r=pe(!1),o=pe(!1),a=pe({}),l=pe({}),u=pe({}),d=[{key:"first_name",label:"First Name"},{key:"middle_name",label:"Middle Name"},{key:"last_name",label:"Last Name"},{key:"gender",label:"Gender"},{key:"date_of_birth",label:"Date of Birth"},{key:"date_of_joining",label:"Date of Joining"},{key:"employee_number",label:"Employee Number"},{key:"status",label:"Status"}],f=[{key:"company",label:"Company"},{key:"department",label:"Department"},{key:"designation",label:"Designation"},{key:"grade",label:"Grade"},{key:"branch",label:"Branch"},{key:"reports_to",label:"Reports To"}],p=[{key:"email",label:"Email"},{key:"phone",label:"Phone"},{key:"mobile_no",label:"Mobile Number"},{key:"company_name",label:"Company Name"}],m=yt({get:()=>i.value==="employee",set:v=>{v||(i.value=null)}}),_=yt({get:()=>i.value==="company",set:v=>{v||(i.value=null)}}),b=yt({get:()=>i.value==="contact",set:v=>{v||(i.value=null)}}),k=v=>v?v.split(" ").map(S=>S[0]).join("").toUpperCase().slice(0,2):"U",M=()=>{r.value=!0},E=()=>Ke(this,null,function*(){try{o.value=!0;try{yield fetch("/api/method/logout",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"})}catch(v){console.warn("First logout approach failed:",v)}try{yield fetch("/api/method/oms.api.logout",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"})}catch(v){console.warn("Second logout approach failed:",v)}localStorage.clear(),sessionStorage.clear(),document.cookie.split(";").forEach(function(v){document.cookie=v.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/")}),setTimeout(()=>{window.location.href="/oms/account/login"},500)}catch(v){console.error("Error logging out:",v),alert("Failed to log out. Please try again."),o.value=!1,r.value=!1}}),A=v=>v?v.startsWith("/private/files")?`/api/method/frappe.utils.file_manager.download_file?file_url=${v}`:v:"",g=()=>{s.value=window.innerWidth<768};ii(()=>Ke(this,null,function*(){var v,S;window.addEventListener("resize",g);try{const O=yield(yield fetch("/api/method/oms.api.get_current_user_info")).json();if(O.message){e.value=O.message;const N=yield(yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({doctype:"Employee",filters:{user_id:e.value.name},fields:["*"]})})).json();if((v=N.message)!=null&&v[0]){const B=N.message[0];t.value=B,d.forEach(V=>{a.value[V.key]=null}),f.forEach(V=>{l.value[V.key]=null}),a.value=$e(ce({},a.value),{first_name:B.first_name,middle_name:B.middle_name,last_name:B.last_name,gender:B.gender,date_of_birth:w(B.date_of_birth),date_of_joining:w(B.date_of_joining),employee_number:B.employee_number,status:B.status}),l.value=$e(ce({},l.value),{company:B.company,department:B.department,designation:B.designation,grade:B.grade,branch:B.branch,reports_to:B.reports_to})}else d.forEach(B=>{a.value[B.key]=null}),f.forEach(B=>{l.value[B.key]=null});p.forEach(B=>{u.value[B.key]=null});try{const V=yield(yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({doctype:"Contact",filters:{user:e.value.name},fields:["*"]})})).json();if((S=V.message)!=null&&S[0]){const W=V.message[0];u.value=$e(ce({},u.value),{email:W.email_id,phone:W.phone,mobile_no:W.mobile_no,company_name:W.company_name})}}catch(B){console.error("Error fetching contact data:",B)}}}catch(T){console.error("Error fetching profile data:",T)}}));const w=v=>{if(!v)return"";try{return new Date(v).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch(S){return v}};return Qr(()=>{window.removeEventListener("resize",g)}),(v,S)=>{var T,O,I,N;return K(),Y("div",lL,[P("div",cL,[P("div",uL,[P("button",{onClick:S[0]||(S[0]=B=>v.$router.back()),class:"mr-2 hover:bg-gray-100 rounded-full p-1.5 transition-colors"},[Pe(Tt(y4),{class:"h-6 w-6 text-gray-600"})]),S[8]||(S[8]=P("h1",{class:"text-xl font-semibold"},"Profile",-1))])]),P("div",dL,[P("div",hL,[P("div",fL,[P("div",pL,[e.value&&e.value.user_image?(K(),Y("img",{key:0,src:A(e.value.user_image),alt:e.value.full_name,class:"h-full w-full object-cover"},null,8,mL)):(K(),Y("div",gL,xe(k((T=e.value)==null?void 0:T.full_name)),1))])]),P("h2",yL,xe(((O=e.value)==null?void 0:O.full_name)||"User"),1),P("p",_L,xe(((I=t.value)==null?void 0:I.designation)||"No Designation"),1),P("div",vL,[Pe(Tt(_4),{class:"h-4 w-4 mr-1"}),P("span",null,xe(((N=e.value)==null?void 0:N.name)||"No Email"),1)])]),P("div",bL,[P("button",{onClick:S[1]||(S[1]=B=>i.value="employee"),class:"w-full px-6 py-4 flex items-center justify-between border-b hover:bg-gray-50 transition-colors"},[P("div",xL,[Pe(Tt(Tx),{class:"h-5 w-5 text-blue-500 mr-3"}),S[9]||(S[9]=P("span",{class:"font-medium"},"Employee Details",-1))]),Pe(Tt(af),{class:"h-5 w-5 text-gray-400"})]),P("button",{onClick:S[2]||(S[2]=B=>i.value="company"),class:"w-full px-6 py-4 flex items-center justify-between border-b hover:bg-gray-50 transition-colors"},[P("div",wL,[Pe(Tt(m4),{class:"h-5 w-5 text-green-500 mr-3"}),S[10]||(S[10]=P("span",{class:"font-medium"},"Company Information",-1))]),Pe(Tt(af),{class:"h-5 w-5 text-gray-400"})]),P("button",{onClick:S[3]||(S[3]=B=>i.value="contact"),class:"w-full px-6 py-4 flex items-center justify-between hover:bg-gray-50 transition-colors"},[P("div",kL,[Pe(Tt(w4),{class:"h-5 w-5 text-purple-500 mr-3"}),S[11]||(S[11]=P("span",{class:"font-medium"},"Contact Information",-1))]),Pe(Tt(af),{class:"h-5 w-5 text-gray-400"})])]),P("div",SL,[P("button",{onClick:M,class:"w-full bg-white text-red-600 font-medium py-4 rounded-lg border border-red-200 shadow-sm hover:bg-red-50 transition-colors flex items-center justify-center relative overflow-hidden group"},[S[13]||(S[13]=P("span",{class:"absolute inset-0 w-3 bg-red-100 transition-all duration-300 ease-out group-hover:w-full"},null,-1)),P("span",ML,[Pe(Tt(p4),{class:"h-5 w-5 mr-2"}),S[12]||(S[12]=Ht(" Log Out "))])])])]),r.value?(K(),Y("div",CL,[P("div",TL,[S[15]||(S[15]=P("h3",{class:"text-lg font-medium text-gray-900 mb-3"},"Confirm Logout",-1)),S[16]||(S[16]=P("p",{class:"text-gray-600 mb-5"},"Are you sure you want to log out of your account?",-1)),P("div",PL,[P("button",{onClick:S[4]||(S[4]=B=>r.value=!1),class:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors"}," Cancel "),P("button",{onClick:E,class:"px-4 py-2 text-white bg-red-600 rounded-lg hover:bg-red-700 transition-colors flex items-center",disabled:o.value},[o.value?(K(),Y("span",AL)):Ae("",!0),S[14]||(S[14]=Ht(" Logout "))],8,EL)])])])):Ae("",!0),Pe(cf,{modelValue:m.value,"onUpdate:modelValue":S[5]||(S[5]=B=>m.value=B),title:"Employee Details","full-screen":s.value},{default:$t(()=>[Object.keys(a.value).length>0?(K(),Y("div",OL,[(K(),Y(xt,null,Ws(d,(B,V)=>P("div",{key:V,class:"bg-gray-50 p-4 rounded-lg"},[P("p",LL,xe(B.label),1),P("p",RL,xe(a.value[B.key]||"Not specified"),1)])),64))])):(K(),Y("div",DL,S[17]||(S[17]=[P("p",null,"No employee details available",-1)])))]),_:1},8,["modelValue","full-screen"]),Pe(cf,{modelValue:_.value,"onUpdate:modelValue":S[6]||(S[6]=B=>_.value=B),title:"Company Information","full-screen":s.value},{default:$t(()=>[Object.keys(l.value).length>0?(K(),Y("div",IL,[(K(),Y(xt,null,Ws(f,(B,V)=>P("div",{key:V,class:"bg-gray-50 p-4 rounded-lg"},[P("p",jL,xe(B.label),1),P("p",NL,xe(l.value[B.key]||"Not specified"),1)])),64))])):(K(),Y("div",zL,S[18]||(S[18]=[P("p",null,"No company information available",-1)])))]),_:1},8,["modelValue","full-screen"]),Pe(cf,{modelValue:b.value,"onUpdate:modelValue":S[7]||(S[7]=B=>b.value=B),title:"Contact Information","full-screen":s.value},{default:$t(()=>[Object.keys(u.value).length>0?(K(),Y("div",BL,[(K(),Y(xt,null,Ws(p,(B,V)=>P("div",{key:V,class:"bg-gray-50 p-4 rounded-lg"},[P("p",FL,xe(B.label),1),P("p",$L,xe(u.value[B.key]||"Not specified"),1)])),64))])):(K(),Y("div",HL,S[19]||(S[19]=[P("p",null,"No contact information available",-1)])))]),_:1},8,["modelValue","full-screen"])])}}},uf=Object.freeze(Object.defineProperty({__proto__:null,default:Ex},Symbol.toStringTag,{value:"Module"})),VL={class:"location-history"},WL={class:"mb-4 flex flex-wrap gap-4 items-end"},UL={class:"bg-white rounded-lg border mb-4 overflow-hidden"},ZL={class:"relative"},KL={key:0,class:"absolute inset-0 bg-gray-100 flex items-center justify-center z-10"},qL={class:"bg-white rounded-lg border overflow-hidden"},GL={class:"p-3 border-b"},JL={class:"font-semibold text-gray-900"},YL={key:0,class:"p-8 text-center"},XL={key:1,class:"p-4 bg-red-50 border-l-4 border-red-500"},QL={class:"text-red-800"},e6={key:2,class:"p-8 text-center text-gray-500"},t6={key:3,class:"max-h-96 overflow-y-auto"},n6={class:"flex justify-between items-start"},i6={class:"flex-1"},s6={class:"flex items-center space-x-2 mb-1"},r6={class:"text-sm font-medium text-gray-900"},o6={class:"text-xs px-2 py-1 rounded-full bg-blue-100 text-blue-800"},a6={key:0,class:"text-xs px-2 py-1 rounded-full bg-green-100 text-green-800"},l6={key:0,class:"text-sm text-gray-600 mb-1"},c6={class:"flex items-center space-x-4 text-xs text-gray-500"},u6={key:0},d6={class:"flex space-x-2 ml-4"},h6=["onClick"],f6=["onClick"],p6={__name:"LocationHistory",props:{userId:{type:String,required:!0}},setup(n){const e=n,t=pe([]),i=pe(!1),s=pe(null),r=pe(null),o=pe(!0),a=pe(""),l=pe(""),u=pe("100");let d=null,f=[],p=null;const m=()=>{const v=new Date,S=new Date(v.getTime()-7*24*60*60*1e3);l.value=v.toISOString().split("T")[0],a.value=S.toISOString().split("T")[0]},_=()=>Ke(this,null,function*(){var v;if(e.userId)try{i.value=!0,s.value=null;const T=yield(yield fetch("/api/method/oms.api.get_location_history",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},body:JSON.stringify({user_id:e.userId,from_date:a.value,to_date:l.value,limit:parseInt(u.value)})})).json();T.message&&T.message.success?(t.value=T.message.data,M()):s.value=((v=T.message)==null?void 0:v.message)||"Failed to fetch location history"}catch(S){s.value=S.message||"An error occurred while fetching history",console.error("Error fetching history:",S)}finally{i.value=!1}}),b=()=>{if(r.value)if(o.value=!0,window.L)k();else{const v=document.createElement("link");v.rel="stylesheet",v.href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css",document.head.appendChild(v);const S=document.createElement("script");S.src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js",S.onload=()=>{k()},document.head.appendChild(S)}},k=()=>{window.L&&(d=Ta.map(r.value,{zoomControl:!0,scrollWheelZoom:!0,doubleClickZoom:!0,boxZoom:!0,keyboard:!0,dragging:!0,touchZoom:!0}).setView([40.7128,-74.006],10),Ta.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',maxZoom:19}).addTo(d),M(),setTimeout(()=>{d.invalidateSize(),o.value=!1},100))},M=()=>{if(!d||t.value.length===0)return;f.forEach(T=>d.removeLayer(T)),f=[],p&&(d.removeLayer(p),p=null);const v=[],S=[];t.value.forEach((T,O)=>{if(T.latitude&&T.longitude){const I=parseFloat(T.latitude),N=parseFloat(T.longitude);v.push([I,N]),S.push([I,N]);const B=O===0,V=O===t.value.length-1;let W="";B?W='<div class="w-4 h-4 bg-green-500 rounded-full border-2 border-white shadow-lg"></div>':V?W='<div class="w-4 h-4 bg-red-500 rounded-full border-2 border-white shadow-lg"></div>':W='<div class="w-3 h-3 bg-blue-500 rounded-full border border-white shadow"></div>';const Z=Ta.divIcon({html:W,className:"history-marker",iconSize:B||V?[16,16]:[12,12],iconAnchor:B||V?[8,8]:[6,6]}),R=Ta.marker([I,N],{icon:Z}).addTo(d),z=`
        <div class="p-2">
          <p class="font-semibold text-sm">${g(T.creation)}</p>
          <p class="text-xs text-gray-600">${w(T.latitude,T.longitude)}</p>
          ${T.address?`<p class="text-xs text-gray-500 mt-1">${T.address}</p>`:""}
          ${T.accuracy_meters?`<p class="text-xs text-gray-500">Accuracy: ${T.accuracy_meters.toFixed(0)}m</p>`:""}
        </div>
      `;R.bindPopup(z),f.push(R)}}),v.length>1&&(p=Ta.polyline(v,{color:"#3b82f6",weight:3,opacity:.7}).addTo(d)),S.length>0&&d.fitBounds(S,{padding:[20,20]})},E=(v,S)=>{if(!d||!v.latitude||!v.longitude)return;const T=parseFloat(v.latitude),O=parseFloat(v.longitude);d.setView([T,O],15),f[S]&&f[S].openPopup()},A=v=>{if(!v.latitude||!v.longitude)return;const S=`https://www.google.com/maps/search/?api=1&query=${v.latitude},${v.longitude}`;window.open(S,"_blank")},g=v=>v?new Date(v).toLocaleString():"",w=(v,S)=>!v||!S?"No location":`${parseFloat(v).toFixed(4)}, ${parseFloat(S).toFixed(4)}`;return ii(()=>{m(),_(),b()}),Qr(()=>{d&&(d.remove(),d=null)}),fi(()=>e.userId,()=>{e.userId&&_()}),(v,S)=>(K(),Y("div",VL,[P("div",WL,[P("div",null,[S[3]||(S[3]=P("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"From Date",-1)),ps(P("input",{"onUpdate:modelValue":S[0]||(S[0]=T=>a.value=T),type:"date",class:"border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onChange:_},null,544),[[Vr,a.value]])]),P("div",null,[S[4]||(S[4]=P("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"To Date",-1)),ps(P("input",{"onUpdate:modelValue":S[1]||(S[1]=T=>l.value=T),type:"date",class:"border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onChange:_},null,544),[[Vr,l.value]])]),P("div",null,[S[6]||(S[6]=P("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Limit",-1)),ps(P("select",{"onUpdate:modelValue":S[2]||(S[2]=T=>u.value=T),onChange:_,class:"border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},S[5]||(S[5]=[P("option",{value:"50"},"50 records",-1),P("option",{value:"100"},"100 records",-1),P("option",{value:"200"},"200 records",-1)]),544),[[Am,u.value]])]),P("button",{onClick:_,class:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors"}," Refresh ")]),P("div",UL,[S[8]||(S[8]=P("div",{class:"p-3 border-b"},[P("h4",{class:"font-semibold text-gray-900"},"Location Trail")],-1)),P("div",ZL,[P("div",{class:"h-64 w-full",ref_key:"historyMapContainer",ref:r},[o.value?(K(),Y("div",KL,S[7]||(S[7]=[P("div",{class:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"},null,-1)]))):Ae("",!0)],512)])]),P("div",qL,[P("div",GL,[P("h4",JL,"Location History ("+xe(t.value.length)+" records)",1)]),i.value?(K(),Y("div",YL,S[9]||(S[9]=[P("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"},null,-1),P("p",{class:"text-gray-600"},"Loading location history...",-1)]))):s.value?(K(),Y("div",XL,[P("p",QL,xe(s.value),1)])):t.value.length===0?(K(),Y("div",e6,S[10]||(S[10]=[P("p",null,"No location history found for the selected period",-1)]))):(K(),Y("div",t6,[(K(!0),Y(xt,null,Ws(t.value,(T,O)=>(K(),Y("div",{key:T.name,class:"p-3 border-b last:border-b-0 hover:bg-gray-50"},[P("div",n6,[P("div",i6,[P("div",s6,[P("span",r6,xe(g(T.creation)),1),P("span",o6,xe(w(T.latitude,T.longitude)),1),T.manual_refresh?(K(),Y("span",a6," Manual ")):Ae("",!0)]),T.address?(K(),Y("p",l6,xe(T.address),1)):Ae("",!0),P("div",c6,[T.accuracy_meters?(K(),Y("span",u6," Accuracy: "+xe(T.accuracy_meters.toFixed(0))+"m ",1)):Ae("",!0),P("span",null,xe(T.time_ago),1)])]),P("div",d6,[P("button",{onClick:I=>E(T,O),class:"text-blue-600 hover:text-blue-800 p-1 rounded",title:"View on map"},S[11]||(S[11]=[P("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),P("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1)]),8,h6),P("button",{onClick:I=>A(T),class:"text-gray-600 hover:text-gray-800 p-1 rounded",title:"Open in Google Maps"},S[12]||(S[12]=[P("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})],-1)]),8,f6)])])]))),128))]))])]))}},m6=Vn(p6,[["__scopeId","data-v-c119f5b8"]]),g6={class:"location-manager p-4 sm:p-6 max-w-7xl mx-auto"},y6={class:"bg-white rounded-xl shadow-sm border p-3 sm:p-4 mb-6"},_6={class:"flex flex-col space-y-3 sm:space-y-4"},v6={class:"flex flex-col sm:flex-row items-start sm:items-center space-y-3 sm:space-y-0 sm:space-x-4"},b6={class:"w-full sm:min-w-[180px] sm:max-w-[220px]"},x6=["value"],w6={class:"flex items-center"},k6={class:"flex items-center cursor-pointer"},S6={class:"relative"},M6={class:"flex flex-col sm:flex-row items-start sm:items-center justify-between space-y-2 sm:space-y-0"},C6={class:"flex flex-wrap items-center gap-2"},T6={class:"text-xs text-gray-500"},P6={key:0,class:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full"},E6={class:"flex space-x-2"},A6=["disabled"],O6=["disabled"],L6={class:"bg-white rounded-xl shadow-sm border mb-6 overflow-hidden"},R6={class:"relative"},D6={key:0,class:"absolute inset-0 bg-gray-100 flex items-center justify-center z-10"},I6={class:"bg-white rounded-xl shadow-sm border overflow-hidden"},j6={class:"p-4 border-b"},N6={class:"text-lg font-semibold text-gray-900"},z6={key:0,class:"p-8 text-center"},B6={key:1,class:"p-4 bg-red-50 border-l-4 border-red-500"},F6={class:"text-red-800"},$6={key:2,class:"p-8 text-center text-gray-500"},H6={key:3,class:"divide-y divide-gray-200"},V6={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},W6={class:"flex items-center space-x-4"},U6={class:"flex-shrink-0"},Z6={class:"h-12 w-12 rounded-full overflow-hidden bg-gray-300"},K6=["src","alt"],q6={key:1,class:"h-full w-full flex items-center justify-center text-gray-600 font-medium"},G6={class:"flex-1 min-w-0"},J6={class:"text-sm font-medium text-gray-900 truncate"},Y6={class:"flex flex-wrap items-center gap-x-4 gap-y-1 text-sm text-gray-500"},X6={key:0,class:"truncate"},Q6={key:1,class:"truncate"},eR={class:"flex items-center"},tR={class:"flex flex-col sm:flex-row sm:items-center gap-4"},nR={class:"text-left sm:text-right text-sm"},iR={class:"text-gray-900 font-medium"},sR={class:"text-gray-500"},rR={class:"flex space-x-2"},oR=["onClick"],aR=["onClick"],lR=["onClick"],cR={key:0,class:"mt-2 text-sm text-gray-600 ml-0 sm:ml-16"},uR={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},dR={class:"bg-white rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden"},hR={class:"p-4 border-b flex justify-between items-center"},fR={class:"text-lg font-semibold"},pR={class:"p-4 overflow-y-auto max-h-[70vh]"},mR={__name:"LocationManager",setup(n){const e=pe([]),t=pe([]),i=pe(!1),s=pe(null),r=pe(null),o=pe(!0),a=pe(!0),l=pe(""),u=pe(""),d=pe(!1),f=pe(null),p=pe(!1);let m=null,_={},b=null;const k=()=>Ke(this,null,function*(){var R;try{const H=yield(yield fetch("/api/method/oms.api.get_all_users_for_tracking",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token||""}})).json();H.message&&H.message.success?t.value=H.message.data:console.error("Failed to fetch users:",(R=H.message)==null?void 0:R.message)}catch(z){console.error("Error fetching users:",z)}}),M=()=>Ke(this,null,function*(){var R;try{i.value=!0,s.value=null;const H=yield(yield fetch("/api/method/oms.api.get_user_locations",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},body:JSON.stringify({user_filter:u.value||null,limit:50})})).json();H.message&&H.message.success?(e.value=H.message.data,l.value=new Date().toLocaleTimeString(),g()):s.value=((R=H.message)==null?void 0:R.message)||"Failed to fetch user locations"}catch(z){s.value=z.message||"An error occurred while fetching locations",console.error("Error fetching locations:",z)}finally{i.value=!1}}),E=()=>{if(r.value)if(o.value=!0,window.L)A();else{const R=document.createElement("link");R.rel="stylesheet",R.href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css",document.head.appendChild(R);const z=document.createElement("script");z.src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js",z.onload=()=>{A()},document.head.appendChild(z)}},A=()=>{window.L&&(m=Na.map(r.value,{zoomControl:!0,scrollWheelZoom:!0,doubleClickZoom:!0,boxZoom:!0,keyboard:!0,dragging:!0,touchZoom:!0}).setView([40.7128,-74.006],10),Na.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',maxZoom:19}).addTo(m),g(),setTimeout(()=>{m.invalidateSize(),o.value=!1},100))},g=()=>{if(!m||(Object.values(_).forEach(z=>{m.removeLayer(z)}),_={},e.value.length===0))return;const R=[];e.value.forEach(z=>{if(z.latitude&&z.longitude){const H=parseFloat(z.latitude),ee=parseFloat(z.longitude),G=`
        <div class="relative">
          <div class="w-8 h-8 rounded-full border-2 border-white shadow-lg flex items-center justify-center text-xs font-bold text-white bg-blue-500">
            ${V(z.full_name||z.user)}
          </div>
          <div class="absolute -bottom-1 -right-1 w-3 h-3 rounded-full border border-white bg-green-500"></div>
        </div>
      `,te=Na.divIcon({html:G,className:"custom-marker",iconSize:[32,32],iconAnchor:[16,32]}),we=Na.marker([H,ee],{icon:te}).addTo(m),Te=`
        <div class="p-2">
          <h4 class="font-semibold text-gray-900">${z.full_name||z.user}</h4>
          <p class="text-sm text-gray-600">${z.department||""} ${z.designation||""}</p>
          <p class="text-xs text-gray-500">Last seen: ${z.time_ago}</p>
          ${z.address?`<p class="text-xs text-gray-500 mt-1">${z.address}</p>`:""}
        </div>
      `;we.bindPopup(Te),_[z.name]=we,R.push([H,ee])}}),R.length>0&&m.fitBounds(R,{padding:[20,20]})},w=R=>{var ee;if(!m||!R.latitude||!R.longitude)return;const z=parseFloat(R.latitude),H=parseFloat(R.longitude);m.setView([z,H],15),_[R.name]&&_[R.name].openPopup(),window.innerWidth<768&&((ee=r.value)==null||ee.scrollIntoView({behavior:"smooth",block:"center"}))},v=R=>{f.value=R,d.value=!0},S=()=>{d.value=!1,f.value=null},T=R=>{if(!R.latitude||!R.longitude)return;const z=`https://www.google.com/maps/search/?api=1&query=${R.latitude},${R.longitude}`;window.open(z,"_blank")},O=()=>{a.value?I():N()},I=()=>{b||(b=setInterval(()=>{M()},3e4))},N=()=>{b&&(clearInterval(b),b=null)},B=()=>Ke(this,null,function*(){if(!navigator.geolocation){alert("Geolocation is not supported by your browser");return}p.value=!0,navigator.geolocation.getCurrentPosition(R=>Ke(this,null,function*(){var z;try{const ee=yield(yield fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${R.coords.latitude}&lon=${R.coords.longitude}&zoom=18&addressdetails=1`,{headers:{"User-Agent":"OMS Location Tracker/1.0"}})).json(),G=(ee==null?void 0:ee.display_name)||`${R.coords.latitude.toFixed(6)}, ${R.coords.longitude.toFixed(6)}`,te={userAgent:navigator.userAgent.substring(0,50),platform:navigator.platform.substring(0,30),language:navigator.language,timestamp:new Date().toISOString()},Te=yield(yield fetch("/api/method/oms.api.save_user_location",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},body:JSON.stringify({latitude:R.coords.latitude,longitude:R.coords.longitude,accuracy:R.coords.accuracy,address:G,device_info:JSON.stringify(te),manual_refresh:!0})})).json();if(Te.message&&Te.message.success)yield M(),alert("Your location has been saved successfully!");else throw new Error(((z=Te.message)==null?void 0:z.message)||"Failed to save location")}catch(H){console.error("Error saving manager location:",H),alert("Failed to save location: "+H.message)}}),R=>{console.error("Geolocation error:",R);let z="Failed to get location: ";switch(R.code){case R.PERMISSION_DENIED:z+="Location access denied. Please enable location services.";break;case R.POSITION_UNAVAILABLE:z+="Location information is unavailable.";break;case R.TIMEOUT:z+="The request to get location timed out.";break;default:z+="An unknown error occurred.";break}alert(z)},{enableHighAccuracy:!0,timeout:15e3,maximumAge:6e4}),p.value=!1}),V=R=>R?R.split(" ").map(z=>z[0]).join("").toUpperCase().slice(0,2):"?",W=(R,z)=>!R||!z?"No location":`${parseFloat(R).toFixed(4)}, ${parseFloat(z).toFixed(4)}`,Z=R=>R?R.startsWith("/private/files")?`/api/method/frappe.utils.file_manager.download_file?file_url=${R}`:R:"";return ii(()=>Ke(this,null,function*(){yield k(),yield M(),E(),a.value&&I()})),Qr(()=>{N(),m&&(m.remove(),m=null)}),(R,z)=>{var H,ee;return K(),Y("div",g6,[z[17]||(z[17]=P("div",{class:"mb-6"},[P("h1",{class:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2"},"Location Manager"),P("p",{class:"text-gray-600"},"Monitor and track user locations in real-time")],-1)),P("div",y6,[P("div",_6,[P("div",v6,[P("div",b6,[z[3]||(z[3]=P("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Filter by User",-1)),ps(P("select",{"onUpdate:modelValue":z[0]||(z[0]=G=>u.value=G),onChange:M,class:"w-full border border-gray-300 rounded-md px-2 py-1.5 text-xs focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[z[2]||(z[2]=P("option",{value:""},"All Users",-1)),(K(!0),Y(xt,null,Ws(t.value,G=>(K(),Y("option",{key:G.user_id,value:G.user_id},xe(G.full_name||G.user_id),9,x6))),128))],544),[[Am,u.value]])]),P("div",w6,[P("label",k6,[ps(P("input",{type:"checkbox","onUpdate:modelValue":z[1]||(z[1]=G=>a.value=G),onChange:O,class:"sr-only"},null,544),[[p2,a.value]]),P("div",S6,[P("div",{class:Ye(["block bg-gray-600 w-10 h-6 rounded-full",a.value?"bg-green-600":"bg-gray-600"])},null,2),P("div",{class:Ye(["dot absolute left-0.5 top-0.5 bg-white w-5 h-5 rounded-full transition",a.value?"transform translate-x-4":""])},null,2)]),z[4]||(z[4]=P("span",{class:"ml-2 text-xs font-medium text-gray-700"},"Auto Refresh",-1))])])]),P("div",M6,[P("div",C6,[P("span",T6,"Last updated: "+xe(l.value),1),e.value.length>0?(K(),Y("span",P6,xe(e.value.length)+" users tracked ",1)):Ae("",!0)]),P("div",E6,[P("button",{onClick:B,disabled:p.value,class:"bg-green-600 text-white px-3 py-1.5 rounded-md hover:bg-green-700 disabled:opacity-50 flex items-center text-xs"},[z[5]||(z[5]=P("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),P("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),Ht(" "+xe(p.value?"Saving...":"My Location"),1)],8,A6),P("button",{onClick:M,disabled:i.value,class:"bg-blue-600 text-white px-3 py-1.5 rounded-md hover:bg-blue-700 disabled:opacity-50 flex items-center text-xs"},[z[6]||(z[6]=P("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)),Ht(" "+xe(i.value?"Loading...":"Refresh All"),1)],8,O6)])])])]),P("div",L6,[z[8]||(z[8]=P("div",{class:"p-4 border-b"},[P("h2",{class:"text-lg font-semibold text-gray-900"},"Live Location Map")],-1)),P("div",R6,[P("div",{class:"h-64 sm:h-80 lg:h-96 w-full",ref_key:"mapContainer",ref:r},[o.value?(K(),Y("div",D6,z[7]||(z[7]=[P("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1),P("span",{class:"ml-2 text-gray-600"},"Loading map...",-1)]))):Ae("",!0)],512)])]),P("div",I6,[P("div",j6,[P("h2",N6,"User Locations ("+xe(e.value.length)+")",1)]),i.value&&e.value.length===0?(K(),Y("div",z6,z[9]||(z[9]=[P("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"},null,-1),P("p",{class:"text-gray-600"},"Loading user locations...",-1)]))):s.value?(K(),Y("div",B6,[P("p",F6,xe(s.value),1)])):e.value.length===0?(K(),Y("div",$6,z[10]||(z[10]=[P("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-12 w-12 mx-auto mb-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),P("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1),P("p",null,"No user locations found",-1)]))):(K(),Y("div",H6,[(K(!0),Y(xt,null,Ws(e.value,G=>(K(),Y("div",{key:G.name,class:"p-4 hover:bg-gray-50 transition-colors"},[P("div",V6,[P("div",W6,[P("div",U6,[P("div",Z6,[G.user_image?(K(),Y("img",{key:0,src:Z(G.user_image),alt:G.full_name,class:"h-full w-full object-cover"},null,8,K6)):(K(),Y("div",q6,xe(V(G.full_name||G.user)),1))])]),P("div",G6,[P("h3",J6,xe(G.full_name||G.user),1),P("div",Y6,[G.department?(K(),Y("span",X6,xe(G.department),1)):Ae("",!0),G.designation?(K(),Y("span",Q6,xe(G.designation),1)):Ae("",!0),P("span",eR,[z[11]||(z[11]=P("div",{class:"h-2 w-2 rounded-full bg-green-500 mr-1"},null,-1)),Ht(" "+xe(G.time_ago),1)])])])]),P("div",tR,[P("div",nR,[P("p",iR,xe(W(G.latitude,G.longitude)),1),P("p",sR," Accuracy: "+xe(G.accuracy_meters?G.accuracy_meters.toFixed(0)+"m":"Unknown"),1)]),P("div",rR,[P("button",{onClick:te=>w(G),class:"text-blue-600 hover:text-blue-800 transition-colors p-2 rounded-lg hover:bg-blue-50",title:"View on map"},z[12]||(z[12]=[P("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),P("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1)]),8,oR),P("button",{onClick:te=>v(G),class:"text-green-600 hover:text-green-800 transition-colors p-2 rounded-lg hover:bg-green-50",title:"View history"},z[13]||(z[13]=[P("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)]),8,aR),P("button",{onClick:te=>T(G),class:"text-gray-600 hover:text-gray-800 transition-colors p-2 rounded-lg hover:bg-gray-50",title:"Open in Google Maps"},z[14]||(z[14]=[P("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})],-1)]),8,lR)])])]),G.address?(K(),Y("div",cR,[z[15]||(z[15]=P("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 inline mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),P("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),Ht(" "+xe(G.address),1)])):Ae("",!0)]))),128))]))]),d.value?(K(),Y("div",uR,[P("div",dR,[P("div",hR,[P("h3",fR,"Location History - "+xe((H=f.value)==null?void 0:H.full_name),1),P("button",{onClick:S,class:"text-gray-400 hover:text-gray-600"},z[16]||(z[16]=[P("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),P("div",pR,[f.value?(K(),$n(m6,{key:0,"user-id":(ee=f.value)==null?void 0:ee.user},null,8,["user-id"])):Ae("",!0)])])])):Ae("",!0)])}}},gR=Vn(mR,[["__scopeId","data-v-31ccb18b"]]),yR={class:"min-h-screen bg-gray-50"},Ax={__name:"LocationManager",setup(n){return(e,t)=>(K(),Y("div",yR,[Pe(gR)]))}},df=Object.freeze(Object.defineProperty({__proto__:null,default:Ax},Symbol.toStringTag,{value:"Module"})),_R=[{name:"Issue",path:"issue"},{name:"Task",path:"task"},{name:"Project",path:"project"},{name:"Timesheet",path:"timesheet"},{name:"Employee",path:"employee"}],gu=[{path:"/account/login",name:"Login",component:Px,meta:{requiresAuth:!1}},{path:"/",name:"Home",component:Cx},{path:"/profile",name:"Profile",component:Ex},{path:"/location-manager",name:"LocationManager",component:Ax,meta:{requiresAuth:!0,requiredRoles:["System Manager","Location Manager","Manager"]}}];_R.forEach(n=>{gu.push({path:`/${n.path}`,name:`${n.name}List`,component:()=>Hh(Object.assign({"./pages/Dashboard.vue":()=>ht(()=>import("./Dashboard-CEiK0dmR.js"),[]),"./pages/Employee.vue":()=>ht(()=>import("./Employee-B1AdoMPK.js"),__vite__mapDeps([0,1,2])),"./pages/Home.vue":()=>ht(()=>Promise.resolve().then(()=>of),void 0),"./pages/Issue.vue":()=>ht(()=>import("./Issue-PZrX2tdK.js"),__vite__mapDeps([3,1,2])),"./pages/LocationManager.vue":()=>ht(()=>Promise.resolve().then(()=>df),void 0),"./pages/Login.vue":()=>ht(()=>Promise.resolve().then(()=>lf),void 0),"./pages/Profile.vue":()=>ht(()=>Promise.resolve().then(()=>uf),void 0),"./pages/Task.vue":()=>ht(()=>import("./Task-D9Bog_cc.js"),__vite__mapDeps([4,1,2])),"./pages/Timesheet.vue":()=>ht(()=>import("./Timesheet-DyCL72TJ.js"),__vite__mapDeps([5,1,2]))}),`./pages/${n.name}.vue`,3)}),gu.push({path:`/${n.path}/new`,name:`New${n.name}`,component:()=>Hh(Object.assign({"./pages/Dashboard.vue":()=>ht(()=>import("./Dashboard-CEiK0dmR.js"),[]),"./pages/Employee.vue":()=>ht(()=>import("./Employee-B1AdoMPK.js"),__vite__mapDeps([0,1,2])),"./pages/Home.vue":()=>ht(()=>Promise.resolve().then(()=>of),void 0),"./pages/Issue.vue":()=>ht(()=>import("./Issue-PZrX2tdK.js"),__vite__mapDeps([3,1,2])),"./pages/LocationManager.vue":()=>ht(()=>Promise.resolve().then(()=>df),void 0),"./pages/Login.vue":()=>ht(()=>Promise.resolve().then(()=>lf),void 0),"./pages/Profile.vue":()=>ht(()=>Promise.resolve().then(()=>uf),void 0),"./pages/Task.vue":()=>ht(()=>import("./Task-D9Bog_cc.js"),__vite__mapDeps([4,1,2])),"./pages/Timesheet.vue":()=>ht(()=>import("./Timesheet-DyCL72TJ.js"),__vite__mapDeps([5,1,2]))}),`./pages/${n.name}.vue`,3)}),gu.push({path:`/${n.path}/:id/edit`,name:`Edit${n.name}`,component:()=>Hh(Object.assign({"./pages/Dashboard.vue":()=>ht(()=>import("./Dashboard-CEiK0dmR.js"),[]),"./pages/Employee.vue":()=>ht(()=>import("./Employee-B1AdoMPK.js"),__vite__mapDeps([0,1,2])),"./pages/Home.vue":()=>ht(()=>Promise.resolve().then(()=>of),void 0),"./pages/Issue.vue":()=>ht(()=>import("./Issue-PZrX2tdK.js"),__vite__mapDeps([3,1,2])),"./pages/LocationManager.vue":()=>ht(()=>Promise.resolve().then(()=>df),void 0),"./pages/Login.vue":()=>ht(()=>Promise.resolve().then(()=>lf),void 0),"./pages/Profile.vue":()=>ht(()=>Promise.resolve().then(()=>uf),void 0),"./pages/Task.vue":()=>ht(()=>import("./Task-D9Bog_cc.js"),__vite__mapDeps([4,1,2])),"./pages/Timesheet.vue":()=>ht(()=>import("./Timesheet-DyCL72TJ.js"),__vite__mapDeps([5,1,2]))}),`./pages/${n.name}.vue`,3)})});const Ox=V8({history:v8("/oms"),routes:gu});Ox.beforeEach((n,e,t)=>Ke(void 0,null,function*(){const i=yield vR();if(n.meta.requiresAuth===!1)return t();if(!i)return t({path:"/account/login",query:{redirect:n.fullPath}});if(n.path==="/account/login"&&i)return t("/");if(n.meta.requiredRoles){const s=yield bR();if(!n.meta.requiredRoles.some(o=>s.includes(o)))return t({path:"/",query:{error:"insufficient_permissions"}})}t()}));function vR(){return Ke(this,null,function*(){try{const e=yield(yield fetch("/api/method/frappe.auth.get_logged_user")).json();return e.message&&e.message!=="Guest"}catch(n){return!1}})}function bR(){return Ke(this,null,function*(){var n;try{return((n=(yield(yield fetch("/api/method/oms.api.get_current_user_info")).json()).message)==null?void 0:n.roles)||[]}catch(e){return[]}})}const xR={class:"bg-gradient-to-r from-blue-600 to-purple-700 shadow-md px-4 py-3 flex justify-between items-center text-white"},wR={class:"text-xl font-bold ml-8 md:ml-0"},kR={class:"flex items-center space-x-4"},SR=["src","alt"],MR={key:1,class:"h-full w-full flex items-center justify-center bg-blue-100 text-blue-600 font-medium text-lg"},CR={__name:"NavBar",setup(n){const e=Kl(),t=Rm(),i=pe(null),s=yt(()=>t.path.startsWith("/issue")?"Issues":t.path.startsWith("/task")?"Tasks":t.path.startsWith("/project")?"Projects":t.path.startsWith("/timesheet")?"Timesheets":t.path==="/profile"?"Profile":"OMS"),r=()=>{e.push("/profile")},o=u=>u?u.split(" ").map(d=>d[0]).join("").toUpperCase().slice(0,2):"",a=u=>u?u.startsWith("/private/files")?`/api/method/frappe.utils.file_manager.download_file?file_url=${u}`:u:"",l=()=>Ke(this,null,function*(){try{const d=yield(yield fetch("/api/method/oms.api.get_current_user_info")).json();d.message&&(i.value=d.message)}catch(u){console.error("Error fetching user data:",u)}});return ii(()=>Ke(this,null,function*(){yield l()})),(u,d)=>{var f;return K(),Y("div",xR,[P("h1",wR,xe(s.value),1),P("div",kR,[d[0]||(d[0]=P("button",{class:"relative p-1.5 rounded-full hover:bg-white hover:bg-opacity-10 transition-colors"},[P("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})]),P("span",{class:"absolute top-0 right-0 h-2 w-2 rounded-full bg-red-500 animate-pulse"})],-1)),P("button",{onClick:r,class:"h-9 w-9 rounded-full bg-white bg-opacity-20 overflow-hidden focus:outline-none focus:ring-2 focus:ring-white focus:ring-opacity-50 flex items-center justify-center transition-transform hover:scale-110"},[i.value&&i.value.user_image?(K(),Y("img",{key:0,src:a(i.value.user_image),alt:i.value.full_name,class:"h-full w-full object-cover"},null,8,SR)):(K(),Y("div",MR,xe(o((f=i.value)==null?void 0:f.full_name)),1))])])])}}},TR=Vn(CR,[["__scopeId","data-v-ba73a80d"]]),PR={class:"bg-white border-t border-gray-200 shadow-lg flex justify-around items-center h-16 relative z-30"},ER={class:"relative flex flex-col items-center w-full"},AR={class:"absolute bottom-20 left-1/2 transform -translate-x-1/2 bg-white rounded-xl shadow-xl w-64 overflow-hidden animate-rise"},OR={__name:"BottomNav",setup(n){const e=Kl(),t=pe(!1),i=()=>{t.value=!t.value},s=r=>{t.value=!1,e.push(r)};return(r,o)=>{const a=ia("router-link");return K(),Y(xt,null,[P("div",PR,[Pe(a,{to:"/",class:"flex flex-col items-center justify-center w-full h-full","active-class":"text-blue-600"},{default:$t(()=>o[4]||(o[4]=[P("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})],-1),P("span",{class:"text-[10px] mt-0.5 font-medium"},"Home",-1)])),_:1}),Pe(a,{to:"/task",class:"flex flex-col items-center justify-center w-full h-full","active-class":"text-blue-600"},{default:$t(()=>o[5]||(o[5]=[P("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})],-1),P("span",{class:"text-[10px] mt-0.5 font-medium"},"Tasks",-1)])),_:1}),P("div",ER,[P("button",{onClick:i,class:"absolute -top-6 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-full w-14 h-14 flex items-center justify-center shadow-lg transform transition-transform duration-300 hover:scale-110 active:scale-95"},[(K(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",class:Ye(["h-6 w-6 transition-transform duration-300",{"rotate-45":t.value}]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},o[6]||(o[6]=[P("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"},null,-1)]),2))]),o[7]||(o[7]=P("div",{class:"h-5 w-5 opacity-0"},null,-1)),o[8]||(o[8]=P("span",{class:"text-[10px] mt-0.5 opacity-0"},"Add",-1))]),Pe(a,{to:"/issue",class:"flex flex-col items-center justify-center w-full h-full","active-class":"text-blue-600"},{default:$t(()=>o[9]||(o[9]=[P("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z"})],-1),P("span",{class:"text-[10px] mt-0.5 font-medium"},"Issues",-1)])),_:1}),Pe(a,{to:"/profile",class:"flex flex-col items-center justify-center w-full h-full","active-class":"text-blue-600"},{default:$t(()=>o[10]||(o[10]=[P("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1),P("span",{class:"text-[10px] mt-0.5 font-medium"},"Profile",-1)])),_:1})]),t.value?(K(),Y("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-30 backdrop-blur-sm z-40 transition-opacity duration-300",onClick:o[3]||(o[3]=l=>t.value=!1)},[P("div",AR,[P("div",{onClick:o[0]||(o[0]=l=>s("/issue/new")),class:"flex items-center px-4 py-3 hover:bg-blue-50 cursor-pointer transition-colors"},o[11]||(o[11]=[Io('<div class="w-10 h-10 rounded-full bg-gradient-to-r from-blue-500 to-blue-600 flex items-center justify-center mr-3 text-white shadow-sm" data-v-41b125a9><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-41b125a9><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z" data-v-41b125a9></path></svg></div><span class="font-medium" data-v-41b125a9>Create Issue</span><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-gray-400 ml-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-41b125a9><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-41b125a9></path></svg>',3)])),P("div",{onClick:o[1]||(o[1]=l=>s("/task/new")),class:"flex items-center px-4 py-3 hover:bg-purple-50 cursor-pointer transition-colors"},o[12]||(o[12]=[Io('<div class="w-10 h-10 rounded-full bg-gradient-to-r from-purple-500 to-purple-600 flex items-center justify-center mr-3 text-white shadow-sm" data-v-41b125a9><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-41b125a9><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" data-v-41b125a9></path></svg></div><span class="font-medium" data-v-41b125a9>Create Task</span><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-gray-400 ml-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-41b125a9><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-41b125a9></path></svg>',3)])),P("div",{onClick:o[2]||(o[2]=l=>s("/timesheet/new")),class:"flex items-center px-4 py-3 hover:bg-green-50 cursor-pointer transition-colors"},o[13]||(o[13]=[Io('<div class="w-10 h-10 rounded-full bg-gradient-to-r from-green-500 to-green-600 flex items-center justify-center mr-3 text-white shadow-sm" data-v-41b125a9><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-41b125a9><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" data-v-41b125a9></path></svg></div><span class="font-medium" data-v-41b125a9>Log Time</span><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-gray-400 ml-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-41b125a9><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-41b125a9></path></svg>',3)]))])])):Ae("",!0)],64)}}},LR=Vn(OR,[["__scopeId","data-v-41b125a9"]]),RR={class:"bg-gradient-to-r from-purple-800 to-blue-600 text-white p-5 relative overflow-hidden"},DR={class:"flex items-center mb-3 relative z-10"},IR=["src","alt"],jR={key:1,class:"h-full w-full flex items-center justify-center bg-blue-100 text-blue-600 font-bold text-xl"},NR={class:"flex-1 overflow-hidden"},zR={key:0,class:"animate-pulse"},BR={key:1},FR={class:"font-semibold text-lg truncate"},$R={key:0,class:"text-xs text-blue-100 truncate opacity-75 mt-0.5"},HR={class:"px-4 py-3 bg-gradient-to-b from-purple-800 to-purple-900 border-b border-purple-700"},VR={class:"relative group"},WR={class:"bg-gradient-to-b from-purple-900 to-blue-900 h-[calc(100%-160px)] overflow-y-auto"},UR={class:"py-2"},ZR={class:"flex items-center w-full"},KR={class:"flex items-center w-full"},qR={class:"relative my-1"},GR={class:"flex items-center justify-between w-full"},JR={class:"flex items-center"},YR={class:"relative my-1"},XR={class:"flex items-center justify-between w-full"},QR={class:"flex items-center"},eD={class:"flex items-center w-full"},tD={class:"flex items-center w-full"},nD={class:"absolute bottom-0 w-full bg-gradient-to-r from-purple-900 to-blue-900 border-t border-purple-800 py-3 px-4"},iD={class:"flex items-center justify-between"},sD={__name:"AppSidebar",props:{isOpen:{type:Boolean,default:!1},isMobile:{type:Boolean,default:!1}},emits:["toggle"],setup(n,{emit:e}){const t=e,i=Rm(),s=pe(null),r=pe([]),o=pe(!0),a=pe(""),l=pe(null),u=pe({issues:!1,tasks:!1}),d=yt(()=>i.path.startsWith("/issue")),f=yt(()=>i.path.startsWith("/task")),p=yt(()=>{const A=["System Manager","Location Manager","Manager"];return r.value.some(g=>A.includes(g))}),m=A=>{u.value[A]=!u.value[A]},_=()=>{t("toggle")},b=A=>A?A.split(" ").map(g=>g[0]).join("").toUpperCase().slice(0,2):"",k=A=>A?A.startsWith("/private/files")?`/api/method/frappe.utils.file_manager.download_file?file_url=${A}`:A:"",M=A=>{l.value=A,setTimeout(()=>{l.value===A&&(l.value=null)},1e3)},E=()=>Ke(this,null,function*(){o.value=!0;try{const A=yield fetch("/api/method/oms.api.get_current_user_info");if(!A.ok)throw new Error(`HTTP error! status: ${A.status}`);const g=yield A.json();if(g.message&&(s.value=g.message,r.value=g.message.roles||[],!s.value.user_id&&s.value.email)){const w=s.value.email.split("@");w.length>0&&(s.value.user_id=w[0])}}catch(A){console.error("Error fetching user data:",A),s.value={full_name:"User Name",email:"user@example.com",user_id:"USR001"},r.value=["Employee"]}finally{setTimeout(()=>{o.value=!1},500)}});return fi(()=>i.path,A=>{u.value.issues=A.startsWith("/issue"),u.value.tasks=A.startsWith("/task")},{immediate:!0}),ii(()=>{E()}),(A,g)=>{var v,S,T;const w=ia("router-link");return K(),Y("div",null,[n.isOpen&&n.isMobile?(K(),Y("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm z-40 transition-opacity duration-300",onClick:_})):Ae("",!0),P("div",{class:Ye(["fixed top-0 left-0 h-full z-40 transition-all duration-300 ease-in-out shadow-xl",[n.isMobile?"w-72":"w-64 lg:w-72",n.isOpen||!n.isMobile?"translate-x-0":"-translate-x-full"]])},[P("div",RR,[g[21]||(g[21]=P("div",{class:"absolute -right-6 -top-6 w-24 h-24 rounded-full bg-white opacity-10"},null,-1)),g[22]||(g[22]=P("div",{class:"absolute -left-6 -bottom-10 w-32 h-32 rounded-full bg-white opacity-10"},null,-1)),g[23]||(g[23]=P("div",{class:"absolute right-10 bottom-0 w-16 h-16 rounded-full bg-white opacity-10"},null,-1)),n.isMobile&&n.isOpen?(K(),Y("button",{key:0,onClick:_,class:"absolute top-3 right-3 z-50 p-1.5 rounded-full bg-white bg-opacity-20 text-white hover:bg-opacity-30 transition-all duration-200 transform hover:rotate-90","aria-label":"Close menu"},g[19]||(g[19]=[P("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))):Ae("",!0),P("div",DR,[P("div",{class:Ye(["h-14 w-14 rounded-full bg-white overflow-hidden flex items-center justify-center mr-3 shadow-md border-2 border-white transition-transform duration-300 hover:scale-105",{"animate-pulse":o.value}])},[s.value&&s.value.user_image?(K(),Y("img",{key:0,src:k(s.value.user_image),alt:s.value.full_name,class:"h-full w-full object-cover",onLoad:g[0]||(g[0]=O=>o.value=!1)},null,40,IR)):(K(),Y("div",jR,xe(b(((v=s.value)==null?void 0:v.full_name)||"User")),1))],2),P("div",NR,[o.value?(K(),Y("div",zR,g[20]||(g[20]=[P("div",{class:"h-5 bg-white bg-opacity-30 rounded w-3/4 mb-1"},null,-1),P("div",{class:"h-3 bg-white bg-opacity-30 rounded w-1/2"},null,-1)]))):(K(),Y("div",BR,[P("h3",FR,xe(((S=s.value)==null?void 0:S.full_name)||"User Name"),1),(T=s.value)!=null&&T.user_id?(K(),Y("p",$R,"ID: "+xe(s.value.user_id),1)):Ae("",!0)]))])])]),P("div",HR,[P("div",VR,[ps(P("input",{type:"text",placeholder:"Search...",class:"w-full bg-purple-700 bg-opacity-40 rounded-lg py-2 pl-9 pr-3 text-sm text-white placeholder-purple-300 focus:outline-none focus:ring-2 focus:ring-white focus:bg-purple-700 transition-all duration-200 group-hover:bg-purple-700","onUpdate:modelValue":g[1]||(g[1]=O=>a.value=O)},null,512),[[Vr,a.value]]),g[25]||(g[25]=P("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-purple-300 absolute left-3 top-2.5 transition-colors duration-200 group-hover:text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),a.value?(K(),Y("button",{key:0,onClick:g[2]||(g[2]=O=>a.value=""),class:"absolute right-3 top-2.5 text-purple-300 hover:text-white transition-colors duration-200"},g[24]||(g[24]=[P("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))):Ae("",!0)])]),P("div",WR,[P("nav",UR,[Pe(w,{to:"/",class:"group flex items-center px-4 py-2.5 mx-2 my-1 rounded-lg text-white hover:bg-white hover:bg-opacity-10 transition-all duration-200","active-class":"bg-white bg-opacity-20 text-white",onMouseenter:g[3]||(g[3]=O=>M("home")),onClick:g[4]||(g[4]=O=>n.isMobile&&_())},{default:$t(()=>[P("div",ZR,[P("div",{class:Ye(["flex items-center justify-center h-8 w-8 rounded-md bg-white bg-opacity-10 text-white group-hover:bg-opacity-20 transition-all duration-200",{"animate-bounce":l.value==="home"}])},g[26]||(g[26]=[P("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})],-1)]),2),g[27]||(g[27]=P("span",{class:"ml-3 font-medium"},"Home",-1))])]),_:1}),p.value?(K(),$n(w,{key:0,to:"/location-manager",class:"group flex items-center px-4 py-2.5 mx-2 my-1 rounded-lg text-white hover:bg-white hover:bg-opacity-10 transition-all duration-200","active-class":"bg-white bg-opacity-20 text-white",onMouseenter:g[5]||(g[5]=O=>M("location")),onClick:g[6]||(g[6]=O=>n.isMobile&&_())},{default:$t(()=>[P("div",KR,[P("div",{class:Ye(["flex items-center justify-center h-8 w-8 rounded-md bg-white bg-opacity-10 text-white group-hover:bg-opacity-20 transition-all duration-200",{"animate-bounce":l.value==="location"}])},g[28]||(g[28]=[P("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),P("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1)]),2),g[29]||(g[29]=P("span",{class:"ml-3 font-medium"},"Location Manager",-1))])]),_:1})):Ae("",!0),P("div",qR,[P("button",{onClick:g[7]||(g[7]=O=>m("issues")),onMouseenter:g[8]||(g[8]=O=>M("issues")),class:Ye(["group flex items-center px-4 py-2.5 mx-2 rounded-lg w-full text-white hover:bg-white hover:bg-opacity-10 transition-all duration-200",{"bg-white bg-opacity-20":d.value||u.value.issues}])},[P("div",GR,[P("div",JR,[P("div",{class:Ye(["flex items-center justify-center h-8 w-8 rounded-md bg-white bg-opacity-10 text-white group-hover:bg-opacity-20 transition-colors duration-200",{"animate-pulse":l.value==="issues"}])},g[30]||(g[30]=[P("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z"})],-1)]),2),g[31]||(g[31]=P("span",{class:"ml-3 font-medium"},"Issues",-1))]),(K(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",class:Ye(["h-4 w-4 transition-transform duration-300",{"rotate-180":u.value.issues}]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},g[32]||(g[32]=[P("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))])],34),P("div",{class:Ye(["overflow-hidden transition-all duration-300 pl-12 mx-2 rounded-b-lg",u.value.issues?"max-h-24 opacity-100 mt-1 mb-2":"max-h-0 opacity-0"])},[Pe(w,{to:"/issue",onClick:g[9]||(g[9]=O=>n.isMobile&&_()),class:"flex items-center px-4 py-2 text-sm text-white text-opacity-80 hover:bg-white hover:bg-opacity-10 hover:text-opacity-100 rounded-md transition-all duration-200 hover:translate-x-1","active-class":"text-white bg-white bg-opacity-10"},{default:$t(()=>g[33]||(g[33]=[P("span",null,"Issue List",-1)])),_:1}),Pe(w,{to:"/issue/new",onClick:g[10]||(g[10]=O=>n.isMobile&&_()),class:"flex items-center px-4 py-2 text-sm text-white text-opacity-80 hover:bg-white hover:bg-opacity-10 hover:text-opacity-100 rounded-md transition-all duration-200 hover:translate-x-1","active-class":"text-white bg-white bg-opacity-10"},{default:$t(()=>g[34]||(g[34]=[P("span",null,"New Issue",-1)])),_:1})],2)]),P("div",YR,[P("button",{onClick:g[11]||(g[11]=O=>m("tasks")),onMouseenter:g[12]||(g[12]=O=>M("tasks")),class:Ye(["group flex items-center px-4 py-2.5 mx-2 rounded-lg w-full text-white hover:bg-white hover:bg-opacity-10 transition-all duration-200",{"bg-white bg-opacity-20":f.value||u.value.tasks}])},[P("div",XR,[P("div",QR,[P("div",{class:Ye(["flex items-center justify-center h-8 w-8 rounded-md bg-white bg-opacity-10 text-white group-hover:bg-opacity-20 transition-colors duration-200",{"animate-pulse":l.value==="tasks"}])},g[35]||(g[35]=[P("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})],-1)]),2),g[36]||(g[36]=P("span",{class:"ml-3 font-medium"},"Tasks",-1))]),(K(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",class:Ye(["h-4 w-4 transition-transform duration-300",{"rotate-180":u.value.tasks}]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},g[37]||(g[37]=[P("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))])],34),P("div",{class:Ye(["overflow-hidden transition-all duration-300 pl-12 mx-2 rounded-b-lg",u.value.tasks?"max-h-24 opacity-100 mt-1 mb-2":"max-h-0 opacity-0"])},[Pe(w,{to:"/task",onClick:g[13]||(g[13]=O=>n.isMobile&&_()),class:"flex items-center px-4 py-2 text-sm text-white text-opacity-80 hover:bg-white hover:bg-opacity-10 hover:text-opacity-100 rounded-md transition-all duration-200 hover:translate-x-1","active-class":"text-white bg-white bg-opacity-10"},{default:$t(()=>g[38]||(g[38]=[P("span",null,"Task List",-1)])),_:1}),Pe(w,{to:"/task/new",onClick:g[14]||(g[14]=O=>n.isMobile&&_()),class:"flex items-center px-4 py-2 text-sm text-white text-opacity-80 hover:bg-white hover:bg-opacity-10 hover:text-opacity-100 rounded-md transition-all duration-200 hover:translate-x-1","active-class":"text-white bg-white bg-opacity-10"},{default:$t(()=>g[39]||(g[39]=[P("span",null,"New Task",-1)])),_:1})],2)]),Pe(w,{to:"/timesheet",class:"group flex items-center px-4 py-2.5 mx-2 my-1 rounded-lg text-white hover:bg-white hover:bg-opacity-10 transition-all duration-200","active-class":"bg-white bg-opacity-20 text-white",onMouseenter:g[15]||(g[15]=O=>M("timesheets")),onClick:g[16]||(g[16]=O=>n.isMobile&&_())},{default:$t(()=>[P("div",eD,[P("div",{class:Ye(["flex items-center justify-center h-8 w-8 rounded-md bg-white bg-opacity-10 text-white group-hover:bg-opacity-20 transition-colors duration-200",{"animate-pulse":l.value==="timesheets"}])},g[40]||(g[40]=[P("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)]),2),g[41]||(g[41]=P("span",{class:"ml-3 font-medium"},"Timesheets",-1))])]),_:1}),Pe(w,{to:"/profile",class:"group flex items-center px-4 py-2.5 mx-2 my-1 rounded-lg text-white hover:bg-white hover:bg-opacity-10 transition-all duration-200","active-class":"bg-white bg-opacity-20 text-white",onMouseenter:g[17]||(g[17]=O=>M("profile")),onClick:g[18]||(g[18]=O=>n.isMobile&&_())},{default:$t(()=>[P("div",tD,[P("div",{class:Ye(["flex items-center justify-center h-8 w-8 rounded-md bg-white bg-opacity-10 text-white group-hover:bg-opacity-20 transition-colors duration-200",{"animate-pulse":l.value==="profile"}])},g[42]||(g[42]=[P("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1)]),2),g[43]||(g[43]=P("span",{class:"ml-3 font-medium"},"My Profile",-1))])]),_:1})])]),P("div",nD,[P("div",iD,[g[45]||(g[45]=P("div",{class:"text-xs text-white text-opacity-70 flex items-center"},[P("div",{class:"w-2 h-2 rounded-full bg-green-400 mr-1.5 animate-pulse"}),P("span",null,"OMS v1.0.0")],-1)),Pe(w,{to:"/account/login",class:"p-2 rounded-full hover:bg-white hover:bg-opacity-10 text-white text-opacity-70 hover:text-opacity-100 transition-all duration-200"},{default:$t(()=>g[44]||(g[44]=[P("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1)])),_:1})])])],2)])}}},rD=Vn(sD,[["__scopeId","data-v-a359081b"]]),oD={class:"h-screen flex flex-col"},aD={key:0,class:"sticky top-0 z-30 w-full"},lD={class:"flex-1 overflow-y-auto bg-gray-50"},cD={key:1,class:"sticky bottom-0 z-30 md:hidden"},uD={__name:"App",setup(n){const e=Rm(),t=pe(!1),i=pe(!1),s=yt(()=>e.path==="/account/login"),r=yt(()=>e.path==="/profile"||e.path==="/issue/new"||e.path==="/account/login"||e.path.includes("/task/")||e.path.includes("/issue/")||e.path.includes("/timesheet/")||e.name&&(e.name.includes("Detail")||e.name.includes("Edit"))),o=()=>{i.value=window.innerWidth<768,!i.value&&!s.value?t.value=!0:t.value=!1};return fi(()=>e.path,a=>{a==="/account/login"&&(t.value=!1)}),ii(()=>{o(),window.addEventListener("resize",o),"serviceWorker"in navigator&&navigator.serviceWorker.register("/oms/sw.js").then(a=>{console.log("Service Worker registered with scope:",a.scope)}).catch(a=>{console.error("Service Worker registration failed:",a)})}),Sm(()=>{window.removeEventListener("resize",o)}),(a,l)=>{const u=ia("router-view");return K(),Y("div",oD,[i.value&&!t.value&&!s.value?(K(),Y("button",{key:0,onClick:l[0]||(l[0]=d=>t.value=!0),class:"fixed top-3 left-1 z-50 p-1.5 rounded-md md:hidden","aria-label":"Open menu"},l[2]||(l[2]=[P("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))):Ae("",!0),s.value?Ae("",!0):(K(),$n(rD,{key:1,isOpen:t.value,isMobile:i.value,onToggle:l[1]||(l[1]=d=>t.value=!t.value)},null,8,["isOpen","isMobile"])),P("div",{class:Ye(["flex-1 flex flex-col transition-all duration-300",[!s.value&&!i.value?"md:ml-64 lg:ml-72":""]])},[r.value?Ae("",!0):(K(),Y("div",aD,[Pe(TR)])),P("div",lD,[Pe(u)]),r.value?Ae("",!0):(K(),Y("div",cD,[Pe(LR)]))],2)])}}};var Lx={exports:{}};(function(n,e){(function(i,s){n.exports=s()})(typeof self!="undefined"?self:Dm,function(){return function(t){var i={};function s(r){if(i[r])return i[r].exports;var o=i[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,s),o.l=!0,o.exports}return s.m=t,s.c=i,s.d=function(r,o,a){s.o(r,o)||Object.defineProperty(r,o,{configurable:!1,enumerable:!0,get:a})},s.r=function(r){Object.defineProperty(r,"__esModule",{value:!0})},s.n=function(r){var o=r&&r.__esModule?function(){return r.default}:function(){return r};return s.d(o,"a",o),o},s.o=function(r,o){return Object.prototype.hasOwnProperty.call(r,o)},s.p="",s(s.s=0)}({"./dist/icons.json":function(t){t.exports={activity:'<polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>',airplay:'<path d="M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"></path><polygon points="12 15 17 21 7 21 12 15"></polygon>',"alert-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line>',"alert-octagon":'<polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line>',"alert-triangle":'<path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line>',"align-center":'<line x1="18" y1="10" x2="6" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="18" y1="18" x2="6" y2="18"></line>',"align-justify":'<line x1="21" y1="10" x2="3" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="21" y1="18" x2="3" y2="18"></line>',"align-left":'<line x1="17" y1="10" x2="3" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="17" y1="18" x2="3" y2="18"></line>',"align-right":'<line x1="21" y1="10" x2="7" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="21" y1="18" x2="7" y2="18"></line>',anchor:'<circle cx="12" cy="5" r="3"></circle><line x1="12" y1="22" x2="12" y2="8"></line><path d="M5 12H2a10 10 0 0 0 20 0h-3"></path>',aperture:'<circle cx="12" cy="12" r="10"></circle><line x1="14.31" y1="8" x2="20.05" y2="17.94"></line><line x1="9.69" y1="8" x2="21.17" y2="8"></line><line x1="7.38" y1="12" x2="13.12" y2="2.06"></line><line x1="9.69" y1="16" x2="3.95" y2="6.06"></line><line x1="14.31" y1="16" x2="2.83" y2="16"></line><line x1="16.62" y1="12" x2="10.88" y2="21.94"></line>',archive:'<polyline points="21 8 21 21 3 21 3 8"></polyline><rect x="1" y="3" width="22" height="5"></rect><line x1="10" y1="12" x2="14" y2="12"></line>',"arrow-down-circle":'<circle cx="12" cy="12" r="10"></circle><polyline points="8 12 12 16 16 12"></polyline><line x1="12" y1="8" x2="12" y2="16"></line>',"arrow-down-left":'<line x1="17" y1="7" x2="7" y2="17"></line><polyline points="17 17 7 17 7 7"></polyline>',"arrow-down-right":'<line x1="7" y1="7" x2="17" y2="17"></line><polyline points="17 7 17 17 7 17"></polyline>',"arrow-down":'<line x1="12" y1="5" x2="12" y2="19"></line><polyline points="19 12 12 19 5 12"></polyline>',"arrow-left-circle":'<circle cx="12" cy="12" r="10"></circle><polyline points="12 8 8 12 12 16"></polyline><line x1="16" y1="12" x2="8" y2="12"></line>',"arrow-left":'<line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline>',"arrow-right-circle":'<circle cx="12" cy="12" r="10"></circle><polyline points="12 16 16 12 12 8"></polyline><line x1="8" y1="12" x2="16" y2="12"></line>',"arrow-right":'<line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline>',"arrow-up-circle":'<circle cx="12" cy="12" r="10"></circle><polyline points="16 12 12 8 8 12"></polyline><line x1="12" y1="16" x2="12" y2="8"></line>',"arrow-up-left":'<line x1="17" y1="17" x2="7" y2="7"></line><polyline points="7 17 7 7 17 7"></polyline>',"arrow-up-right":'<line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline>',"arrow-up":'<line x1="12" y1="19" x2="12" y2="5"></line><polyline points="5 12 12 5 19 12"></polyline>',"at-sign":'<circle cx="12" cy="12" r="4"></circle><path d="M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-3.92 7.94"></path>',award:'<circle cx="12" cy="8" r="7"></circle><polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"></polyline>',"bar-chart-2":'<line x1="18" y1="20" x2="18" y2="10"></line><line x1="12" y1="20" x2="12" y2="4"></line><line x1="6" y1="20" x2="6" y2="14"></line>',"bar-chart":'<line x1="12" y1="20" x2="12" y2="10"></line><line x1="18" y1="20" x2="18" y2="4"></line><line x1="6" y1="20" x2="6" y2="16"></line>',"battery-charging":'<path d="M5 18H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3.19M15 6h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-3.19"></path><line x1="23" y1="13" x2="23" y2="11"></line><polyline points="11 6 7 12 13 12 9 18"></polyline>',battery:'<rect x="1" y="6" width="18" height="12" rx="2" ry="2"></rect><line x1="23" y1="13" x2="23" y2="11"></line>',"bell-off":'<path d="M13.73 21a2 2 0 0 1-3.46 0"></path><path d="M18.63 13A17.89 17.89 0 0 1 18 8"></path><path d="M6.26 6.26A5.86 5.86 0 0 0 6 8c0 7-3 9-3 9h14"></path><path d="M18 8a6 6 0 0 0-9.33-5"></path><line x1="1" y1="1" x2="23" y2="23"></line>',bell:'<path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path><path d="M13.73 21a2 2 0 0 1-3.46 0"></path>',bluetooth:'<polyline points="6.5 6.5 17.5 17.5 12 23 12 1 17.5 6.5 6.5 17.5"></polyline>',bold:'<path d="M6 4h8a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"></path><path d="M6 12h9a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"></path>',"book-open":'<path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path>',book:'<path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>',bookmark:'<path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"></path>',box:'<path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line>',briefcase:'<rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path>',calendar:'<rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line>',"camera-off":'<line x1="1" y1="1" x2="23" y2="23"></line><path d="M21 21H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3m3-3h6l2 3h4a2 2 0 0 1 2 2v9.34m-7.72-2.06a4 4 0 1 1-5.56-5.56"></path>',camera:'<path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"></path><circle cx="12" cy="13" r="4"></circle>',cast:'<path d="M2 16.1A5 5 0 0 1 5.9 20M2 12.05A9 9 0 0 1 9.95 20M2 8V6a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-6"></path><line x1="2" y1="20" x2="2.01" y2="20"></line>',"check-circle":'<path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline>',"check-square":'<polyline points="9 11 12 14 22 4"></polyline><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path>',check:'<polyline points="20 6 9 17 4 12"></polyline>',"chevron-down":'<polyline points="6 9 12 15 18 9"></polyline>',"chevron-left":'<polyline points="15 18 9 12 15 6"></polyline>',"chevron-right":'<polyline points="9 18 15 12 9 6"></polyline>',"chevron-up":'<polyline points="18 15 12 9 6 15"></polyline>',"chevrons-down":'<polyline points="7 13 12 18 17 13"></polyline><polyline points="7 6 12 11 17 6"></polyline>',"chevrons-left":'<polyline points="11 17 6 12 11 7"></polyline><polyline points="18 17 13 12 18 7"></polyline>',"chevrons-right":'<polyline points="13 17 18 12 13 7"></polyline><polyline points="6 17 11 12 6 7"></polyline>',"chevrons-up":'<polyline points="17 11 12 6 7 11"></polyline><polyline points="17 18 12 13 7 18"></polyline>',chrome:'<circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="4"></circle><line x1="21.17" y1="8" x2="12" y2="8"></line><line x1="3.95" y1="6.06" x2="8.54" y2="14"></line><line x1="10.88" y1="21.94" x2="15.46" y2="14"></line>',circle:'<circle cx="12" cy="12" r="10"></circle>',clipboard:'<path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect>',clock:'<circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline>',"cloud-drizzle":'<line x1="8" y1="19" x2="8" y2="21"></line><line x1="8" y1="13" x2="8" y2="15"></line><line x1="16" y1="19" x2="16" y2="21"></line><line x1="16" y1="13" x2="16" y2="15"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="12" y1="15" x2="12" y2="17"></line><path d="M20 16.58A5 5 0 0 0 18 7h-1.26A8 8 0 1 0 4 15.25"></path>',"cloud-lightning":'<path d="M19 16.9A5 5 0 0 0 18 7h-1.26a8 8 0 1 0-11.62 9"></path><polyline points="13 11 9 17 15 17 11 23"></polyline>',"cloud-off":'<path d="M22.61 16.95A5 5 0 0 0 18 10h-1.26a8 8 0 0 0-7.05-6M5 5a8 8 0 0 0 4 15h9a5 5 0 0 0 1.7-.3"></path><line x1="1" y1="1" x2="23" y2="23"></line>',"cloud-rain":'<line x1="16" y1="13" x2="16" y2="21"></line><line x1="8" y1="13" x2="8" y2="21"></line><line x1="12" y1="15" x2="12" y2="23"></line><path d="M20 16.58A5 5 0 0 0 18 7h-1.26A8 8 0 1 0 4 15.25"></path>',"cloud-snow":'<path d="M20 17.58A5 5 0 0 0 18 8h-1.26A8 8 0 1 0 4 16.25"></path><line x1="8" y1="16" x2="8.01" y2="16"></line><line x1="8" y1="20" x2="8.01" y2="20"></line><line x1="12" y1="18" x2="12.01" y2="18"></line><line x1="12" y1="22" x2="12.01" y2="22"></line><line x1="16" y1="16" x2="16.01" y2="16"></line><line x1="16" y1="20" x2="16.01" y2="20"></line>',cloud:'<path d="M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"></path>',code:'<polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline>',codepen:'<polygon points="12 2 22 8.5 22 15.5 12 22 2 15.5 2 8.5 12 2"></polygon><line x1="12" y1="22" x2="12" y2="15.5"></line><polyline points="22 8.5 12 15.5 2 8.5"></polyline><polyline points="2 15.5 12 8.5 22 15.5"></polyline><line x1="12" y1="2" x2="12" y2="8.5"></line>',codesandbox:'<path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="7.5 4.21 12 6.81 16.5 4.21"></polyline><polyline points="7.5 19.79 7.5 14.6 3 12"></polyline><polyline points="21 12 16.5 14.6 16.5 19.79"></polyline><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line>',coffee:'<path d="M18 8h1a4 4 0 0 1 0 8h-1"></path><path d="M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"></path><line x1="6" y1="1" x2="6" y2="4"></line><line x1="10" y1="1" x2="10" y2="4"></line><line x1="14" y1="1" x2="14" y2="4"></line>',columns:'<path d="M12 3h7a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-7m0-18H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h7m0-18v18"></path>',command:'<path d="M18 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3H6a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3V6a3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3h12a3 3 0 0 0 3-3 3 3 0 0 0-3-3z"></path>',compass:'<circle cx="12" cy="12" r="10"></circle><polygon points="16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"></polygon>',copy:'<rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>',"corner-down-left":'<polyline points="9 10 4 15 9 20"></polyline><path d="M20 4v7a4 4 0 0 1-4 4H4"></path>',"corner-down-right":'<polyline points="15 10 20 15 15 20"></polyline><path d="M4 4v7a4 4 0 0 0 4 4h12"></path>',"corner-left-down":'<polyline points="14 15 9 20 4 15"></polyline><path d="M20 4h-7a4 4 0 0 0-4 4v12"></path>',"corner-left-up":'<polyline points="14 9 9 4 4 9"></polyline><path d="M20 20h-7a4 4 0 0 1-4-4V4"></path>',"corner-right-down":'<polyline points="10 15 15 20 20 15"></polyline><path d="M4 4h7a4 4 0 0 1 4 4v12"></path>',"corner-right-up":'<polyline points="10 9 15 4 20 9"></polyline><path d="M4 20h7a4 4 0 0 0 4-4V4"></path>',"corner-up-left":'<polyline points="9 14 4 9 9 4"></polyline><path d="M20 20v-7a4 4 0 0 0-4-4H4"></path>',"corner-up-right":'<polyline points="15 14 20 9 15 4"></polyline><path d="M4 20v-7a4 4 0 0 1 4-4h12"></path>',cpu:'<rect x="4" y="4" width="16" height="16" rx="2" ry="2"></rect><rect x="9" y="9" width="6" height="6"></rect><line x1="9" y1="1" x2="9" y2="4"></line><line x1="15" y1="1" x2="15" y2="4"></line><line x1="9" y1="20" x2="9" y2="23"></line><line x1="15" y1="20" x2="15" y2="23"></line><line x1="20" y1="9" x2="23" y2="9"></line><line x1="20" y1="14" x2="23" y2="14"></line><line x1="1" y1="9" x2="4" y2="9"></line><line x1="1" y1="14" x2="4" y2="14"></line>',"credit-card":'<rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect><line x1="1" y1="10" x2="23" y2="10"></line>',crop:'<path d="M6.13 1L6 16a2 2 0 0 0 2 2h15"></path><path d="M1 6.13L16 6a2 2 0 0 1 2 2v15"></path>',crosshair:'<circle cx="12" cy="12" r="10"></circle><line x1="22" y1="12" x2="18" y2="12"></line><line x1="6" y1="12" x2="2" y2="12"></line><line x1="12" y1="6" x2="12" y2="2"></line><line x1="12" y1="22" x2="12" y2="18"></line>',database:'<ellipse cx="12" cy="5" rx="9" ry="3"></ellipse><path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"></path><path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"></path>',delete:'<path d="M21 4H8l-7 8 7 8h13a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z"></path><line x1="18" y1="9" x2="12" y2="15"></line><line x1="12" y1="9" x2="18" y2="15"></line>',disc:'<circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="3"></circle>',"divide-circle":'<line x1="8" y1="12" x2="16" y2="12"></line><line x1="12" y1="16" x2="12" y2="16"></line><line x1="12" y1="8" x2="12" y2="8"></line><circle cx="12" cy="12" r="10"></circle>',"divide-square":'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="8" y1="12" x2="16" y2="12"></line><line x1="12" y1="16" x2="12" y2="16"></line><line x1="12" y1="8" x2="12" y2="8"></line>',divide:'<circle cx="12" cy="6" r="2"></circle><line x1="5" y1="12" x2="19" y2="12"></line><circle cx="12" cy="18" r="2"></circle>',"dollar-sign":'<line x1="12" y1="1" x2="12" y2="23"></line><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>',"download-cloud":'<polyline points="8 17 12 21 16 17"></polyline><line x1="12" y1="12" x2="12" y2="21"></line><path d="M20.88 18.09A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.29"></path>',download:'<path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line>',dribbble:'<circle cx="12" cy="12" r="10"></circle><path d="M8.56 2.75c4.37 6.03 6.02 9.42 8.03 17.72m2.54-15.38c-3.72 4.35-8.94 5.66-16.88 5.85m19.5 1.9c-3.5-.93-6.63-.82-8.94 0-2.58.92-5.01 2.86-7.44 6.32"></path>',droplet:'<path d="M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"></path>',"edit-2":'<path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path>',"edit-3":'<path d="M12 20h9"></path><path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path>',edit:'<path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>',"external-link":'<path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line>',"eye-off":'<path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path><line x1="1" y1="1" x2="23" y2="23"></line>',eye:'<path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle>',facebook:'<path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path>',"fast-forward":'<polygon points="13 19 22 12 13 5 13 19"></polygon><polygon points="2 19 11 12 2 5 2 19"></polygon>',feather:'<path d="M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z"></path><line x1="16" y1="8" x2="2" y2="22"></line><line x1="17.5" y1="15" x2="9" y2="15"></line>',figma:'<path d="M5 5.5A3.5 3.5 0 0 1 8.5 2H12v7H8.5A3.5 3.5 0 0 1 5 5.5z"></path><path d="M12 2h3.5a3.5 3.5 0 1 1 0 7H12V2z"></path><path d="M12 12.5a3.5 3.5 0 1 1 7 0 3.5 3.5 0 1 1-7 0z"></path><path d="M5 19.5A3.5 3.5 0 0 1 8.5 16H12v3.5a3.5 3.5 0 1 1-7 0z"></path><path d="M5 12.5A3.5 3.5 0 0 1 8.5 9H12v7H8.5A3.5 3.5 0 0 1 5 12.5z"></path>',"file-minus":'<path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="9" y1="15" x2="15" y2="15"></line>',"file-plus":'<path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="12" y1="18" x2="12" y2="12"></line><line x1="9" y1="15" x2="15" y2="15"></line>',"file-text":'<path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline>',file:'<path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>',film:'<rect x="2" y="2" width="20" height="20" rx="2.18" ry="2.18"></rect><line x1="7" y1="2" x2="7" y2="22"></line><line x1="17" y1="2" x2="17" y2="22"></line><line x1="2" y1="12" x2="22" y2="12"></line><line x1="2" y1="7" x2="7" y2="7"></line><line x1="2" y1="17" x2="7" y2="17"></line><line x1="17" y1="17" x2="22" y2="17"></line><line x1="17" y1="7" x2="22" y2="7"></line>',filter:'<polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"></polygon>',flag:'<path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"></path><line x1="4" y1="22" x2="4" y2="15"></line>',"folder-minus":'<path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path><line x1="9" y1="14" x2="15" y2="14"></line>',"folder-plus":'<path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path><line x1="12" y1="11" x2="12" y2="17"></line><line x1="9" y1="14" x2="15" y2="14"></line>',folder:'<path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path>',framer:'<path d="M5 16V9h14V2H5l14 14h-7m-7 0l7 7v-7m-7 0h7"></path>',frown:'<circle cx="12" cy="12" r="10"></circle><path d="M16 16s-1.5-2-4-2-4 2-4 2"></path><line x1="9" y1="9" x2="9.01" y2="9"></line><line x1="15" y1="9" x2="15.01" y2="9"></line>',gift:'<polyline points="20 12 20 22 4 22 4 12"></polyline><rect x="2" y="7" width="20" height="5"></rect><line x1="12" y1="22" x2="12" y2="7"></line><path d="M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"></path><path d="M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"></path>',"git-branch":'<line x1="6" y1="3" x2="6" y2="15"></line><circle cx="18" cy="6" r="3"></circle><circle cx="6" cy="18" r="3"></circle><path d="M18 9a9 9 0 0 1-9 9"></path>',"git-commit":'<circle cx="12" cy="12" r="4"></circle><line x1="1.05" y1="12" x2="7" y2="12"></line><line x1="17.01" y1="12" x2="22.96" y2="12"></line>',"git-merge":'<circle cx="18" cy="18" r="3"></circle><circle cx="6" cy="6" r="3"></circle><path d="M6 21V9a9 9 0 0 0 9 9"></path>',"git-pull-request":'<circle cx="18" cy="18" r="3"></circle><circle cx="6" cy="6" r="3"></circle><path d="M13 6h3a2 2 0 0 1 2 2v7"></path><line x1="6" y1="9" x2="6" y2="21"></line>',github:'<path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>',gitlab:'<path d="M22.65 14.39L12 22.13 1.35 14.39a.84.84 0 0 1-.3-.94l1.22-3.78 2.44-7.51A.42.42 0 0 1 4.82 2a.43.43 0 0 1 .58 0 .42.42 0 0 1 .11.18l2.44 7.49h8.1l2.44-7.51A.42.42 0 0 1 18.6 2a.43.43 0 0 1 .58 0 .42.42 0 0 1 .11.18l2.44 7.51L23 13.45a.84.84 0 0 1-.35.94z"></path>',globe:'<circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path>',grid:'<rect x="3" y="3" width="7" height="7"></rect><rect x="14" y="3" width="7" height="7"></rect><rect x="14" y="14" width="7" height="7"></rect><rect x="3" y="14" width="7" height="7"></rect>',"hard-drive":'<line x1="22" y1="12" x2="2" y2="12"></line><path d="M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"></path><line x1="6" y1="16" x2="6.01" y2="16"></line><line x1="10" y1="16" x2="10.01" y2="16"></line>',hash:'<line x1="4" y1="9" x2="20" y2="9"></line><line x1="4" y1="15" x2="20" y2="15"></line><line x1="10" y1="3" x2="8" y2="21"></line><line x1="16" y1="3" x2="14" y2="21"></line>',headphones:'<path d="M3 18v-6a9 9 0 0 1 18 0v6"></path><path d="M21 19a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3zM3 19a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2v-3a2 2 0 0 0-2-2H3z"></path>',heart:'<path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>',"help-circle":'<circle cx="12" cy="12" r="10"></circle><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path><line x1="12" y1="17" x2="12.01" y2="17"></line>',hexagon:'<path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>',home:'<path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline>',image:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><circle cx="8.5" cy="8.5" r="1.5"></circle><polyline points="21 15 16 10 5 21"></polyline>',inbox:'<polyline points="22 12 16 12 14 15 10 15 8 12 2 12"></polyline><path d="M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"></path>',info:'<circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line>',instagram:'<rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>',italic:'<line x1="19" y1="4" x2="10" y2="4"></line><line x1="14" y1="20" x2="5" y2="20"></line><line x1="15" y1="4" x2="9" y2="20"></line>',key:'<path d="M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"></path>',layers:'<polygon points="12 2 2 7 12 12 22 7 12 2"></polygon><polyline points="2 17 12 22 22 17"></polyline><polyline points="2 12 12 17 22 12"></polyline>',layout:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="3" y1="9" x2="21" y2="9"></line><line x1="9" y1="21" x2="9" y2="9"></line>',"life-buoy":'<circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="4"></circle><line x1="4.93" y1="4.93" x2="9.17" y2="9.17"></line><line x1="14.83" y1="14.83" x2="19.07" y2="19.07"></line><line x1="14.83" y1="9.17" x2="19.07" y2="4.93"></line><line x1="14.83" y1="9.17" x2="18.36" y2="5.64"></line><line x1="4.93" y1="19.07" x2="9.17" y2="14.83"></line>',"link-2":'<path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line>',link:'<path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>',linkedin:'<path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle>',list:'<line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line>',loader:'<line x1="12" y1="2" x2="12" y2="6"></line><line x1="12" y1="18" x2="12" y2="22"></line><line x1="4.93" y1="4.93" x2="7.76" y2="7.76"></line><line x1="16.24" y1="16.24" x2="19.07" y2="19.07"></line><line x1="2" y1="12" x2="6" y2="12"></line><line x1="18" y1="12" x2="22" y2="12"></line><line x1="4.93" y1="19.07" x2="7.76" y2="16.24"></line><line x1="16.24" y1="7.76" x2="19.07" y2="4.93"></line>',lock:'<rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path>',"log-in":'<path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"></path><polyline points="10 17 15 12 10 7"></polyline><line x1="15" y1="12" x2="3" y2="12"></line>',"log-out":'<path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line>',mail:'<path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline>',"map-pin":'<path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle>',map:'<polygon points="1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"></polygon><line x1="8" y1="2" x2="8" y2="18"></line><line x1="16" y1="6" x2="16" y2="22"></line>',"maximize-2":'<polyline points="15 3 21 3 21 9"></polyline><polyline points="9 21 3 21 3 15"></polyline><line x1="21" y1="3" x2="14" y2="10"></line><line x1="3" y1="21" x2="10" y2="14"></line>',maximize:'<path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"></path>',meh:'<circle cx="12" cy="12" r="10"></circle><line x1="8" y1="15" x2="16" y2="15"></line><line x1="9" y1="9" x2="9.01" y2="9"></line><line x1="15" y1="9" x2="15.01" y2="9"></line>',menu:'<line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>',"message-circle":'<path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path>',"message-square":'<path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>',"mic-off":'<line x1="1" y1="1" x2="23" y2="23"></line><path d="M9 9v3a3 3 0 0 0 5.12 2.12M15 9.34V4a3 3 0 0 0-5.94-.6"></path><path d="M17 16.95A7 7 0 0 1 5 12v-2m14 0v2a7 7 0 0 1-.11 1.23"></path><line x1="12" y1="19" x2="12" y2="23"></line><line x1="8" y1="23" x2="16" y2="23"></line>',mic:'<path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path><path d="M19 10v2a7 7 0 0 1-14 0v-2"></path><line x1="12" y1="19" x2="12" y2="23"></line><line x1="8" y1="23" x2="16" y2="23"></line>',"minimize-2":'<polyline points="4 14 10 14 10 20"></polyline><polyline points="20 10 14 10 14 4"></polyline><line x1="14" y1="10" x2="21" y2="3"></line><line x1="3" y1="21" x2="10" y2="14"></line>',minimize:'<path d="M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"></path>',"minus-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="8" y1="12" x2="16" y2="12"></line>',"minus-square":'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="8" y1="12" x2="16" y2="12"></line>',minus:'<line x1="5" y1="12" x2="19" y2="12"></line>',monitor:'<rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect><line x1="8" y1="21" x2="16" y2="21"></line><line x1="12" y1="17" x2="12" y2="21"></line>',moon:'<path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>',"more-horizontal":'<circle cx="12" cy="12" r="1"></circle><circle cx="19" cy="12" r="1"></circle><circle cx="5" cy="12" r="1"></circle>',"more-vertical":'<circle cx="12" cy="12" r="1"></circle><circle cx="12" cy="5" r="1"></circle><circle cx="12" cy="19" r="1"></circle>',"mouse-pointer":'<path d="M3 3l7.07 16.97 2.51-7.39 7.39-2.51L3 3z"></path><path d="M13 13l6 6"></path>',move:'<polyline points="5 9 2 12 5 15"></polyline><polyline points="9 5 12 2 15 5"></polyline><polyline points="15 19 12 22 9 19"></polyline><polyline points="19 9 22 12 19 15"></polyline><line x1="2" y1="12" x2="22" y2="12"></line><line x1="12" y1="2" x2="12" y2="22"></line>',music:'<path d="M9 18V5l12-2v13"></path><circle cx="6" cy="18" r="3"></circle><circle cx="18" cy="16" r="3"></circle>',"navigation-2":'<polygon points="12 2 19 21 12 17 5 21 12 2"></polygon>',navigation:'<polygon points="3 11 22 2 13 21 11 13 3 11"></polygon>',octagon:'<polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon>',package:'<line x1="16.5" y1="9.4" x2="7.5" y2="4.21"></line><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line>',paperclip:'<path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"></path>',"pause-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="10" y1="15" x2="10" y2="9"></line><line x1="14" y1="15" x2="14" y2="9"></line>',pause:'<rect x="6" y="4" width="4" height="16"></rect><rect x="14" y="4" width="4" height="16"></rect>',"pen-tool":'<path d="M12 19l7-7 3 3-7 7-3-3z"></path><path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"></path><path d="M2 2l7.586 7.586"></path><circle cx="11" cy="11" r="2"></circle>',percent:'<line x1="19" y1="5" x2="5" y2="19"></line><circle cx="6.5" cy="6.5" r="2.5"></circle><circle cx="17.5" cy="17.5" r="2.5"></circle>',"phone-call":'<path d="M15.05 5A5 5 0 0 1 19 8.95M15.05 1A9 9 0 0 1 23 8.94m-1 7.98v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"phone-forwarded":'<polyline points="19 1 23 5 19 9"></polyline><line x1="15" y1="5" x2="23" y2="5"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"phone-incoming":'<polyline points="16 2 16 8 22 8"></polyline><line x1="23" y1="1" x2="16" y2="8"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"phone-missed":'<line x1="23" y1="1" x2="17" y2="7"></line><line x1="17" y1="1" x2="23" y2="7"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"phone-off":'<path d="M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91"></path><line x1="23" y1="1" x2="1" y2="23"></line>',"phone-outgoing":'<polyline points="23 7 23 1 17 1"></polyline><line x1="16" y1="8" x2="23" y2="1"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',phone:'<path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"pie-chart":'<path d="M21.21 15.89A10 10 0 1 1 8 2.83"></path><path d="M22 12A10 10 0 0 0 12 2v10z"></path>',"play-circle":'<circle cx="12" cy="12" r="10"></circle><polygon points="10 8 16 12 10 16 10 8"></polygon>',play:'<polygon points="5 3 19 12 5 21 5 3"></polygon>',"plus-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="16"></line><line x1="8" y1="12" x2="16" y2="12"></line>',"plus-square":'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="12" y1="8" x2="12" y2="16"></line><line x1="8" y1="12" x2="16" y2="12"></line>',plus:'<line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line>',pocket:'<path d="M4 3h16a2 2 0 0 1 2 2v6a10 10 0 0 1-10 10A10 10 0 0 1 2 11V5a2 2 0 0 1 2-2z"></path><polyline points="8 10 12 14 16 10"></polyline>',power:'<path d="M18.36 6.64a9 9 0 1 1-12.73 0"></path><line x1="12" y1="2" x2="12" y2="12"></line>',printer:'<polyline points="6 9 6 2 18 2 18 9"></polyline><path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"></path><rect x="6" y="14" width="12" height="8"></rect>',radio:'<circle cx="12" cy="12" r="2"></circle><path d="M16.24 7.76a6 6 0 0 1 0 8.49m-8.48-.01a6 6 0 0 1 0-8.49m11.31-2.82a10 10 0 0 1 0 14.14m-14.14 0a10 10 0 0 1 0-14.14"></path>',"refresh-ccw":'<polyline points="1 4 1 10 7 10"></polyline><polyline points="23 20 23 14 17 14"></polyline><path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"></path>',"refresh-cw":'<polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path>',repeat:'<polyline points="17 1 21 5 17 9"></polyline><path d="M3 11V9a4 4 0 0 1 4-4h14"></path><polyline points="7 23 3 19 7 15"></polyline><path d="M21 13v2a4 4 0 0 1-4 4H3"></path>',rewind:'<polygon points="11 19 2 12 11 5 11 19"></polygon><polygon points="22 19 13 12 22 5 22 19"></polygon>',"rotate-ccw":'<polyline points="1 4 1 10 7 10"></polyline><path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"></path>',"rotate-cw":'<polyline points="23 4 23 10 17 10"></polyline><path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"></path>',rss:'<path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle>',save:'<path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path><polyline points="17 21 17 13 7 13 7 21"></polyline><polyline points="7 3 7 8 15 8"></polyline>',scissors:'<circle cx="6" cy="6" r="3"></circle><circle cx="6" cy="18" r="3"></circle><line x1="20" y1="4" x2="8.12" y2="15.88"></line><line x1="14.47" y1="14.48" x2="20" y2="20"></line><line x1="8.12" y1="8.12" x2="12" y2="12"></line>',search:'<circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>',send:'<line x1="22" y1="2" x2="11" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>',server:'<rect x="2" y="2" width="20" height="8" rx="2" ry="2"></rect><rect x="2" y="14" width="20" height="8" rx="2" ry="2"></rect><line x1="6" y1="6" x2="6.01" y2="6"></line><line x1="6" y1="18" x2="6.01" y2="18"></line>',settings:'<circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>',"share-2":'<circle cx="18" cy="5" r="3"></circle><circle cx="6" cy="12" r="3"></circle><circle cx="18" cy="19" r="3"></circle><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>',share:'<path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"></path><polyline points="16 6 12 2 8 6"></polyline><line x1="12" y1="2" x2="12" y2="15"></line>',"shield-off":'<path d="M19.69 14a6.9 6.9 0 0 0 .31-2V5l-8-3-3.16 1.18"></path><path d="M4.73 4.73L4 5v7c0 6 8 10 8 10a20.29 20.29 0 0 0 5.62-4.38"></path><line x1="1" y1="1" x2="23" y2="23"></line>',shield:'<path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>',"shopping-bag":'<path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path><line x1="3" y1="6" x2="21" y2="6"></line><path d="M16 10a4 4 0 0 1-8 0"></path>',"shopping-cart":'<circle cx="9" cy="21" r="1"></circle><circle cx="20" cy="21" r="1"></circle><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>',shuffle:'<polyline points="16 3 21 3 21 8"></polyline><line x1="4" y1="20" x2="21" y2="3"></line><polyline points="21 16 21 21 16 21"></polyline><line x1="15" y1="15" x2="21" y2="21"></line><line x1="4" y1="4" x2="9" y2="9"></line>',sidebar:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="9" y1="3" x2="9" y2="21"></line>',"skip-back":'<polygon points="19 20 9 12 19 4 19 20"></polygon><line x1="5" y1="19" x2="5" y2="5"></line>',"skip-forward":'<polygon points="5 4 15 12 5 20 5 4"></polygon><line x1="19" y1="5" x2="19" y2="19"></line>',slack:'<path d="M14.5 10c-.83 0-1.5-.67-1.5-1.5v-5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5v5c0 .83-.67 1.5-1.5 1.5z"></path><path d="M20.5 10H19V8.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"></path><path d="M9.5 14c.83 0 1.5.67 1.5 1.5v5c0 .83-.67 1.5-1.5 1.5S8 21.33 8 20.5v-5c0-.83.67-1.5 1.5-1.5z"></path><path d="M3.5 14H5v1.5c0 .83-.67 1.5-1.5 1.5S2 16.33 2 15.5 2.67 14 3.5 14z"></path><path d="M14 14.5c0-.83.67-1.5 1.5-1.5h5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-5c-.83 0-1.5-.67-1.5-1.5z"></path><path d="M15.5 19H14v1.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5-.67-1.5-1.5-1.5z"></path><path d="M10 9.5C10 8.67 9.33 8 8.5 8h-5C2.67 8 2 8.67 2 9.5S2.67 11 3.5 11h5c.83 0 1.5-.67 1.5-1.5z"></path><path d="M8.5 5H10V3.5C10 2.67 9.33 2 8.5 2S7 2.67 7 3.5 7.67 5 8.5 5z"></path>',slash:'<circle cx="12" cy="12" r="10"></circle><line x1="4.93" y1="4.93" x2="19.07" y2="19.07"></line>',sliders:'<line x1="4" y1="21" x2="4" y2="14"></line><line x1="4" y1="10" x2="4" y2="3"></line><line x1="12" y1="21" x2="12" y2="12"></line><line x1="12" y1="8" x2="12" y2="3"></line><line x1="20" y1="21" x2="20" y2="16"></line><line x1="20" y1="12" x2="20" y2="3"></line><line x1="1" y1="14" x2="7" y2="14"></line><line x1="9" y1="8" x2="15" y2="8"></line><line x1="17" y1="16" x2="23" y2="16"></line>',smartphone:'<rect x="5" y="2" width="14" height="20" rx="2" ry="2"></rect><line x1="12" y1="18" x2="12.01" y2="18"></line>',smile:'<circle cx="12" cy="12" r="10"></circle><path d="M8 14s1.5 2 4 2 4-2 4-2"></path><line x1="9" y1="9" x2="9.01" y2="9"></line><line x1="15" y1="9" x2="15.01" y2="9"></line>',speaker:'<rect x="4" y="2" width="16" height="20" rx="2" ry="2"></rect><circle cx="12" cy="14" r="4"></circle><line x1="12" y1="6" x2="12.01" y2="6"></line>',square:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>',star:'<polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>',"stop-circle":'<circle cx="12" cy="12" r="10"></circle><rect x="9" y="9" width="6" height="6"></rect>',sun:'<circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>',sunrise:'<path d="M17 18a5 5 0 0 0-10 0"></path><line x1="12" y1="2" x2="12" y2="9"></line><line x1="4.22" y1="10.22" x2="5.64" y2="11.64"></line><line x1="1" y1="18" x2="3" y2="18"></line><line x1="21" y1="18" x2="23" y2="18"></line><line x1="18.36" y1="11.64" x2="19.78" y2="10.22"></line><line x1="23" y1="22" x2="1" y2="22"></line><polyline points="8 6 12 2 16 6"></polyline>',sunset:'<path d="M17 18a5 5 0 0 0-10 0"></path><line x1="12" y1="9" x2="12" y2="2"></line><line x1="4.22" y1="10.22" x2="5.64" y2="11.64"></line><line x1="1" y1="18" x2="3" y2="18"></line><line x1="21" y1="18" x2="23" y2="18"></line><line x1="18.36" y1="11.64" x2="19.78" y2="10.22"></line><line x1="23" y1="22" x2="1" y2="22"></line><polyline points="16 5 12 9 8 5"></polyline>',tablet:'<rect x="4" y="2" width="16" height="20" rx="2" ry="2"></rect><line x1="12" y1="18" x2="12.01" y2="18"></line>',tag:'<path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line>',target:'<circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="6"></circle><circle cx="12" cy="12" r="2"></circle>',terminal:'<polyline points="4 17 10 11 4 5"></polyline><line x1="12" y1="19" x2="20" y2="19"></line>',thermometer:'<path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"></path>',"thumbs-down":'<path d="M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"></path>',"thumbs-up":'<path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path>',"toggle-left":'<rect x="1" y="5" width="22" height="14" rx="7" ry="7"></rect><circle cx="8" cy="12" r="3"></circle>',"toggle-right":'<rect x="1" y="5" width="22" height="14" rx="7" ry="7"></rect><circle cx="16" cy="12" r="3"></circle>',tool:'<path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"></path>',"trash-2":'<polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line>',trash:'<polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>',trello:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><rect x="7" y="7" width="3" height="9"></rect><rect x="14" y="7" width="3" height="5"></rect>',"trending-down":'<polyline points="23 18 13.5 8.5 8.5 13.5 1 6"></polyline><polyline points="17 18 23 18 23 12"></polyline>',"trending-up":'<polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline><polyline points="17 6 23 6 23 12"></polyline>',triangle:'<path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path>',truck:'<rect x="1" y="3" width="15" height="13"></rect><polygon points="16 8 20 8 23 11 23 16 16 16 16 8"></polygon><circle cx="5.5" cy="18.5" r="2.5"></circle><circle cx="18.5" cy="18.5" r="2.5"></circle>',tv:'<rect x="2" y="7" width="20" height="15" rx="2" ry="2"></rect><polyline points="17 2 12 7 7 2"></polyline>',twitch:'<path d="M21 2H3v16h5v4l4-4h5l4-4V2zm-10 9V7m5 4V7"></path>',twitter:'<path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path>',type:'<polyline points="4 7 4 4 20 4 20 7"></polyline><line x1="9" y1="20" x2="15" y2="20"></line><line x1="12" y1="4" x2="12" y2="20"></line>',umbrella:'<path d="M23 12a11.05 11.05 0 0 0-22 0zm-5 7a3 3 0 0 1-6 0v-7"></path>',underline:'<path d="M6 3v7a6 6 0 0 0 6 6 6 6 0 0 0 6-6V3"></path><line x1="4" y1="21" x2="20" y2="21"></line>',unlock:'<rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 9.9-1"></path>',"upload-cloud":'<polyline points="16 16 12 12 8 16"></polyline><line x1="12" y1="12" x2="12" y2="21"></line><path d="M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3"></path><polyline points="16 16 12 12 8 16"></polyline>',upload:'<path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="17 8 12 3 7 8"></polyline><line x1="12" y1="3" x2="12" y2="15"></line>',"user-check":'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><polyline points="17 11 19 13 23 9"></polyline>',"user-minus":'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="23" y1="11" x2="17" y2="11"></line>',"user-plus":'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="20" y1="8" x2="20" y2="14"></line><line x1="23" y1="11" x2="17" y2="11"></line>',"user-x":'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="18" y1="8" x2="23" y2="13"></line><line x1="23" y1="8" x2="18" y2="13"></line>',user:'<path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle>',users:'<path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path>',"video-off":'<path d="M16 16v1a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h2m5.66 0H14a2 2 0 0 1 2 2v3.34l1 1L23 7v10"></path><line x1="1" y1="1" x2="23" y2="23"></line>',video:'<polygon points="23 7 16 12 23 17 23 7"></polygon><rect x="1" y="5" width="15" height="14" rx="2" ry="2"></rect>',voicemail:'<circle cx="5.5" cy="11.5" r="4.5"></circle><circle cx="18.5" cy="11.5" r="4.5"></circle><line x1="5.5" y1="16" x2="18.5" y2="16"></line>',"volume-1":'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M15.54 8.46a5 5 0 0 1 0 7.07"></path>',"volume-2":'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"></path>',"volume-x":'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><line x1="23" y1="9" x2="17" y2="15"></line><line x1="17" y1="9" x2="23" y2="15"></line>',volume:'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>',watch:'<circle cx="12" cy="12" r="7"></circle><polyline points="12 9 12 12 13.5 13.5"></polyline><path d="M16.51 17.35l-.35 3.83a2 2 0 0 1-2 1.82H9.83a2 2 0 0 1-2-1.82l-.35-3.83m.01-10.7l.35-3.83A2 2 0 0 1 9.83 1h4.35a2 2 0 0 1 2 1.82l.35 3.83"></path>',"wifi-off":'<line x1="1" y1="1" x2="23" y2="23"></line><path d="M16.72 11.06A10.94 10.94 0 0 1 19 12.55"></path><path d="M5 12.55a10.94 10.94 0 0 1 5.17-2.39"></path><path d="M10.71 5.05A16 16 0 0 1 22.58 9"></path><path d="M1.42 9a15.91 15.91 0 0 1 4.7-2.88"></path><path d="M8.53 16.11a6 6 0 0 1 6.95 0"></path><line x1="12" y1="20" x2="12.01" y2="20"></line>',wifi:'<path d="M5 12.55a11 11 0 0 1 14.08 0"></path><path d="M1.42 9a16 16 0 0 1 21.16 0"></path><path d="M8.53 16.11a6 6 0 0 1 6.95 0"></path><line x1="12" y1="20" x2="12.01" y2="20"></line>',wind:'<path d="M9.59 4.59A2 2 0 1 1 11 8H2m10.59 11.41A2 2 0 1 0 14 16H2m15.73-8.27A2.5 2.5 0 1 1 19.5 12H2"></path>',"x-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line>',"x-octagon":'<polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line>',"x-square":'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="9" y1="9" x2="15" y2="15"></line><line x1="15" y1="9" x2="9" y2="15"></line>',x:'<line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line>',youtube:'<path d="M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"></path><polygon points="9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"></polygon>',"zap-off":'<polyline points="12.41 6.75 13 2 10.57 4.92"></polyline><polyline points="18.57 12.91 21 10 15.66 10"></polyline><polyline points="8 8 3 14 12 14 11 22 16 16"></polyline><line x1="1" y1="1" x2="23" y2="23"></line>',zap:'<polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon>',"zoom-in":'<circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line><line x1="11" y1="8" x2="11" y2="14"></line><line x1="8" y1="11" x2="14" y2="11"></line>',"zoom-out":'<circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line><line x1="8" y1="11" x2="14" y2="11"></line>'}},"./node_modules/classnames/dedupe.js":function(t,i,s){var r,o;/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){var a=function(){function l(){}l.prototype=Object.create(null);function u(M,E){for(var A=E.length,g=0;g<A;++g)b(M,E[g])}var d={}.hasOwnProperty;function f(M,E){M[E]=!0}function p(M,E){for(var A in E)d.call(E,A)&&(M[A]=!!E[A])}var m=/\s+/;function _(M,E){for(var A=E.split(m),g=A.length,w=0;w<g;++w)M[A[w]]=!0}function b(M,E){if(E){var A=typeof E;A==="string"?_(M,E):Array.isArray(E)?u(M,E):A==="object"?p(M,E):A==="number"&&f(M,E)}}function k(){for(var M=arguments.length,E=Array(M),A=0;A<M;A++)E[A]=arguments[A];var g=new l;u(g,E);var w=[];for(var v in g)g[v]&&w.push(v);return w.join(" ")}return k}();typeof t!="undefined"&&t.exports?t.exports=a:(r=[],o=function(){return a}.apply(i,r),o!==void 0&&(t.exports=o))})()},"./node_modules/core-js/es/array/from.js":function(t,i,s){s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.from.js");var r=s("./node_modules/core-js/internals/path.js");t.exports=r.Array.from},"./node_modules/core-js/internals/a-function.js":function(t,i){t.exports=function(s){if(typeof s!="function")throw TypeError(String(s)+" is not a function");return s}},"./node_modules/core-js/internals/an-object.js":function(t,i,s){var r=s("./node_modules/core-js/internals/is-object.js");t.exports=function(o){if(!r(o))throw TypeError(String(o)+" is not an object");return o}},"./node_modules/core-js/internals/array-from.js":function(t,i,s){var r=s("./node_modules/core-js/internals/bind-context.js"),o=s("./node_modules/core-js/internals/to-object.js"),a=s("./node_modules/core-js/internals/call-with-safe-iteration-closing.js"),l=s("./node_modules/core-js/internals/is-array-iterator-method.js"),u=s("./node_modules/core-js/internals/to-length.js"),d=s("./node_modules/core-js/internals/create-property.js"),f=s("./node_modules/core-js/internals/get-iterator-method.js");t.exports=function(m){var _=o(m),b=typeof this=="function"?this:Array,k=arguments.length,M=k>1?arguments[1]:void 0,E=M!==void 0,A=0,g=f(_),w,v,S,T;if(E&&(M=r(M,k>2?arguments[2]:void 0,2)),g!=null&&!(b==Array&&l(g)))for(T=g.call(_),v=new b;!(S=T.next()).done;A++)d(v,A,E?a(T,M,[S.value,A],!0):S.value);else for(w=u(_.length),v=new b(w);w>A;A++)d(v,A,E?M(_[A],A):_[A]);return v.length=A,v}},"./node_modules/core-js/internals/array-includes.js":function(t,i,s){var r=s("./node_modules/core-js/internals/to-indexed-object.js"),o=s("./node_modules/core-js/internals/to-length.js"),a=s("./node_modules/core-js/internals/to-absolute-index.js");t.exports=function(l){return function(u,d,f){var p=r(u),m=o(p.length),_=a(f,m),b;if(l&&d!=d){for(;m>_;)if(b=p[_++],b!=b)return!0}else for(;m>_;_++)if((l||_ in p)&&p[_]===d)return l||_||0;return!l&&-1}}},"./node_modules/core-js/internals/bind-context.js":function(t,i,s){var r=s("./node_modules/core-js/internals/a-function.js");t.exports=function(o,a,l){if(r(o),a===void 0)return o;switch(l){case 0:return function(){return o.call(a)};case 1:return function(u){return o.call(a,u)};case 2:return function(u,d){return o.call(a,u,d)};case 3:return function(u,d,f){return o.call(a,u,d,f)}}return function(){return o.apply(a,arguments)}}},"./node_modules/core-js/internals/call-with-safe-iteration-closing.js":function(t,i,s){var r=s("./node_modules/core-js/internals/an-object.js");t.exports=function(o,a,l,u){try{return u?a(r(l)[0],l[1]):a(l)}catch(f){var d=o.return;throw d!==void 0&&r(d.call(o)),f}}},"./node_modules/core-js/internals/check-correctness-of-iteration.js":function(t,i,s){var r=s("./node_modules/core-js/internals/well-known-symbol.js"),o=r("iterator"),a=!1;try{var l=0,u={next:function(){return{done:!!l++}},return:function(){a=!0}};u[o]=function(){return this},Array.from(u,function(){throw 2})}catch(d){}t.exports=function(d,f){if(!f&&!a)return!1;var p=!1;try{var m={};m[o]=function(){return{next:function(){return{done:p=!0}}}},d(m)}catch(_){}return p}},"./node_modules/core-js/internals/classof-raw.js":function(t,i){var s={}.toString;t.exports=function(r){return s.call(r).slice(8,-1)}},"./node_modules/core-js/internals/classof.js":function(t,i,s){var r=s("./node_modules/core-js/internals/classof-raw.js"),o=s("./node_modules/core-js/internals/well-known-symbol.js"),a=o("toStringTag"),l=r(function(){return arguments}())=="Arguments",u=function(d,f){try{return d[f]}catch(p){}};t.exports=function(d){var f,p,m;return d===void 0?"Undefined":d===null?"Null":typeof(p=u(f=Object(d),a))=="string"?p:l?r(f):(m=r(f))=="Object"&&typeof f.callee=="function"?"Arguments":m}},"./node_modules/core-js/internals/copy-constructor-properties.js":function(t,i,s){var r=s("./node_modules/core-js/internals/has.js"),o=s("./node_modules/core-js/internals/own-keys.js"),a=s("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),l=s("./node_modules/core-js/internals/object-define-property.js");t.exports=function(u,d){for(var f=o(d),p=l.f,m=a.f,_=0;_<f.length;_++){var b=f[_];r(u,b)||p(u,b,m(d,b))}}},"./node_modules/core-js/internals/correct-prototype-getter.js":function(t,i,s){var r=s("./node_modules/core-js/internals/fails.js");t.exports=!r(function(){function o(){}return o.prototype.constructor=null,Object.getPrototypeOf(new o)!==o.prototype})},"./node_modules/core-js/internals/create-iterator-constructor.js":function(t,i,s){var r=s("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,o=s("./node_modules/core-js/internals/object-create.js"),a=s("./node_modules/core-js/internals/create-property-descriptor.js"),l=s("./node_modules/core-js/internals/set-to-string-tag.js"),u=s("./node_modules/core-js/internals/iterators.js"),d=function(){return this};t.exports=function(f,p,m){var _=p+" Iterator";return f.prototype=o(r,{next:a(1,m)}),l(f,_,!1,!0),u[_]=d,f}},"./node_modules/core-js/internals/create-property-descriptor.js":function(t,i){t.exports=function(s,r){return{enumerable:!(s&1),configurable:!(s&2),writable:!(s&4),value:r}}},"./node_modules/core-js/internals/create-property.js":function(t,i,s){var r=s("./node_modules/core-js/internals/to-primitive.js"),o=s("./node_modules/core-js/internals/object-define-property.js"),a=s("./node_modules/core-js/internals/create-property-descriptor.js");t.exports=function(l,u,d){var f=r(u);f in l?o.f(l,f,a(0,d)):l[f]=d}},"./node_modules/core-js/internals/define-iterator.js":function(t,i,s){var r=s("./node_modules/core-js/internals/export.js"),o=s("./node_modules/core-js/internals/create-iterator-constructor.js"),a=s("./node_modules/core-js/internals/object-get-prototype-of.js"),l=s("./node_modules/core-js/internals/object-set-prototype-of.js"),u=s("./node_modules/core-js/internals/set-to-string-tag.js"),d=s("./node_modules/core-js/internals/hide.js"),f=s("./node_modules/core-js/internals/redefine.js"),p=s("./node_modules/core-js/internals/well-known-symbol.js"),m=s("./node_modules/core-js/internals/is-pure.js"),_=s("./node_modules/core-js/internals/iterators.js"),b=s("./node_modules/core-js/internals/iterators-core.js"),k=b.IteratorPrototype,M=b.BUGGY_SAFARI_ITERATORS,E=p("iterator"),A="keys",g="values",w="entries",v=function(){return this};t.exports=function(S,T,O,I,N,B,V){o(O,T,I);var W=function(Ee){if(Ee===N&&ee)return ee;if(!M&&Ee in z)return z[Ee];switch(Ee){case A:return function(){return new O(this,Ee)};case g:return function(){return new O(this,Ee)};case w:return function(){return new O(this,Ee)}}return function(){return new O(this)}},Z=T+" Iterator",R=!1,z=S.prototype,H=z[E]||z["@@iterator"]||N&&z[N],ee=!M&&H||W(N),G=T=="Array"&&z.entries||H,te,we,Te;if(G&&(te=a(G.call(new S)),k!==Object.prototype&&te.next&&(!m&&a(te)!==k&&(l?l(te,k):typeof te[E]!="function"&&d(te,E,v)),u(te,Z,!0,!0),m&&(_[Z]=v))),N==g&&H&&H.name!==g&&(R=!0,ee=function(){return H.call(this)}),(!m||V)&&z[E]!==ee&&d(z,E,ee),_[T]=ee,N)if(we={values:W(g),keys:B?ee:W(A),entries:W(w)},V)for(Te in we)(M||R||!(Te in z))&&f(z,Te,we[Te]);else r({target:T,proto:!0,forced:M||R},we);return we}},"./node_modules/core-js/internals/descriptors.js":function(t,i,s){var r=s("./node_modules/core-js/internals/fails.js");t.exports=!r(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},"./node_modules/core-js/internals/document-create-element.js":function(t,i,s){var r=s("./node_modules/core-js/internals/global.js"),o=s("./node_modules/core-js/internals/is-object.js"),a=r.document,l=o(a)&&o(a.createElement);t.exports=function(u){return l?a.createElement(u):{}}},"./node_modules/core-js/internals/enum-bug-keys.js":function(t,i){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"./node_modules/core-js/internals/export.js":function(t,i,s){var r=s("./node_modules/core-js/internals/global.js"),o=s("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,a=s("./node_modules/core-js/internals/hide.js"),l=s("./node_modules/core-js/internals/redefine.js"),u=s("./node_modules/core-js/internals/set-global.js"),d=s("./node_modules/core-js/internals/copy-constructor-properties.js"),f=s("./node_modules/core-js/internals/is-forced.js");t.exports=function(p,m){var _=p.target,b=p.global,k=p.stat,M,E,A,g,w,v;if(b?E=r:k?E=r[_]||u(_,{}):E=(r[_]||{}).prototype,E)for(A in m){if(w=m[A],p.noTargetGet?(v=o(E,A),g=v&&v.value):g=E[A],M=f(b?A:_+(k?".":"#")+A,p.forced),!M&&g!==void 0){if(typeof w==typeof g)continue;d(w,g)}(p.sham||g&&g.sham)&&a(w,"sham",!0),l(E,A,w,p)}}},"./node_modules/core-js/internals/fails.js":function(t,i){t.exports=function(s){try{return!!s()}catch(r){return!0}}},"./node_modules/core-js/internals/function-to-string.js":function(t,i,s){var r=s("./node_modules/core-js/internals/shared.js");t.exports=r("native-function-to-string",Function.toString)},"./node_modules/core-js/internals/get-iterator-method.js":function(t,i,s){var r=s("./node_modules/core-js/internals/classof.js"),o=s("./node_modules/core-js/internals/iterators.js"),a=s("./node_modules/core-js/internals/well-known-symbol.js"),l=a("iterator");t.exports=function(u){if(u!=null)return u[l]||u["@@iterator"]||o[r(u)]}},"./node_modules/core-js/internals/global.js":function(t,i,s){(function(r){var o="object",a=function(l){return l&&l.Math==Math&&l};t.exports=a(typeof globalThis==o&&globalThis)||a(typeof window==o&&window)||a(typeof self==o&&self)||a(typeof r==o&&r)||Function("return this")()}).call(this,s("./node_modules/webpack/buildin/global.js"))},"./node_modules/core-js/internals/has.js":function(t,i){var s={}.hasOwnProperty;t.exports=function(r,o){return s.call(r,o)}},"./node_modules/core-js/internals/hidden-keys.js":function(t,i){t.exports={}},"./node_modules/core-js/internals/hide.js":function(t,i,s){var r=s("./node_modules/core-js/internals/descriptors.js"),o=s("./node_modules/core-js/internals/object-define-property.js"),a=s("./node_modules/core-js/internals/create-property-descriptor.js");t.exports=r?function(l,u,d){return o.f(l,u,a(1,d))}:function(l,u,d){return l[u]=d,l}},"./node_modules/core-js/internals/html.js":function(t,i,s){var r=s("./node_modules/core-js/internals/global.js"),o=r.document;t.exports=o&&o.documentElement},"./node_modules/core-js/internals/ie8-dom-define.js":function(t,i,s){var r=s("./node_modules/core-js/internals/descriptors.js"),o=s("./node_modules/core-js/internals/fails.js"),a=s("./node_modules/core-js/internals/document-create-element.js");t.exports=!r&&!o(function(){return Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a!=7})},"./node_modules/core-js/internals/indexed-object.js":function(t,i,s){var r=s("./node_modules/core-js/internals/fails.js"),o=s("./node_modules/core-js/internals/classof-raw.js"),a="".split;t.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(l){return o(l)=="String"?a.call(l,""):Object(l)}:Object},"./node_modules/core-js/internals/internal-state.js":function(t,i,s){var r=s("./node_modules/core-js/internals/native-weak-map.js"),o=s("./node_modules/core-js/internals/global.js"),a=s("./node_modules/core-js/internals/is-object.js"),l=s("./node_modules/core-js/internals/hide.js"),u=s("./node_modules/core-js/internals/has.js"),d=s("./node_modules/core-js/internals/shared-key.js"),f=s("./node_modules/core-js/internals/hidden-keys.js"),p=o.WeakMap,m,_,b,k=function(S){return b(S)?_(S):m(S,{})},M=function(S){return function(T){var O;if(!a(T)||(O=_(T)).type!==S)throw TypeError("Incompatible receiver, "+S+" required");return O}};if(r){var E=new p,A=E.get,g=E.has,w=E.set;m=function(S,T){return w.call(E,S,T),T},_=function(S){return A.call(E,S)||{}},b=function(S){return g.call(E,S)}}else{var v=d("state");f[v]=!0,m=function(S,T){return l(S,v,T),T},_=function(S){return u(S,v)?S[v]:{}},b=function(S){return u(S,v)}}t.exports={set:m,get:_,has:b,enforce:k,getterFor:M}},"./node_modules/core-js/internals/is-array-iterator-method.js":function(t,i,s){var r=s("./node_modules/core-js/internals/well-known-symbol.js"),o=s("./node_modules/core-js/internals/iterators.js"),a=r("iterator"),l=Array.prototype;t.exports=function(u){return u!==void 0&&(o.Array===u||l[a]===u)}},"./node_modules/core-js/internals/is-forced.js":function(t,i,s){var r=s("./node_modules/core-js/internals/fails.js"),o=/#|\.prototype\./,a=function(p,m){var _=u[l(p)];return _==f?!0:_==d?!1:typeof m=="function"?r(m):!!m},l=a.normalize=function(p){return String(p).replace(o,".").toLowerCase()},u=a.data={},d=a.NATIVE="N",f=a.POLYFILL="P";t.exports=a},"./node_modules/core-js/internals/is-object.js":function(t,i){t.exports=function(s){return typeof s=="object"?s!==null:typeof s=="function"}},"./node_modules/core-js/internals/is-pure.js":function(t,i){t.exports=!1},"./node_modules/core-js/internals/iterators-core.js":function(t,i,s){var r=s("./node_modules/core-js/internals/object-get-prototype-of.js"),o=s("./node_modules/core-js/internals/hide.js"),a=s("./node_modules/core-js/internals/has.js"),l=s("./node_modules/core-js/internals/well-known-symbol.js"),u=s("./node_modules/core-js/internals/is-pure.js"),d=l("iterator"),f=!1,p=function(){return this},m,_,b;[].keys&&(b=[].keys(),"next"in b?(_=r(r(b)),_!==Object.prototype&&(m=_)):f=!0),m==null&&(m={}),!u&&!a(m,d)&&o(m,d,p),t.exports={IteratorPrototype:m,BUGGY_SAFARI_ITERATORS:f}},"./node_modules/core-js/internals/iterators.js":function(t,i){t.exports={}},"./node_modules/core-js/internals/native-symbol.js":function(t,i,s){var r=s("./node_modules/core-js/internals/fails.js");t.exports=!!Object.getOwnPropertySymbols&&!r(function(){return!String(Symbol())})},"./node_modules/core-js/internals/native-weak-map.js":function(t,i,s){var r=s("./node_modules/core-js/internals/global.js"),o=s("./node_modules/core-js/internals/function-to-string.js"),a=r.WeakMap;t.exports=typeof a=="function"&&/native code/.test(o.call(a))},"./node_modules/core-js/internals/object-create.js":function(t,i,s){var r=s("./node_modules/core-js/internals/an-object.js"),o=s("./node_modules/core-js/internals/object-define-properties.js"),a=s("./node_modules/core-js/internals/enum-bug-keys.js"),l=s("./node_modules/core-js/internals/hidden-keys.js"),u=s("./node_modules/core-js/internals/html.js"),d=s("./node_modules/core-js/internals/document-create-element.js"),f=s("./node_modules/core-js/internals/shared-key.js"),p=f("IE_PROTO"),m="prototype",_=function(){},b=function(){var k=d("iframe"),M=a.length,E="<",A="script",g=">",w="java"+A+":",v;for(k.style.display="none",u.appendChild(k),k.src=String(w),v=k.contentWindow.document,v.open(),v.write(E+A+g+"document.F=Object"+E+"/"+A+g),v.close(),b=v.F;M--;)delete b[m][a[M]];return b()};t.exports=Object.create||function(M,E){var A;return M!==null?(_[m]=r(M),A=new _,_[m]=null,A[p]=M):A=b(),E===void 0?A:o(A,E)},l[p]=!0},"./node_modules/core-js/internals/object-define-properties.js":function(t,i,s){var r=s("./node_modules/core-js/internals/descriptors.js"),o=s("./node_modules/core-js/internals/object-define-property.js"),a=s("./node_modules/core-js/internals/an-object.js"),l=s("./node_modules/core-js/internals/object-keys.js");t.exports=r?Object.defineProperties:function(d,f){a(d);for(var p=l(f),m=p.length,_=0,b;m>_;)o.f(d,b=p[_++],f[b]);return d}},"./node_modules/core-js/internals/object-define-property.js":function(t,i,s){var r=s("./node_modules/core-js/internals/descriptors.js"),o=s("./node_modules/core-js/internals/ie8-dom-define.js"),a=s("./node_modules/core-js/internals/an-object.js"),l=s("./node_modules/core-js/internals/to-primitive.js"),u=Object.defineProperty;i.f=r?u:function(f,p,m){if(a(f),p=l(p,!0),a(m),o)try{return u(f,p,m)}catch(_){}if("get"in m||"set"in m)throw TypeError("Accessors not supported");return"value"in m&&(f[p]=m.value),f}},"./node_modules/core-js/internals/object-get-own-property-descriptor.js":function(t,i,s){var r=s("./node_modules/core-js/internals/descriptors.js"),o=s("./node_modules/core-js/internals/object-property-is-enumerable.js"),a=s("./node_modules/core-js/internals/create-property-descriptor.js"),l=s("./node_modules/core-js/internals/to-indexed-object.js"),u=s("./node_modules/core-js/internals/to-primitive.js"),d=s("./node_modules/core-js/internals/has.js"),f=s("./node_modules/core-js/internals/ie8-dom-define.js"),p=Object.getOwnPropertyDescriptor;i.f=r?p:function(_,b){if(_=l(_),b=u(b,!0),f)try{return p(_,b)}catch(k){}if(d(_,b))return a(!o.f.call(_,b),_[b])}},"./node_modules/core-js/internals/object-get-own-property-names.js":function(t,i,s){var r=s("./node_modules/core-js/internals/object-keys-internal.js"),o=s("./node_modules/core-js/internals/enum-bug-keys.js"),a=o.concat("length","prototype");i.f=Object.getOwnPropertyNames||function(u){return r(u,a)}},"./node_modules/core-js/internals/object-get-own-property-symbols.js":function(t,i){i.f=Object.getOwnPropertySymbols},"./node_modules/core-js/internals/object-get-prototype-of.js":function(t,i,s){var r=s("./node_modules/core-js/internals/has.js"),o=s("./node_modules/core-js/internals/to-object.js"),a=s("./node_modules/core-js/internals/shared-key.js"),l=s("./node_modules/core-js/internals/correct-prototype-getter.js"),u=a("IE_PROTO"),d=Object.prototype;t.exports=l?Object.getPrototypeOf:function(f){return f=o(f),r(f,u)?f[u]:typeof f.constructor=="function"&&f instanceof f.constructor?f.constructor.prototype:f instanceof Object?d:null}},"./node_modules/core-js/internals/object-keys-internal.js":function(t,i,s){var r=s("./node_modules/core-js/internals/has.js"),o=s("./node_modules/core-js/internals/to-indexed-object.js"),a=s("./node_modules/core-js/internals/array-includes.js"),l=s("./node_modules/core-js/internals/hidden-keys.js"),u=a(!1);t.exports=function(d,f){var p=o(d),m=0,_=[],b;for(b in p)!r(l,b)&&r(p,b)&&_.push(b);for(;f.length>m;)r(p,b=f[m++])&&(~u(_,b)||_.push(b));return _}},"./node_modules/core-js/internals/object-keys.js":function(t,i,s){var r=s("./node_modules/core-js/internals/object-keys-internal.js"),o=s("./node_modules/core-js/internals/enum-bug-keys.js");t.exports=Object.keys||function(l){return r(l,o)}},"./node_modules/core-js/internals/object-property-is-enumerable.js":function(t,i,s){var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,a=o&&!r.call({1:2},1);i.f=a?function(u){var d=o(this,u);return!!d&&d.enumerable}:r},"./node_modules/core-js/internals/object-set-prototype-of.js":function(t,i,s){var r=s("./node_modules/core-js/internals/validate-set-prototype-of-arguments.js");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var o=!1,a={},l;try{l=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,l.call(a,[]),o=a instanceof Array}catch(u){}return function(d,f){return r(d,f),o?l.call(d,f):d.__proto__=f,d}}():void 0)},"./node_modules/core-js/internals/own-keys.js":function(t,i,s){var r=s("./node_modules/core-js/internals/global.js"),o=s("./node_modules/core-js/internals/object-get-own-property-names.js"),a=s("./node_modules/core-js/internals/object-get-own-property-symbols.js"),l=s("./node_modules/core-js/internals/an-object.js"),u=r.Reflect;t.exports=u&&u.ownKeys||function(f){var p=o.f(l(f)),m=a.f;return m?p.concat(m(f)):p}},"./node_modules/core-js/internals/path.js":function(t,i,s){t.exports=s("./node_modules/core-js/internals/global.js")},"./node_modules/core-js/internals/redefine.js":function(t,i,s){var r=s("./node_modules/core-js/internals/global.js"),o=s("./node_modules/core-js/internals/shared.js"),a=s("./node_modules/core-js/internals/hide.js"),l=s("./node_modules/core-js/internals/has.js"),u=s("./node_modules/core-js/internals/set-global.js"),d=s("./node_modules/core-js/internals/function-to-string.js"),f=s("./node_modules/core-js/internals/internal-state.js"),p=f.get,m=f.enforce,_=String(d).split("toString");o("inspectSource",function(b){return d.call(b)}),(t.exports=function(b,k,M,E){var A=E?!!E.unsafe:!1,g=E?!!E.enumerable:!1,w=E?!!E.noTargetGet:!1;if(typeof M=="function"&&(typeof k=="string"&&!l(M,"name")&&a(M,"name",k),m(M).source=_.join(typeof k=="string"?k:"")),b===r){g?b[k]=M:u(k,M);return}else A?!w&&b[k]&&(g=!0):delete b[k];g?b[k]=M:a(b,k,M)})(Function.prototype,"toString",function(){return typeof this=="function"&&p(this).source||d.call(this)})},"./node_modules/core-js/internals/require-object-coercible.js":function(t,i){t.exports=function(s){if(s==null)throw TypeError("Can't call method on "+s);return s}},"./node_modules/core-js/internals/set-global.js":function(t,i,s){var r=s("./node_modules/core-js/internals/global.js"),o=s("./node_modules/core-js/internals/hide.js");t.exports=function(a,l){try{o(r,a,l)}catch(u){r[a]=l}return l}},"./node_modules/core-js/internals/set-to-string-tag.js":function(t,i,s){var r=s("./node_modules/core-js/internals/object-define-property.js").f,o=s("./node_modules/core-js/internals/has.js"),a=s("./node_modules/core-js/internals/well-known-symbol.js"),l=a("toStringTag");t.exports=function(u,d,f){u&&!o(u=f?u:u.prototype,l)&&r(u,l,{configurable:!0,value:d})}},"./node_modules/core-js/internals/shared-key.js":function(t,i,s){var r=s("./node_modules/core-js/internals/shared.js"),o=s("./node_modules/core-js/internals/uid.js"),a=r("keys");t.exports=function(l){return a[l]||(a[l]=o(l))}},"./node_modules/core-js/internals/shared.js":function(t,i,s){var r=s("./node_modules/core-js/internals/global.js"),o=s("./node_modules/core-js/internals/set-global.js"),a=s("./node_modules/core-js/internals/is-pure.js"),l="__core-js_shared__",u=r[l]||o(l,{});(t.exports=function(d,f){return u[d]||(u[d]=f!==void 0?f:{})})("versions",[]).push({version:"3.1.3",mode:a?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},"./node_modules/core-js/internals/string-at.js":function(t,i,s){var r=s("./node_modules/core-js/internals/to-integer.js"),o=s("./node_modules/core-js/internals/require-object-coercible.js");t.exports=function(a,l,u){var d=String(o(a)),f=r(l),p=d.length,m,_;return f<0||f>=p?u?"":void 0:(m=d.charCodeAt(f),m<55296||m>56319||f+1===p||(_=d.charCodeAt(f+1))<56320||_>57343?u?d.charAt(f):m:u?d.slice(f,f+2):(m-55296<<10)+(_-56320)+65536)}},"./node_modules/core-js/internals/to-absolute-index.js":function(t,i,s){var r=s("./node_modules/core-js/internals/to-integer.js"),o=Math.max,a=Math.min;t.exports=function(l,u){var d=r(l);return d<0?o(d+u,0):a(d,u)}},"./node_modules/core-js/internals/to-indexed-object.js":function(t,i,s){var r=s("./node_modules/core-js/internals/indexed-object.js"),o=s("./node_modules/core-js/internals/require-object-coercible.js");t.exports=function(a){return r(o(a))}},"./node_modules/core-js/internals/to-integer.js":function(t,i){var s=Math.ceil,r=Math.floor;t.exports=function(o){return isNaN(o=+o)?0:(o>0?r:s)(o)}},"./node_modules/core-js/internals/to-length.js":function(t,i,s){var r=s("./node_modules/core-js/internals/to-integer.js"),o=Math.min;t.exports=function(a){return a>0?o(r(a),9007199254740991):0}},"./node_modules/core-js/internals/to-object.js":function(t,i,s){var r=s("./node_modules/core-js/internals/require-object-coercible.js");t.exports=function(o){return Object(r(o))}},"./node_modules/core-js/internals/to-primitive.js":function(t,i,s){var r=s("./node_modules/core-js/internals/is-object.js");t.exports=function(o,a){if(!r(o))return o;var l,u;if(a&&typeof(l=o.toString)=="function"&&!r(u=l.call(o))||typeof(l=o.valueOf)=="function"&&!r(u=l.call(o))||!a&&typeof(l=o.toString)=="function"&&!r(u=l.call(o)))return u;throw TypeError("Can't convert object to primitive value")}},"./node_modules/core-js/internals/uid.js":function(t,i){var s=0,r=Math.random();t.exports=function(o){return"Symbol(".concat(o===void 0?"":o,")_",(++s+r).toString(36))}},"./node_modules/core-js/internals/validate-set-prototype-of-arguments.js":function(t,i,s){var r=s("./node_modules/core-js/internals/is-object.js"),o=s("./node_modules/core-js/internals/an-object.js");t.exports=function(a,l){if(o(a),!r(l)&&l!==null)throw TypeError("Can't set "+String(l)+" as a prototype")}},"./node_modules/core-js/internals/well-known-symbol.js":function(t,i,s){var r=s("./node_modules/core-js/internals/global.js"),o=s("./node_modules/core-js/internals/shared.js"),a=s("./node_modules/core-js/internals/uid.js"),l=s("./node_modules/core-js/internals/native-symbol.js"),u=r.Symbol,d=o("wks");t.exports=function(f){return d[f]||(d[f]=l&&u[f]||(l?u:a)("Symbol."+f))}},"./node_modules/core-js/modules/es.array.from.js":function(t,i,s){var r=s("./node_modules/core-js/internals/export.js"),o=s("./node_modules/core-js/internals/array-from.js"),a=s("./node_modules/core-js/internals/check-correctness-of-iteration.js"),l=!a(function(u){Array.from(u)});r({target:"Array",stat:!0,forced:l},{from:o})},"./node_modules/core-js/modules/es.string.iterator.js":function(t,i,s){var r=s("./node_modules/core-js/internals/string-at.js"),o=s("./node_modules/core-js/internals/internal-state.js"),a=s("./node_modules/core-js/internals/define-iterator.js"),l="String Iterator",u=o.set,d=o.getterFor(l);a(String,"String",function(f){u(this,{type:l,string:String(f),index:0})},function(){var p=d(this),m=p.string,_=p.index,b;return _>=m.length?{value:void 0,done:!0}:(b=r(m,_,!0),p.index+=b.length,{value:b,done:!1})})},"./node_modules/webpack/buildin/global.js":function(t,i){var s;s=function(){return this}();try{s=s||Function("return this")()||(0,eval)("this")}catch(r){typeof window=="object"&&(s=window)}t.exports=s},"./src/default-attrs.json":function(t){t.exports={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"}},"./src/icon.js":function(t,i,s){Object.defineProperty(i,"__esModule",{value:!0});var r=Object.assign||function(b){for(var k=1;k<arguments.length;k++){var M=arguments[k];for(var E in M)Object.prototype.hasOwnProperty.call(M,E)&&(b[E]=M[E])}return b},o=function(){function b(k,M){for(var E=0;E<M.length;E++){var A=M[E];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(k,A.key,A)}}return function(k,M,E){return M&&b(k.prototype,M),E&&b(k,E),k}}(),a=s("./node_modules/classnames/dedupe.js"),l=f(a),u=s("./src/default-attrs.json"),d=f(u);function f(b){return b&&b.__esModule?b:{default:b}}function p(b,k){if(!(b instanceof k))throw new TypeError("Cannot call a class as a function")}var m=function(){function b(k,M){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];p(this,b),this.name=k,this.contents=M,this.tags=E,this.attrs=r({},d.default,{class:"feather feather-"+k})}return o(b,[{key:"toSvg",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},E=r({},this.attrs,M,{class:(0,l.default)(this.attrs.class,M.class)});return"<svg "+_(E)+">"+this.contents+"</svg>"}},{key:"toString",value:function(){return this.contents}}]),b}();function _(b){return Object.keys(b).map(function(k){return k+'="'+b[k]+'"'}).join(" ")}i.default=m},"./src/icons.js":function(t,i,s){Object.defineProperty(i,"__esModule",{value:!0});var r=s("./src/icon.js"),o=f(r),a=s("./dist/icons.json"),l=f(a),u=s("./src/tags.json"),d=f(u);function f(p){return p&&p.__esModule?p:{default:p}}i.default=Object.keys(l.default).map(function(p){return new o.default(p,l.default[p],d.default[p])}).reduce(function(p,m){return p[m.name]=m,p},{})},"./src/index.js":function(t,i,s){var r=s("./src/icons.js"),o=f(r),a=s("./src/to-svg.js"),l=f(a),u=s("./src/replace.js"),d=f(u);function f(p){return p&&p.__esModule?p:{default:p}}t.exports={icons:o.default,toSvg:l.default,replace:d.default}},"./src/replace.js":function(t,i,s){Object.defineProperty(i,"__esModule",{value:!0});var r=Object.assign||function(_){for(var b=1;b<arguments.length;b++){var k=arguments[b];for(var M in k)Object.prototype.hasOwnProperty.call(k,M)&&(_[M]=k[M])}return _},o=s("./node_modules/classnames/dedupe.js"),a=d(o),l=s("./src/icons.js"),u=d(l);function d(_){return _&&_.__esModule?_:{default:_}}function f(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof document=="undefined")throw new Error("`feather.replace()` only works in a browser environment.");var b=document.querySelectorAll("[data-feather]");Array.from(b).forEach(function(k){return p(k,_)})}function p(_){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},k=m(_),M=k["data-feather"];delete k["data-feather"];var E=u.default[M].toSvg(r({},b,k,{class:(0,a.default)(b.class,k.class)})),A=new DOMParser().parseFromString(E,"image/svg+xml"),g=A.querySelector("svg");_.parentNode.replaceChild(g,_)}function m(_){return Array.from(_.attributes).reduce(function(b,k){return b[k.name]=k.value,b},{})}i.default=f},"./src/tags.json":function(t){t.exports={activity:["pulse","health","action","motion"],airplay:["stream","cast","mirroring"],"alert-circle":["warning","alert","danger"],"alert-octagon":["warning","alert","danger"],"alert-triangle":["warning","alert","danger"],"align-center":["text alignment","center"],"align-justify":["text alignment","justified"],"align-left":["text alignment","left"],"align-right":["text alignment","right"],anchor:[],archive:["index","box"],"at-sign":["mention","at","email","message"],award:["achievement","badge"],aperture:["camera","photo"],"bar-chart":["statistics","diagram","graph"],"bar-chart-2":["statistics","diagram","graph"],battery:["power","electricity"],"battery-charging":["power","electricity"],bell:["alarm","notification","sound"],"bell-off":["alarm","notification","silent"],bluetooth:["wireless"],"book-open":["read","library"],book:["read","dictionary","booklet","magazine","library"],bookmark:["read","clip","marker","tag"],box:["cube"],briefcase:["work","bag","baggage","folder"],calendar:["date"],camera:["photo"],cast:["chromecast","airplay"],circle:["off","zero","record"],clipboard:["copy"],clock:["time","watch","alarm"],"cloud-drizzle":["weather","shower"],"cloud-lightning":["weather","bolt"],"cloud-rain":["weather"],"cloud-snow":["weather","blizzard"],cloud:["weather"],codepen:["logo"],codesandbox:["logo"],code:["source","programming"],coffee:["drink","cup","mug","tea","cafe","hot","beverage"],columns:["layout"],command:["keyboard","cmd","terminal","prompt"],compass:["navigation","safari","travel","direction"],copy:["clone","duplicate"],"corner-down-left":["arrow","return"],"corner-down-right":["arrow"],"corner-left-down":["arrow"],"corner-left-up":["arrow"],"corner-right-down":["arrow"],"corner-right-up":["arrow"],"corner-up-left":["arrow"],"corner-up-right":["arrow"],cpu:["processor","technology"],"credit-card":["purchase","payment","cc"],crop:["photo","image"],crosshair:["aim","target"],database:["storage","memory"],delete:["remove"],disc:["album","cd","dvd","music"],"dollar-sign":["currency","money","payment"],droplet:["water"],edit:["pencil","change"],"edit-2":["pencil","change"],"edit-3":["pencil","change"],eye:["view","watch"],"eye-off":["view","watch","hide","hidden"],"external-link":["outbound"],facebook:["logo","social"],"fast-forward":["music"],figma:["logo","design","tool"],"file-minus":["delete","remove","erase"],"file-plus":["add","create","new"],"file-text":["data","txt","pdf"],film:["movie","video"],filter:["funnel","hopper"],flag:["report"],"folder-minus":["directory"],"folder-plus":["directory"],folder:["directory"],framer:["logo","design","tool"],frown:["emoji","face","bad","sad","emotion"],gift:["present","box","birthday","party"],"git-branch":["code","version control"],"git-commit":["code","version control"],"git-merge":["code","version control"],"git-pull-request":["code","version control"],github:["logo","version control"],gitlab:["logo","version control"],globe:["world","browser","language","translate"],"hard-drive":["computer","server","memory","data"],hash:["hashtag","number","pound"],headphones:["music","audio","sound"],heart:["like","love","emotion"],"help-circle":["question mark"],hexagon:["shape","node.js","logo"],home:["house","living"],image:["picture"],inbox:["email"],instagram:["logo","camera"],key:["password","login","authentication","secure"],layers:["stack"],layout:["window","webpage"],"life-bouy":["help","life ring","support"],link:["chain","url"],"link-2":["chain","url"],linkedin:["logo","social media"],list:["options"],lock:["security","password","secure"],"log-in":["sign in","arrow","enter"],"log-out":["sign out","arrow","exit"],mail:["email","message"],"map-pin":["location","navigation","travel","marker"],map:["location","navigation","travel"],maximize:["fullscreen"],"maximize-2":["fullscreen","arrows","expand"],meh:["emoji","face","neutral","emotion"],menu:["bars","navigation","hamburger"],"message-circle":["comment","chat"],"message-square":["comment","chat"],"mic-off":["record","sound","mute"],mic:["record","sound","listen"],minimize:["exit fullscreen","close"],"minimize-2":["exit fullscreen","arrows","close"],minus:["subtract"],monitor:["tv","screen","display"],moon:["dark","night"],"more-horizontal":["ellipsis"],"more-vertical":["ellipsis"],"mouse-pointer":["arrow","cursor"],move:["arrows"],music:["note"],navigation:["location","travel"],"navigation-2":["location","travel"],octagon:["stop"],package:["box","container"],paperclip:["attachment"],pause:["music","stop"],"pause-circle":["music","audio","stop"],"pen-tool":["vector","drawing"],percent:["discount"],"phone-call":["ring"],"phone-forwarded":["call"],"phone-incoming":["call"],"phone-missed":["call"],"phone-off":["call","mute"],"phone-outgoing":["call"],phone:["call"],play:["music","start"],"pie-chart":["statistics","diagram"],"play-circle":["music","start"],plus:["add","new"],"plus-circle":["add","new"],"plus-square":["add","new"],pocket:["logo","save"],power:["on","off"],printer:["fax","office","device"],radio:["signal"],"refresh-cw":["synchronise","arrows"],"refresh-ccw":["arrows"],repeat:["loop","arrows"],rewind:["music"],"rotate-ccw":["arrow"],"rotate-cw":["arrow"],rss:["feed","subscribe"],save:["floppy disk"],scissors:["cut"],search:["find","magnifier","magnifying glass"],send:["message","mail","email","paper airplane","paper aeroplane"],settings:["cog","edit","gear","preferences"],"share-2":["network","connections"],shield:["security","secure"],"shield-off":["security","insecure"],"shopping-bag":["ecommerce","cart","purchase","store"],"shopping-cart":["ecommerce","cart","purchase","store"],shuffle:["music"],"skip-back":["music"],"skip-forward":["music"],slack:["logo"],slash:["ban","no"],sliders:["settings","controls"],smartphone:["cellphone","device"],smile:["emoji","face","happy","good","emotion"],speaker:["audio","music"],star:["bookmark","favorite","like"],"stop-circle":["media","music"],sun:["brightness","weather","light"],sunrise:["weather","time","morning","day"],sunset:["weather","time","evening","night"],tablet:["device"],tag:["label"],target:["logo","bullseye"],terminal:["code","command line","prompt"],thermometer:["temperature","celsius","fahrenheit","weather"],"thumbs-down":["dislike","bad","emotion"],"thumbs-up":["like","good","emotion"],"toggle-left":["on","off","switch"],"toggle-right":["on","off","switch"],tool:["settings","spanner"],trash:["garbage","delete","remove","bin"],"trash-2":["garbage","delete","remove","bin"],triangle:["delta"],truck:["delivery","van","shipping","transport","lorry"],tv:["television","stream"],twitch:["logo"],twitter:["logo","social"],type:["text"],umbrella:["rain","weather"],unlock:["security"],"user-check":["followed","subscribed"],"user-minus":["delete","remove","unfollow","unsubscribe"],"user-plus":["new","add","create","follow","subscribe"],"user-x":["delete","remove","unfollow","unsubscribe","unavailable"],user:["person","account"],users:["group"],"video-off":["camera","movie","film"],video:["camera","movie","film"],voicemail:["phone"],volume:["music","sound","mute"],"volume-1":["music","sound"],"volume-2":["music","sound"],"volume-x":["music","sound","mute"],watch:["clock","time"],"wifi-off":["disabled"],wifi:["connection","signal","wireless"],wind:["weather","air"],"x-circle":["cancel","close","delete","remove","times","clear"],"x-octagon":["delete","stop","alert","warning","times","clear"],"x-square":["cancel","close","delete","remove","times","clear"],x:["cancel","close","delete","remove","times","clear"],youtube:["logo","video","play"],"zap-off":["flash","camera","lightning"],zap:["flash","camera","lightning"],"zoom-in":["magnifying glass"],"zoom-out":["magnifying glass"]}},"./src/to-svg.js":function(t,i,s){Object.defineProperty(i,"__esModule",{value:!0});var r=s("./src/icons.js"),o=a(r);function a(u){return u&&u.__esModule?u:{default:u}}function l(u){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(console.warn("feather.toSvg() is deprecated. Please use feather.icons[name].toSvg() instead."),!u)throw new Error("The required `key` (icon name) parameter is missing.");if(!o.default[u])throw new Error("No icon matching '"+u+"'. See the complete list of icons at https://feathericons.com");return o.default[u].toSvg(d)}i.default=l},0:function(t,i,s){s("./node_modules/core-js/es/array/from.js"),t.exports=s("./src/index.js")}})})})(Lx);var dD=Lx.exports;const Cp=Im(dD),c_=Object.keys(Cp.icons),yu={props:{name:{type:String,required:!0,validator(n){const e=c_.includes(n);return e||(console.groupCollapsed("[frappe-ui] name property for feather-icon must be one of "),console.dir(c_),console.groupEnd()),e}},color:{type:String,default:null},strokeWidth:{type:Number,default:1.5}},render(){let n=Cp.icons[this.name];return n||(n=Cp.icons.circle),Ld("svg",jo(n.attrs,{fill:"none",stroke:"currentColor",color:this.color,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":this.strokeWidth,width:null,height:null,class:[n.attrs.class,"shrink-0"],innerHTML:n.contents},this.$attrs))}},hD={name:"LoadingIndicator"},fD={class:"max-w-xs animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"};function pD(n,e,t,i,s,r){return K(),Y("svg",fD,e[0]||(e[0]=[P("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),P("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))}const Rx=Vn(hD,[["render",pD]]),mD=["disabled","ariaLabel"],gD=Td({__name:"Button",props:{theme:{default:"gray"},size:{default:"sm"},variant:{default:"subtle"},label:{},icon:{},iconLeft:{},iconRight:{},loading:{type:Boolean,default:!1},loadingText:{},disabled:{type:Boolean,default:!1},route:{},link:{}},setup(n){const e=n,t=_M(),i=Kl(),s=yt(()=>{let d={gray:"text-white bg-gray-900 hover:bg-gray-800 active:bg-gray-700",blue:"text-white bg-blue-500 hover:bg-blue-600 active:bg-blue-700",green:"text-white bg-green-600 hover:bg-green-700 active:bg-green-800",red:"text-white bg-red-600 hover:bg-red-700 active:bg-red-800"}[e.theme],f={gray:"text-gray-800 bg-gray-100 hover:bg-gray-200 active:bg-gray-300",blue:"text-blue-600 bg-blue-100 hover:bg-blue-200 active:bg-blue-300",green:"text-green-800 bg-green-100 hover:bg-green-200 active:bg-green-300",red:"text-red-700 bg-red-100 hover:bg-red-200 active:bg-red-300"}[e.theme],p={gray:"text-gray-800 bg-white border border-gray-300 hover:border-gray-400 active:border-gray-400 active:bg-gray-300",blue:"text-blue-600 bg-white border border-blue-300 hover:border-blue-400 active:border-blue-400 active:bg-blue-300",green:"text-green-800 bg-white border border-green-400 hover:border-green-500 active:border-green-500 active:bg-green-300",red:"text-red-700 bg-white border border-red-300 hover:border-red-400 active:border-red-400 active:bg-red-200"}[e.theme],m={gray:"text-gray-800 bg-transparent hover:bg-gray-200 active:bg-gray-300",blue:"text-blue-600 bg-transparent hover:bg-blue-200 active:bg-blue-300",green:"text-green-800 bg-transparent hover:bg-green-200 active:bg-green-300",red:"text-red-700 bg-transparent hover:bg-red-200 active:bg-red-300"}[e.theme],_={gray:"focus-visible:ring focus-visible:ring-gray-400",blue:"focus-visible:ring focus-visible:ring-blue-400",green:"focus-visible:ring focus-visible:ring-green-400",red:"focus-visible:ring focus-visible:ring-red-400"}[e.theme],b={subtle:f,solid:d,outline:p,ghost:m}[e.variant],k=`${e.theme}-${e.variant}`,M={gray:"bg-gray-100 text-gray-500","gray-outline":"bg-gray-100 text-gray-500 border border-gray-300","gray-ghost":"text-gray-500","blue-solid":"bg-blue-300 text-white","blue-subtle":"bg-blue-100 text-blue-400","blue-outline":"bg-blue-100 text-blue-400 border border-blue-300","blue-ghost":"text-blue-400",green:"bg-green-100 text-green-500","green-outline":"bg-green-100 text-green-500 border border-green-400","green-ghost":"text-green-500",red:"bg-red-100 text-red-400","red-outline":"bg-red-100 text-red-400 border border-red-300","red-ghost":"text-red-400"},E=M[k]||M[e.theme],A={sm:"h-7 text-base px-2 rounded",md:"h-8 text-base font-medium px-2.5 rounded",lg:"h-10 text-lg font-medium px-3 rounded-md",xl:"h-11.5 text-xl font-medium px-3.5 rounded-lg","2xl":"h-13 text-2xl font-medium px-3.5 rounded-xl"}[e.size];return l.value&&(A={sm:"h-7 w-7 rounded",md:"h-8 w-8 rounded",lg:"h-10 w-10 rounded-md",xl:"h-11.5 w-11.5 rounded-lg","2xl":"h-13 w-13 rounded-xl"}[e.size]),["inline-flex items-center justify-center gap-2 transition-colors focus:outline-none",o.value?E:b,_,A]}),r=yt(()=>({sm:"h-4",md:"h-4.5",lg:"h-5",xl:"h-6","2xl":"h-6"})[e.size]),o=yt(()=>e.disabled||e.loading),a=yt(()=>l.value?e.label:null),l=yt(()=>e.icon||t.icon),u=()=>{if(e.route)return i.push(e.route);if(e.link)return window.open(e.link,"_blank")};return(d,f)=>(K(),Y("button",jo(d.$attrs,{class:s.value,onClick:u,disabled:o.value,ariaLabel:a.value}),[d.loading?(K(),$n(Rx,{key:0,class:Ye({"h-3 w-3":d.size=="sm","h-[13.5px] w-[13.5px]":d.size=="md","h-[15px] w-[15px]":d.size=="lg","h-4.5 w-4.5":d.size=="xl"||d.size=="2xl"})},null,8,["class"])):d.$slots.prefix||d.iconLeft?Is(d.$slots,"prefix",{key:1},()=>[d.iconLeft?(K(),$n(yu,{key:0,name:d.iconLeft,class:Ye(r.value),"aria-hidden":"true"},null,8,["name","class"])):Ae("",!0)]):Ae("",!0),d.loading&&d.loadingText?(K(),Y(xt,{key:2},[Ht(xe(d.loadingText),1)],64)):l.value&&!d.loading?(K(),Y(xt,{key:3},[d.icon?(K(),$n(yu,{key:0,name:d.icon,class:Ye(r.value),"aria-label":d.label},null,8,["name","class","aria-label"])):d.$slots.icon?Is(d.$slots,"icon",{key:1}):Ae("",!0)],64)):(K(),Y("span",{key:4,class:Ye({"sr-only":l.value})},[Is(d.$slots,"default",{},()=>[Ht(xe(d.label),1)])],2)),Is(d.$slots,"suffix",{},()=>[d.iconRight?(K(),$n(yu,{key:0,name:d.iconRight,class:Ye(r.value),"aria-hidden":"true"},null,8,["name","class"])):Ae("",!0)])],16,mD))}}),yD={name:"Loading",props:{text:{type:String,default:"Loading..."}},components:{LoadingIndicator:Rx}},_D={class:"flex items-center text-base text-gray-500"};function vD(n,e,t,i,s,r){const o=ia("LoadingIndicator");return K(),Y("div",_D,[Pe(o,{class:"-ml-1 mr-2 h-3 w-3"}),Ht(" "+xe(t.text),1)])}const bD=Vn(yD,[["render",vD]]),xD={name:"Card",props:{title:{type:String},subtitle:{type:String},loading:{type:Boolean}},components:{LoadingText:bD}},wD={class:"flex flex-col rounded-lg border bg-white px-6 py-5 shadow"},kD={class:"flex items-baseline justify-between"},SD={class:"flex items-baseline space-x-2"},MD={key:0,class:"flex items-center space-x-2"},CD={class:"text-xl font-semibold"},TD={key:0,class:"flex items-center space-x-2"},PD={key:0,class:"mt-1.5 text-base text-gray-600"},ED={key:1,class:"mt-4 flex flex-auto flex-col items-center justify-center rounded-md"},AD={key:2,class:"mt-4 flex-auto overflow-auto"};function OD(n,e,t,i,s,r){const o=ia("LoadingText");return K(),Y("div",wD,[P("div",kD,[P("div",SD,[n.$slots["actions-left"]?(K(),Y("div",MD,[Is(n.$slots,"actions-left")])):Ae("",!0),P("h2",CD,xe(t.title),1)]),n.$slots.actions?(K(),Y("div",TD,[Is(n.$slots,"actions")])):Ae("",!0)]),t.subtitle?(K(),Y("p",PD,xe(t.subtitle),1)):Ae("",!0),t.loading?(K(),Y("div",ED,[Pe(o)])):n.$slots.default?(K(),Y("div",AD,[Is(n.$slots,"default")])):Ae("",!0)])}const LD=Vn(xD,[["render",OD]]);function Dx(n,e,t){var i;return function(){var s=this,r=arguments,o=function(){i=void 0,n.apply(s,r)};clearTimeout(i),i=window.setTimeout(o,e)}}const RD={name:"Input",inheritAttrs:!1,expose:["getInputValue"],components:{FeatherIcon:yu},props:{label:{type:String},type:{type:String,default:"text",validator(n){let e=["text","number","checkbox","textarea","select","email","password","date"].includes(n);return e||console.warn(`Invalid value "${n}" for "type" prop for Input`),e}},modelValue:{type:[String,Number,Boolean,Object,Array]},inputClass:{type:[String,Array,Object]},debounce:{type:Number},options:{type:Array},disabled:{type:Boolean},rows:{type:Number,default:3},placeholder:{type:String},iconLeft:{type:String}},emits:["input","change","update:modelValue"],methods:{focus(){this.$refs.input.focus()},blur(){this.$refs.input.blur()},getInputValue(n){let e=n?n.target:this.$refs.input,t=e.value;return this.type=="checkbox"&&(t=e.checked),t}},computed:{passedInputValue(){return"value"in this.$attrs?this.$attrs.value:this.modelValue||null},inputAttributes(){let n={},e=t=>{this.$emit("input",this.getInputValue(t))};return this.debounce&&(e=Dx(e,this.debounce)),this.type=="checkbox"&&(n.checked=this.passedInputValue),Object.assign(n,this.$attrs,{onInput:e,onChange:t=>{this.$emit("change",this.getInputValue(t)),this.$emit("update:modelValue",this.getInputValue(t))}})},selectOptions(){return this.options.map(n=>typeof n=="string"?{label:n,value:n}:n).filter(Boolean)},isNormalInput(){return["text","number","checkbox","email","password","date"].includes(this.type)}}},DD={key:0,class:"mb-2 block text-sm leading-4 text-gray-700"},ID=["type","disabled","placeholder","value"],jD=["placeholder","value","disabled","rows"],ND=["disabled"],zD=["value","disabled","selected"],BD={key:1,class:"ml-2 inline-block text-base leading-4"};function FD(n,e,t,i,s,r){const o=ia("FeatherIcon");return K(),Y("label",{class:Ye([t.type=="checkbox"?"flex":"block",n.$attrs.class])},[t.label&&t.type!="checkbox"?(K(),Y("span",DD,xe(t.label),1)):Ae("",!0),P("div",{class:Ye(["relative flex",{"items-center":r.isNormalInput||t.type=="select"}])},[t.iconLeft&&t.type!="checkbox"?(K(),$n(o,{key:0,name:t.iconLeft,class:Ye(["absolute mx-2 h-4 w-4 text-gray-600",{"mt-2":t.type=="textarea"}])},null,8,["name","class"])):Ae("",!0),r.isNormalInput?(K(),Y("input",jo({key:1},r.inputAttributes,{class:["border-gray-400 placeholder-gray-500",[{"form-input block w-full":t.type!="checkbox","form-checkbox":t.type=="checkbox","pl-8":t.iconLeft&&t.type!="checkbox"},t.inputClass]],ref:"input",type:t.type||"text",disabled:t.disabled,placeholder:t.placeholder,value:r.passedInputValue}),null,16,ID)):Ae("",!0),t.type==="textarea"?(K(),Y("textarea",jo({key:2},r.inputAttributes,{placeholder:t.placeholder,class:["placeholder-gray-500",["form-textarea block w-full resize-none",t.inputClass,{"pl-8":t.iconLeft}]],ref:"input",value:r.passedInputValue,disabled:t.disabled,rows:t.rows}),null,16,jD)):Ae("",!0),t.type==="select"?(K(),Y("select",jo({key:3},r.inputAttributes,{class:["form-select block w-full",{"pl-8":t.iconLeft}],ref:"input",disabled:t.disabled}),[(K(!0),Y(xt,null,Ws(r.selectOptions,a=>(K(),Y("option",{key:a.value,value:a.value,disabled:a.disabled||!1,selected:r.passedInputValue===a.value},xe(a.label),9,zD))),128))],16,ND)):Ae("",!0)],2),t.label&&t.type=="checkbox"?(K(),Y("span",BD,xe(t.label),1)):Ae("",!0)],2)}const $D=Vn(RD,[["render",FD]]);pe([]);function en(n){this.content=n}en.prototype={constructor:en,find:function(n){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===n)return e;return-1},get:function(n){var e=this.find(n);return e==-1?void 0:this.content[e+1]},update:function(n,e,t){var i=t&&t!=n?this.remove(t):this,s=i.find(n),r=i.content.slice();return s==-1?r.push(t||n,e):(r[s+1]=e,t&&(r[s]=t)),new en(r)},remove:function(n){var e=this.find(n);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new en(t)},addToStart:function(n,e){return new en([n,e].concat(this.remove(n).content))},addToEnd:function(n,e){var t=this.remove(n).content.slice();return t.push(n,e),new en(t)},addBefore:function(n,e,t){var i=this.remove(e),s=i.content.slice(),r=i.find(n);return s.splice(r==-1?s.length:r,0,e,t),new en(s)},forEach:function(n){for(var e=0;e<this.content.length;e+=2)n(this.content[e],this.content[e+1])},prepend:function(n){return n=en.from(n),n.size?new en(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=en.from(n),n.size?new en(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var e=this;n=en.from(n);for(var t=0;t<n.content.length;t+=2)e=e.remove(n.content[t]);return e},toObject:function(){var n={};return this.forEach(function(e,t){n[e]=t}),n},get size(){return this.content.length>>1}};en.from=function(n){if(n instanceof en)return n;var e=[];if(n)for(var t in n)e.push(t,n[t]);return new en(e)};function Ix(n,e,t){for(let i=0;;i++){if(i==n.childCount||i==e.childCount)return n.childCount==e.childCount?null:t;let s=n.child(i),r=e.child(i);if(s==r){t+=s.nodeSize;continue}if(!s.sameMarkup(r))return t;if(s.isText&&s.text!=r.text){for(let o=0;s.text[o]==r.text[o];o++)t++;return t}if(s.content.size||r.content.size){let o=Ix(s.content,r.content,t+1);if(o!=null)return o}t+=s.nodeSize}}function jx(n,e,t,i){for(let s=n.childCount,r=e.childCount;;){if(s==0||r==0)return s==r?null:{a:t,b:i};let o=n.child(--s),a=e.child(--r),l=o.nodeSize;if(o==a){t-=l,i-=l;continue}if(!o.sameMarkup(a))return{a:t,b:i};if(o.isText&&o.text!=a.text){let u=0,d=Math.min(o.text.length,a.text.length);for(;u<d&&o.text[o.text.length-u-1]==a.text[a.text.length-u-1];)u++,t--,i--;return{a:t,b:i}}if(o.content.size||a.content.size){let u=jx(o.content,a.content,t-1,i-1);if(u)return u}t-=l,i-=l}}class se{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let i=0;i<e.length;i++)this.size+=e[i].nodeSize}nodesBetween(e,t,i,s=0,r){for(let o=0,a=0;a<t;o++){let l=this.content[o],u=a+l.nodeSize;if(u>e&&i(l,s+a,r||null,o)!==!1&&l.content.size){let d=a+1;l.nodesBetween(Math.max(0,e-d),Math.min(l.content.size,t-d),i,s+d)}a=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,i,s){let r="",o=!0;return this.nodesBetween(e,t,(a,l)=>{a.isText?(r+=a.text.slice(Math.max(e,l)-l,t-l),o=!i):a.isLeaf?(s?r+=typeof s=="function"?s(a):s:a.type.spec.leafText&&(r+=a.type.spec.leafText(a)),o=!i):!o&&a.isBlock&&(r+=i,o=!0)},0),r}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,i=e.firstChild,s=this.content.slice(),r=0;for(t.isText&&t.sameMarkup(i)&&(s[s.length-1]=t.withText(t.text+i.text),r=1);r<e.content.length;r++)s.push(e.content[r]);return new se(s,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let i=[],s=0;if(t>e)for(let r=0,o=0;o<t;r++){let a=this.content[r],l=o+a.nodeSize;l>e&&((o<e||l>t)&&(a.isText?a=a.cut(Math.max(0,e-o),Math.min(a.text.length,t-o)):a=a.cut(Math.max(0,e-o-1),Math.min(a.content.size,t-o-1))),i.push(a),s+=a.nodeSize),o=l}return new se(i,s)}cutByIndex(e,t){return e==t?se.empty:e==0&&t==this.content.length?this:new se(this.content.slice(e,t))}replaceChild(e,t){let i=this.content[e];if(i==t)return this;let s=this.content.slice(),r=this.size+t.nodeSize-i.nodeSize;return s[e]=t,new se(s,r)}addToStart(e){return new se([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new se(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,i=0;t<this.content.length;t++){let s=this.content[t];e(s,i,t),i+=s.nodeSize}}findDiffStart(e,t=0){return Ix(this,e,t)}findDiffEnd(e,t=this.size,i=e.size){return jx(this,e,t,i)}findIndex(e,t=-1){if(e==0)return Fc(0,e);if(e==this.size)return Fc(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let i=0,s=0;;i++){let r=this.child(i),o=s+r.nodeSize;if(o>=e)return o==e||t>0?Fc(i+1,o):Fc(i,s);s=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return se.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new se(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return se.empty;let t,i=0;for(let s=0;s<e.length;s++){let r=e[s];i+=r.nodeSize,s&&r.isText&&e[s-1].sameMarkup(r)?(t||(t=e.slice(0,s)),t[t.length-1]=r.withText(t[t.length-1].text+r.text)):t&&t.push(r)}return new se(t||e,i)}static from(e){if(!e)return se.empty;if(e instanceof se)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new se([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}se.empty=new se([],0);const hf={index:0,offset:0};function Fc(n,e){return hf.index=n,hf.offset=e,hf}function Wu(n,e){if(n===e)return!0;if(!(n&&typeof n=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(n);if(Array.isArray(e)!=t)return!1;if(t){if(n.length!=e.length)return!1;for(let i=0;i<n.length;i++)if(!Wu(n[i],e[i]))return!1}else{for(let i in n)if(!(i in e)||!Wu(n[i],e[i]))return!1;for(let i in e)if(!(i in n))return!1}return!0}let ut=class Tp{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,i=!1;for(let s=0;s<e.length;s++){let r=e[s];if(this.eq(r))return e;if(this.type.excludes(r.type))t||(t=e.slice(0,s));else{if(r.type.excludes(this.type))return e;!i&&r.type.rank>this.type.rank&&(t||(t=e.slice(0,s)),t.push(this),i=!0),t&&t.push(r)}}return t||(t=e.slice()),i||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Wu(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let i=e.marks[t.type];if(!i)throw new RangeError(`There is no mark type ${t.type} in this schema`);return i.create(t.attrs)}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++)if(!e[i].eq(t[i]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Tp.none;if(e instanceof Tp)return[e];let t=e.slice();return t.sort((i,s)=>i.type.rank-s.type.rank),t}};ut.none=[];class Uu extends Error{}class _e{constructor(e,t,i){this.content=e,this.openStart=t,this.openEnd=i}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let i=zx(this.content,e+this.openStart,t);return i&&new _e(i,this.openStart,this.openEnd)}removeBetween(e,t){return new _e(Nx(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return _e.empty;let i=t.openStart||0,s=t.openEnd||0;if(typeof i!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new _e(se.fromJSON(e,t.content),i,s)}static maxOpen(e,t=!0){let i=0,s=0;for(let r=e.firstChild;r&&!r.isLeaf&&(t||!r.type.spec.isolating);r=r.firstChild)i++;for(let r=e.lastChild;r&&!r.isLeaf&&(t||!r.type.spec.isolating);r=r.lastChild)s++;return new _e(e,i,s)}}_e.empty=new _e(se.empty,0,0);function Nx(n,e,t){let{index:i,offset:s}=n.findIndex(e),r=n.maybeChild(i),{index:o,offset:a}=n.findIndex(t);if(s==e||r.isText){if(a!=t&&!n.child(o).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(i!=o)throw new RangeError("Removing non-flat range");return n.replaceChild(i,r.copy(Nx(r.content,e-s-1,t-s-1)))}function zx(n,e,t,i){let{index:s,offset:r}=n.findIndex(e),o=n.maybeChild(s);if(r==e||o.isText)return n.cut(0,e).append(t).append(n.cut(e));let a=zx(o.content,e-r-1,t);return a&&n.replaceChild(s,o.copy(a))}function HD(n,e,t){if(t.openStart>n.depth)throw new Uu("Inserted content deeper than insertion position");if(n.depth-t.openStart!=e.depth-t.openEnd)throw new Uu("Inconsistent open depths");return Bx(n,e,t,0)}function Bx(n,e,t,i){let s=n.index(i),r=n.node(i);if(s==e.index(i)&&i<n.depth-t.openStart){let o=Bx(n,e,t,i+1);return r.copy(r.content.replaceChild(s,o))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&n.depth==i&&e.depth==i){let o=n.parent,a=o.content;return Nr(o,a.cut(0,n.parentOffset).append(t.content).append(a.cut(e.parentOffset)))}else{let{start:o,end:a}=VD(t,n);return Nr(r,$x(n,o,a,e,i))}else return Nr(r,Zu(n,e,i))}function Fx(n,e){if(!e.type.compatibleContent(n.type))throw new Uu("Cannot join "+e.type.name+" onto "+n.type.name)}function Pp(n,e,t){let i=n.node(t);return Fx(i,e.node(t)),i}function jr(n,e){let t=e.length-1;t>=0&&n.isText&&n.sameMarkup(e[t])?e[t]=n.withText(e[t].text+n.text):e.push(n)}function al(n,e,t,i){let s=(e||n).node(t),r=0,o=e?e.index(t):s.childCount;n&&(r=n.index(t),n.depth>t?r++:n.textOffset&&(jr(n.nodeAfter,i),r++));for(let a=r;a<o;a++)jr(s.child(a),i);e&&e.depth==t&&e.textOffset&&jr(e.nodeBefore,i)}function Nr(n,e){return n.type.checkContent(e),n.copy(e)}function $x(n,e,t,i,s){let r=n.depth>s&&Pp(n,e,s+1),o=i.depth>s&&Pp(t,i,s+1),a=[];return al(null,n,s,a),r&&o&&e.index(s)==t.index(s)?(Fx(r,o),jr(Nr(r,$x(n,e,t,i,s+1)),a)):(r&&jr(Nr(r,Zu(n,e,s+1)),a),al(e,t,s,a),o&&jr(Nr(o,Zu(t,i,s+1)),a)),al(i,null,s,a),new se(a)}function Zu(n,e,t){let i=[];if(al(null,n,t,i),n.depth>t){let s=Pp(n,e,t+1);jr(Nr(s,Zu(n,e,t+1)),i)}return al(e,null,t,i),new se(i)}function VD(n,e){let t=e.depth-n.openStart,s=e.node(t).copy(n.content);for(let r=t-1;r>=0;r--)s=e.node(r).copy(se.from(s));return{start:s.resolveNoCache(n.openStart+t),end:s.resolveNoCache(s.content.size-n.openEnd-t)}}class Ll{constructor(e,t,i){this.pos=e,this.path=t,this.parentOffset=i,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let i=this.pos-this.path[this.path.length-1],s=e.child(t);return i?e.child(t).cut(i):s}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let i=this.path[t*3],s=t==0?0:this.path[t*3-1]+1;for(let r=0;r<e;r++)s+=i.child(r).nodeSize;return s}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return ut.none;if(this.textOffset)return e.child(t).marks;let i=e.maybeChild(t-1),s=e.maybeChild(t);if(!i){let a=i;i=s,s=a}let r=i.marks;for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!s||!r[o].isInSet(s.marks))&&(r=r[o--].removeFromSet(r));return r}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let i=t.marks,s=e.parent.maybeChild(e.index());for(var r=0;r<i.length;r++)i[r].type.spec.inclusive===!1&&(!s||!i[r].isInSet(s.marks))&&(i=i[r--].removeFromSet(i));return i}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let i=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);i>=0;i--)if(e.pos<=this.end(i)&&(!t||t(this.node(i))))return new Ku(this,e,i);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let i=[],s=0,r=t;for(let o=e;;){let{index:a,offset:l}=o.content.findIndex(r),u=r-l;if(i.push(o,a,s+l),!u||(o=o.child(a),o.isText))break;r=u-1,s+=l+1}return new Ll(t,i,r)}static resolveCached(e,t){for(let s=0;s<ff.length;s++){let r=ff[s];if(r.pos==t&&r.doc==e)return r}let i=ff[pf]=Ll.resolve(e,t);return pf=(pf+1)%WD,i}}let ff=[],pf=0,WD=12;class Ku{constructor(e,t,i){this.$from=e,this.$to=t,this.depth=i}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const UD=Object.create(null);let zr=class Ep{constructor(e,t,i,s=ut.none){this.type=e,this.attrs=t,this.marks=s,this.content=i||se.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,i,s=0){this.content.nodesBetween(e,t,i,s,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,i,s){return this.content.textBetween(e,t,i,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,i){return this.type==e&&Wu(this.attrs,t||e.defaultAttrs||UD)&&ut.sameSet(this.marks,i||ut.none)}copy(e=null){return e==this.content?this:new Ep(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Ep(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,i=!1){if(e==t)return _e.empty;let s=this.resolve(e),r=this.resolve(t),o=i?0:s.sharedDepth(t),a=s.start(o),u=s.node(o).content.cut(s.pos-a,r.pos-a);return new _e(u,s.depth-o,r.depth-o)}replace(e,t,i){return HD(this.resolve(e),this.resolve(t),i)}nodeAt(e){for(let t=this;;){let{index:i,offset:s}=t.content.findIndex(e);if(t=t.maybeChild(i),!t)return null;if(s==e||t.isText)return t;e-=s+1}}childAfter(e){let{index:t,offset:i}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:i}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:i}=this.content.findIndex(e);if(i<e)return{node:this.content.child(t),index:t,offset:i};let s=this.content.child(t-1);return{node:s,index:t-1,offset:i-s.nodeSize}}resolve(e){return Ll.resolveCached(this,e)}resolveNoCache(e){return Ll.resolve(this,e)}rangeHasMark(e,t,i){let s=!1;return t>e&&this.nodesBetween(e,t,r=>(i.isInSet(r.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),Hx(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,i=se.empty,s=0,r=i.childCount){let o=this.contentMatchAt(e).matchFragment(i,s,r),a=o&&o.matchFragment(this.content,t);if(!a||!a.validEnd)return!1;for(let l=s;l<r;l++)if(!this.type.allowsMarks(i.child(l).marks))return!1;return!0}canReplaceWith(e,t,i,s){if(s&&!this.type.allowsMarks(s))return!1;let r=this.contentMatchAt(e).matchType(i),o=r&&r.matchFragment(this.content,t);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content);let e=ut.none;for(let t=0;t<this.marks.length;t++)e=this.marks[t].addToSet(e);if(!ut.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let i=null;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");i=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,i)}let s=se.fromJSON(e,t.content);return e.nodeType(t.type).create(t.attrs,s,i)}};zr.prototype.text=void 0;class qu extends zr{constructor(e,t,i,s){if(super(e,t,null,s),!i)throw new RangeError("Empty text nodes are not allowed");this.text=i}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Hx(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new qu(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new qu(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function Hx(n,e){for(let t=n.length-1;t>=0;t--)e=n[t].type.name+"("+e+")";return e}class Zr{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let i=new ZD(e,t);if(i.next==null)return Zr.empty;let s=Vx(i);i.next&&i.err("Unexpected trailing text");let r=QD(XD(s));return eI(r,i),r}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,i=e.childCount){let s=this;for(let r=t;s&&r<i;r++)s=s.matchType(e.child(r).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let i=0;i<e.next.length;i++)if(this.next[t].type==e.next[i].type)return!0;return!1}fillBefore(e,t=!1,i=0){let s=[this];function r(o,a){let l=o.matchFragment(e,i);if(l&&(!t||l.validEnd))return se.from(a.map(u=>u.createAndFill()));for(let u=0;u<o.next.length;u++){let{type:d,next:f}=o.next[u];if(!(d.isText||d.hasRequiredAttrs())&&s.indexOf(f)==-1){s.push(f);let p=r(f,a.concat(d));if(p)return p}}return null}return r(this,[])}findWrapping(e){for(let i=0;i<this.wrapCache.length;i+=2)if(this.wrapCache[i]==e)return this.wrapCache[i+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),i=[{match:this,type:null,via:null}];for(;i.length;){let s=i.shift(),r=s.match;if(r.matchType(e)){let o=[];for(let a=s;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<r.next.length;o++){let{type:a,next:l}=r.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in t)&&(!s.type||l.validEnd)&&(i.push({match:a.contentMatch,type:a,via:s}),t[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(i){e.push(i);for(let s=0;s<i.next.length;s++)e.indexOf(i.next[s].next)==-1&&t(i.next[s].next)}return t(this),e.map((i,s)=>{let r=s+(i.validEnd?"*":" ")+" ";for(let o=0;o<i.next.length;o++)r+=(o?", ":"")+i.next[o].type.name+"->"+e.indexOf(i.next[o].next);return r}).join(`
`)}}Zr.empty=new Zr(!0);class ZD{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function Vx(n){let e=[];do e.push(KD(n));while(n.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function KD(n){let e=[];do e.push(qD(n));while(n.next&&n.next!=")"&&n.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function qD(n){let e=YD(n);for(;;)if(n.eat("+"))e={type:"plus",expr:e};else if(n.eat("*"))e={type:"star",expr:e};else if(n.eat("?"))e={type:"opt",expr:e};else if(n.eat("{"))e=GD(n,e);else break;return e}function u_(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let e=Number(n.next);return n.pos++,e}function GD(n,e){let t=u_(n),i=t;return n.eat(",")&&(n.next!="}"?i=u_(n):i=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:t,max:i,expr:e}}function JD(n,e){let t=n.nodeTypes,i=t[e];if(i)return[i];let s=[];for(let r in t){let o=t[r];o.groups.indexOf(e)>-1&&s.push(o)}return s.length==0&&n.err("No node type or group '"+e+"' found"),s}function YD(n){if(n.eat("(")){let e=Vx(n);return n.eat(")")||n.err("Missing closing paren"),e}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let e=JD(n,n.next).map(t=>(n.inline==null?n.inline=t.isInline:n.inline!=t.isInline&&n.err("Mixing inline and block content"),{type:"name",value:t}));return n.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function XD(n){let e=[[]];return s(r(n,0),t()),e;function t(){return e.push([])-1}function i(o,a,l){let u={term:l,to:a};return e[o].push(u),u}function s(o,a){o.forEach(l=>l.to=a)}function r(o,a){if(o.type=="choice")return o.exprs.reduce((l,u)=>l.concat(r(u,a)),[]);if(o.type=="seq")for(let l=0;;l++){let u=r(o.exprs[l],a);if(l==o.exprs.length-1)return u;s(u,a=t())}else if(o.type=="star"){let l=t();return i(a,l),s(r(o.expr,l),l),[i(l)]}else if(o.type=="plus"){let l=t();return s(r(o.expr,a),l),s(r(o.expr,l),l),[i(l)]}else{if(o.type=="opt")return[i(a)].concat(r(o.expr,a));if(o.type=="range"){let l=a;for(let u=0;u<o.min;u++){let d=t();s(r(o.expr,l),d),l=d}if(o.max==-1)s(r(o.expr,l),l);else for(let u=o.min;u<o.max;u++){let d=t();i(l,d),s(r(o.expr,l),d),l=d}return[i(l)]}else{if(o.type=="name")return[i(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function Wx(n,e){return e-n}function d_(n,e){let t=[];return i(e),t.sort(Wx);function i(s){let r=n[s];if(r.length==1&&!r[0].term)return i(r[0].to);t.push(s);for(let o=0;o<r.length;o++){let{term:a,to:l}=r[o];!a&&t.indexOf(l)==-1&&i(l)}}}function QD(n){let e=Object.create(null);return t(d_(n,0));function t(i){let s=[];i.forEach(o=>{n[o].forEach(({term:a,to:l})=>{if(!a)return;let u;for(let d=0;d<s.length;d++)s[d][0]==a&&(u=s[d][1]);d_(n,l).forEach(d=>{u||s.push([a,u=[]]),u.indexOf(d)==-1&&u.push(d)})})});let r=e[i.join(",")]=new Zr(i.indexOf(n.length-1)>-1);for(let o=0;o<s.length;o++){let a=s[o][1].sort(Wx);r.next.push({type:s[o][0],next:e[a.join(",")]||t(a)})}return r}}function eI(n,e){for(let t=0,i=[n];t<i.length;t++){let s=i[t],r=!s.validEnd,o=[];for(let a=0;a<s.next.length;a++){let{type:l,next:u}=s.next[a];o.push(l.name),r&&!(l.isText||l.hasRequiredAttrs())&&(r=!1),i.indexOf(u)==-1&&i.push(u)}r&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function Ux(n){let e=Object.create(null);for(let t in n){let i=n[t];if(!i.hasDefault)return null;e[t]=i.default}return e}function Zx(n,e){let t=Object.create(null);for(let i in n){let s=e&&e[i];if(s===void 0){let r=n[i];if(r.hasDefault)s=r.default;else throw new RangeError("No value supplied for attribute "+i)}t[i]=s}return t}function Kx(n){let e=Object.create(null);if(n)for(let t in n)e[t]=new tI(n[t]);return e}let h_=class qx{constructor(e,t,i){this.name=e,this.schema=t,this.spec=i,this.markSet=null,this.groups=i.group?i.group.split(" "):[],this.attrs=Kx(i.attrs),this.defaultAttrs=Ux(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(i.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Zr.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:Zx(this.attrs,e)}create(e=null,t,i){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new zr(this,this.computeAttrs(e),se.from(t),ut.setFrom(i))}createChecked(e=null,t,i){return t=se.from(t),this.checkContent(t),new zr(this,this.computeAttrs(e),t,ut.setFrom(i))}createAndFill(e=null,t,i){if(e=this.computeAttrs(e),t=se.from(t),t.size){let o=this.contentMatch.fillBefore(t);if(!o)return null;t=o.append(t)}let s=this.contentMatch.matchFragment(t),r=s&&s.fillBefore(se.empty,!0);return r?new zr(this,e,t.append(r),ut.setFrom(i)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let i=0;i<e.childCount;i++)if(!this.allowsMarks(e.child(i).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let i=0;i<e.length;i++)this.allowsMarkType(e[i].type)?t&&t.push(e[i]):t||(t=e.slice(0,i));return t?t.length?t:ut.none:e}static compile(e,t){let i=Object.create(null);e.forEach((r,o)=>i[r]=new qx(r,t,o));let s=t.spec.topNode||"doc";if(!i[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!i.text)throw new RangeError("Every schema needs a 'text' type");for(let r in i.text.attrs)throw new RangeError("The text node type should not have attributes");return i}};class tI{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class Fd{constructor(e,t,i,s){this.name=e,this.rank=t,this.schema=i,this.spec=s,this.attrs=Kx(s.attrs),this.excluded=null;let r=Ux(this.attrs);this.instance=r?new ut(this,r):null}create(e=null){return!e&&this.instance?this.instance:new ut(this,Zx(this.attrs,e))}static compile(e,t){let i=Object.create(null),s=0;return e.forEach((r,o)=>i[r]=new Fd(r,s++,t,o)),i}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}excludes(e){return this.excluded.indexOf(e)>-1}}class nI{constructor(e){this.cached=Object.create(null);let t=this.spec={};for(let s in e)t[s]=e[s];t.nodes=en.from(e.nodes),t.marks=en.from(e.marks||{}),this.nodes=h_.compile(this.spec.nodes,this),this.marks=Fd.compile(this.spec.marks,this);let i=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let r=this.nodes[s],o=r.spec.content||"",a=r.spec.marks;r.contentMatch=i[o]||(i[o]=Zr.parse(o,this.nodes)),r.inlineContent=r.contentMatch.inlineContent,r.markSet=a=="_"?null:a?f_(this,a.split(" ")):a==""||!r.inlineContent?[]:null}for(let s in this.marks){let r=this.marks[s],o=r.spec.excludes;r.excluded=o==null?[r]:o==""?[]:f_(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,i,s){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof h_){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,i,s)}text(e,t){let i=this.nodes.text;return new qu(i,i.defaultAttrs,e,ut.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return zr.fromJSON(this,e)}markFromJSON(e){return ut.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function f_(n,e){let t=[];for(let i=0;i<e.length;i++){let s=e[i],r=n.marks[s],o=r;if(r)t.push(r);else for(let a in n.marks){let l=n.marks[a];(s=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(s)>-1)&&t.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[i]+"'")}return t}let Qm=class Ap{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[],t.forEach(i=>{i.tag?this.tags.push(i):i.style&&this.styles.push(i)}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=e.nodes[i.node];return s.contentMatch.matchType(s)})}parse(e,t={}){let i=new m_(this,t,!1);return i.addAll(e,t.from,t.to),i.finish()}parseSlice(e,t={}){let i=new m_(this,t,!0);return i.addAll(e,t.from,t.to),_e.maxOpen(i.finish())}matchTag(e,t,i){for(let s=i?this.tags.indexOf(i)+1:0;s<this.tags.length;s++){let r=this.tags[s];if(rI(e,r.tag)&&(r.namespace===void 0||e.namespaceURI==r.namespace)&&(!r.context||t.matchesContext(r.context))){if(r.getAttrs){let o=r.getAttrs(e);if(o===!1)continue;r.attrs=o||void 0}return r}}}matchStyle(e,t,i,s){for(let r=s?this.styles.indexOf(s)+1:0;r<this.styles.length;r++){let o=this.styles[r],a=o.style;if(!(a.indexOf(e)!=0||o.context&&!i.matchesContext(o.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=t))){if(o.getAttrs){let l=o.getAttrs(t);if(l===!1)continue;o.attrs=l||void 0}return o}}}static schemaRules(e){let t=[];function i(s){let r=s.priority==null?50:s.priority,o=0;for(;o<t.length;o++){let a=t[o];if((a.priority==null?50:a.priority)<r)break}t.splice(o,0,s)}for(let s in e.marks){let r=e.marks[s].spec.parseDOM;r&&r.forEach(o=>{i(o=g_(o)),o.mark||o.ignore||o.clearMark||(o.mark=s)})}for(let s in e.nodes){let r=e.nodes[s].spec.parseDOM;r&&r.forEach(o=>{i(o=g_(o)),o.node||o.ignore||o.mark||(o.node=s)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Ap(e,Ap.schemaRules(e)))}};const Gx={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},iI={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Jx={ol:!0,ul:!0},Gu=1,Ju=2,ll=4;function p_(n,e,t){return e!=null?(e?Gu:0)|(e==="full"?Ju:0):n&&n.whitespace=="pre"?Gu|Ju:t&~ll}class $c{constructor(e,t,i,s,r,o,a){this.type=e,this.attrs=t,this.marks=i,this.pendingMarks=s,this.solid=r,this.options=a,this.content=[],this.activeMarks=ut.none,this.stashMarks=[],this.match=o||(a&ll?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(se.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let i=this.type.contentMatch,s;return(s=i.findWrapping(e.type))?(this.match=i,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Gu)){let i=this.content[this.content.length-1],s;if(i&&i.isText&&(s=/[ \t\r\n\u000c]+$/.exec(i.text))){let r=i;i.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=r.withText(r.text.slice(0,r.text.length-s[0].length))}}let t=se.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(se.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}popFromStashMark(e){for(let t=this.stashMarks.length-1;t>=0;t--)if(e.eq(this.stashMarks[t]))return this.stashMarks.splice(t,1)[0]}applyPending(e){for(let t=0,i=this.pendingMarks;t<i.length;t++){let s=i[t];(this.type?this.type.allowsMarkType(s.type):aI(s.type,e))&&!s.isInSet(this.activeMarks)&&(this.activeMarks=s.addToSet(this.activeMarks),this.pendingMarks=s.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!Gx.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class m_{constructor(e,t,i){this.parser=e,this.options=t,this.isOpen=i,this.open=0;let s=t.topNode,r,o=p_(null,t.preserveWhitespace,0)|(i?ll:0);s?r=new $c(s.type,s.attrs,ut.none,ut.none,!0,t.topMatch||s.type.contentMatch,o):i?r=new $c(null,null,ut.none,ut.none,!0,null,o):r=new $c(e.schema.topNodeType,null,ut.none,ut.none,!0,null,o),this.nodes=[r],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){if(e.nodeType==3)this.addTextNode(e);else if(e.nodeType==1){let t=e.getAttribute("style");if(!t)this.addElement(e);else{let i=this.readStyles(oI(t));if(!i)return;let[s,r]=i,o=this.top;for(let a=0;a<r.length;a++)this.removePendingMark(r[a],o);for(let a=0;a<s.length;a++)this.addPendingMark(s[a]);this.addElement(e);for(let a=0;a<s.length;a++)this.removePendingMark(s[a],o);for(let a=0;a<r.length;a++)this.addPendingMark(r[a])}}}addTextNode(e){let t=e.nodeValue,i=this.top;if(i.options&Ju||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(t)){if(i.options&Gu)i.options&Ju?t=t.replace(/\r\n?/g,`
`):t=t.replace(/\r?\n|\r/g," ");else if(t=t.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(t)&&this.open==this.nodes.length-1){let s=i.content[i.content.length-1],r=e.previousSibling;(!s||r&&r.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]$/.test(s.text))&&(t=t.slice(1))}t&&this.insertNode(this.parser.schema.text(t)),this.findInText(e)}else this.findInside(e)}addElement(e,t){let i=e.nodeName.toLowerCase(),s;Jx.hasOwnProperty(i)&&this.parser.normalizeLists&&sI(e);let r=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(s=this.parser.matchTag(e,this,t));if(r?r.ignore:iI.hasOwnProperty(i))this.findInside(e),this.ignoreFallback(e);else if(!r||r.skip||r.closeParent){r&&r.closeParent?this.open=Math.max(0,this.open-1):r&&r.skip.nodeType&&(e=r.skip);let o,a=this.top,l=this.needsBlock;if(Gx.hasOwnProperty(i))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),o=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e);return}this.addAll(e),o&&this.sync(a),this.needsBlock=l}else this.addElementByRule(e,r,r.consuming===!1?s:void 0)}leafFallback(e){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`))}ignoreFallback(e){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(e){let t=ut.none,i=ut.none;e:for(let s=0;s<e.length;s+=2)for(let r=void 0;;){let o=this.parser.matchStyle(e[s],e[s+1],this,r);if(!o)continue e;if(o.ignore)return null;if(o.clearMark?this.top.pendingMarks.forEach(a=>{o.clearMark(a)&&(i=a.addToSet(i))}):t=this.parser.schema.marks[o.mark].create(o.attrs).addToSet(t),o.consuming===!1)r=o;else break}return[t,i]}addElementByRule(e,t,i){let s,r,o;t.node?(r=this.parser.schema.nodes[t.node],r.isLeaf?this.insertNode(r.create(t.attrs))||this.leafFallback(e):s=this.enter(r,t.attrs||null,t.preserveWhitespace)):(o=this.parser.schema.marks[t.mark].create(t.attrs),this.addPendingMark(o));let a=this.top;if(r&&r.isLeaf)this.findInside(e);else if(i)this.addElement(e,i);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l));else{let l=e;typeof t.contentElement=="string"?l=e.querySelector(t.contentElement):typeof t.contentElement=="function"?l=t.contentElement(e):t.contentElement&&(l=t.contentElement),this.findAround(e,l,!0),this.addAll(l)}s&&this.sync(a)&&this.open--,o&&this.removePendingMark(o,a)}addAll(e,t,i){let s=t||0;for(let r=t?e.childNodes[t]:e.firstChild,o=i==null?null:e.childNodes[i];r!=o;r=r.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(r);this.findAtPoint(e,s)}findPlace(e){let t,i;for(let s=this.open;s>=0;s--){let r=this.nodes[s],o=r.findWrapping(e);if(o&&(!t||t.length>o.length)&&(t=o,i=r,!o.length)||r.solid)break}if(!t)return!1;this.sync(i);for(let s=0;s<t.length;s++)this.enterInner(t[s],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let t=this.textblockFromContext();t&&this.enterInner(t)}if(this.findPlace(e)){this.closeExtra();let t=this.top;t.applyPending(e.type),t.match&&(t.match=t.match.matchType(e.type));let i=t.activeMarks;for(let s=0;s<e.marks.length;s++)(!t.type||t.type.allowsMarkType(e.marks[s].type))&&(i=e.marks[s].addToSet(i));return t.content.push(e.mark(i)),!0}return!1}enter(e,t,i){let s=this.findPlace(e.create(t));return s&&this.enterInner(e,t,!0,i),s}enterInner(e,t=null,i=!1,s){this.closeExtra();let r=this.top;r.applyPending(e),r.match=r.match&&r.match.matchType(e);let o=p_(e,s,r.options);r.options&ll&&r.content.length==0&&(o|=ll),this.nodes.push(new $c(e,t,r.activeMarks,r.pendingMarks,i,null,o)),this.open++}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let t=this.open;t>=0;t--)if(this.nodes[t]==e)return this.open=t,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let i=this.nodes[t].content;for(let s=i.length-1;s>=0;s--)e+=i[s].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let i=0;i<this.find.length;i++)this.find[i].node==e&&this.find[i].offset==t&&(this.find[i].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,i){if(e!=t&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&t.compareDocumentPosition(this.find[s].node)&(i?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),i=this.options.context,s=!this.isOpen&&(!i||i.parent.type==this.nodes[0].type),r=-(i?i.depth+1:0)+(s?0:1),o=(a,l)=>{for(;a>=0;a--){let u=t[a];if(u==""){if(a==t.length-1||a==0)continue;for(;l>=r;l--)if(o(a-1,l))return!0;return!1}else{let d=l>0||l==0&&s?this.nodes[l].type:i&&l>=r?i.node(l-r).type:null;if(!d||d.name!=u&&d.groups.indexOf(u)==-1)return!1;l--}}return!0};return o(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let i=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(i&&i.isTextblock&&i.defaultAttrs)return i}for(let t in this.parser.schema.nodes){let i=this.parser.schema.nodes[t];if(i.isTextblock&&i.defaultAttrs)return i}}addPendingMark(e){let t=lI(e,this.top.pendingMarks);t&&this.top.stashMarks.push(t),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,t){for(let i=this.open;i>=0;i--){let s=this.nodes[i];if(s.pendingMarks.lastIndexOf(e)>-1)s.pendingMarks=e.removeFromSet(s.pendingMarks);else{s.activeMarks=e.removeFromSet(s.activeMarks);let o=s.popFromStashMark(e);o&&s.type&&s.type.allowsMarkType(o.type)&&(s.activeMarks=o.addToSet(s.activeMarks))}if(s==t)break}}}function sI(n){for(let e=n.firstChild,t=null;e;e=e.nextSibling){let i=e.nodeType==1?e.nodeName.toLowerCase():null;i&&Jx.hasOwnProperty(i)&&t?(t.appendChild(e),e=t):i=="li"?t=e:i&&(t=null)}}function rI(n,e){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,e)}function oI(n){let e=/\s*([\w-]+)\s*:\s*([^;]+)/g,t,i=[];for(;t=e.exec(n);)i.push(t[1],t[2].trim());return i}function g_(n){let e={};for(let t in n)e[t]=n[t];return e}function aI(n,e){let t=e.schema.nodes;for(let i in t){let s=t[i];if(!s.allowsMarkType(n))continue;let r=[],o=a=>{r.push(a);for(let l=0;l<a.edgeCount;l++){let{type:u,next:d}=a.edge(l);if(u==e||r.indexOf(d)<0&&o(d))return!0}};if(o(s.contentMatch))return!0}}function lI(n,e){for(let t=0;t<e.length;t++)if(n.eq(e[t]))return e[t]}class ji{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},i){i||(i=mf(t).createDocumentFragment());let s=i,r=[];return e.forEach(o=>{if(r.length||o.marks.length){let a=0,l=0;for(;a<r.length&&l<o.marks.length;){let u=o.marks[l];if(!this.marks[u.type.name]){l++;continue}if(!u.eq(r[a][0])||u.type.spec.spanning===!1)break;a++,l++}for(;a<r.length;)s=r.pop()[1];for(;l<o.marks.length;){let u=o.marks[l++],d=this.serializeMark(u,o.isInline,t);d&&(r.push([u,s]),s.appendChild(d.dom),s=d.contentDOM||d.dom)}}s.appendChild(this.serializeNodeInner(o,t))}),i}serializeNodeInner(e,t){let{dom:i,contentDOM:s}=ji.renderSpec(mf(t),this.nodes[e.type.name](e));if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,s)}return i}serializeNode(e,t={}){let i=this.serializeNodeInner(e,t);for(let s=e.marks.length-1;s>=0;s--){let r=this.serializeMark(e.marks[s],e.isInline,t);r&&((r.contentDOM||r.dom).appendChild(i),i=r.dom)}return i}serializeMark(e,t,i={}){let s=this.marks[e.type.name];return s&&ji.renderSpec(mf(i),s(e,t))}static renderSpec(e,t,i=null){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let s=t[0],r=s.indexOf(" ");r>0&&(i=s.slice(0,r),s=s.slice(r+1));let o,a=i?e.createElementNS(i,s):e.createElement(s),l=t[1],u=1;if(l&&typeof l=="object"&&l.nodeType==null&&!Array.isArray(l)){u=2;for(let d in l)if(l[d]!=null){let f=d.indexOf(" ");f>0?a.setAttributeNS(d.slice(0,f),d.slice(f+1),l[d]):a.setAttribute(d,l[d])}}for(let d=u;d<t.length;d++){let f=t[d];if(f===0){if(d<t.length-1||d>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}else{let{dom:p,contentDOM:m}=ji.renderSpec(e,f,i);if(a.appendChild(p),m){if(o)throw new RangeError("Multiple content holes");o=m}}}return{dom:a,contentDOM:o}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new ji(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=y_(e.nodes);return t.text||(t.text=i=>i.text),t}static marksFromSchema(e){return y_(e.marks)}}function y_(n){let e={};for(let t in n){let i=n[t].spec.toDOM;i&&(e[t]=i)}return e}function mf(n){return n.document||window.document}const Yx=65535,Xx=Math.pow(2,16);function cI(n,e){return n+e*Xx}function __(n){return n&Yx}function uI(n){return(n-(n&Yx))/Xx}const Qx=1,ew=2,_u=4,tw=8;class Op{constructor(e,t,i){this.pos=e,this.delInfo=t,this.recover=i}get deleted(){return(this.delInfo&tw)>0}get deletedBefore(){return(this.delInfo&(Qx|_u))>0}get deletedAfter(){return(this.delInfo&(ew|_u))>0}get deletedAcross(){return(this.delInfo&_u)>0}}class Xn{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&Xn.empty)return Xn.empty}recover(e){let t=0,i=__(e);if(!this.inverted)for(let s=0;s<i;s++)t+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[i*3]+t+uI(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,i){let s=0,r=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?s:0);if(l>e)break;let u=this.ranges[a+r],d=this.ranges[a+o],f=l+u;if(e<=f){let p=u?e==l?-1:e==f?1:t:t,m=l+s+(p<0?0:d);if(i)return m;let _=e==(t<0?l:f)?null:cI(a/3,e-l),b=e==l?ew:e==f?Qx:_u;return(t<0?e!=l:e!=f)&&(b|=tw),new Op(m,b,_)}s+=d-u}return i?e+s:new Op(e+s,0,null)}touches(e,t){let i=0,s=__(t),r=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;let u=this.ranges[a+r],d=l+u;if(e<=d&&a==s*3)return!0;i+=this.ranges[a+o]-u}return!1}forEach(e){let t=this.inverted?2:1,i=this.inverted?1:2;for(let s=0,r=0;s<this.ranges.length;s+=3){let o=this.ranges[s],a=o-(this.inverted?r:0),l=o+(this.inverted?0:r),u=this.ranges[s+t],d=this.ranges[s+i];e(a,a+u,l,l+d),r+=d-u}}invert(){return new Xn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Xn.empty:new Xn(e<0?[0,-e,0]:[0,0,e])}}Xn.empty=new Xn([]);class zo{constructor(e=[],t,i=0,s=e.length){this.maps=e,this.mirror=t,this.from=i,this.to=s}slice(e=0,t=this.maps.length){return new zo(this.maps,this.mirror,e,t)}copy(){return new zo(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,t){this.to=this.maps.push(e),t!=null&&this.setMirror(this.maps.length-1,t)}appendMapping(e){for(let t=0,i=this.maps.length;t<e.maps.length;t++){let s=e.getMirror(t);this.appendMap(e.maps[t],s!=null&&s<t?i+s:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,i=this.maps.length+e.maps.length;t>=0;t--){let s=e.getMirror(t);this.appendMap(e.maps[t].invert(),s!=null&&s>t?i-s-1:void 0)}}invert(){let e=new zo;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let i=this.from;i<this.to;i++)e=this.maps[i].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,i){let s=0;for(let r=this.from;r<this.to;r++){let o=this.maps[r],a=o.mapResult(e,t);if(a.recover!=null){let l=this.getMirror(r);if(l!=null&&l>r&&l<this.to){r=l,e=this.maps[l].recover(a.recover);continue}}s|=a.delInfo,e=a.pos}return i?e:new Op(e,s,null)}}const gf=Object.create(null);class Dn{getMap(){return Xn.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let i=gf[t.stepType];if(!i)throw new RangeError(`No step type ${t.stepType} defined`);return i.fromJSON(e,t)}static jsonID(e,t){if(e in gf)throw new RangeError("Duplicate use of step JSON ID "+e);return gf[e]=t,t.prototype.jsonID=e,t}}class Wt{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new Wt(e,null)}static fail(e){return new Wt(null,e)}static fromReplace(e,t,i,s){try{return Wt.ok(e.replace(t,i,s))}catch(r){if(r instanceof Uu)return Wt.fail(r.message);throw r}}}function eg(n,e,t){let i=[];for(let s=0;s<n.childCount;s++){let r=n.child(s);r.content.size&&(r=r.copy(eg(r.content,e,r))),r.isInline&&(r=e(r,t,s)),i.push(r)}return se.fromArray(i)}class Fs extends Dn{constructor(e,t,i){super(),this.from=e,this.to=t,this.mark=i}apply(e){let t=e.slice(this.from,this.to),i=e.resolve(this.from),s=i.node(i.sharedDepth(this.to)),r=new _e(eg(t.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),s),t.openStart,t.openEnd);return Wt.fromReplace(e,this.from,this.to,r)}invert(){return new Ni(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return t.deleted&&i.deleted||t.pos>=i.pos?null:new Fs(t.pos,i.pos,this.mark)}merge(e){return e instanceof Fs&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Fs(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Fs(t.from,t.to,e.markFromJSON(t.mark))}}Dn.jsonID("addMark",Fs);class Ni extends Dn{constructor(e,t,i){super(),this.from=e,this.to=t,this.mark=i}apply(e){let t=e.slice(this.from,this.to),i=new _e(eg(t.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),t.openStart,t.openEnd);return Wt.fromReplace(e,this.from,this.to,i)}invert(){return new Fs(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return t.deleted&&i.deleted||t.pos>=i.pos?null:new Ni(t.pos,i.pos,this.mark)}merge(e){return e instanceof Ni&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ni(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Ni(t.from,t.to,e.markFromJSON(t.mark))}}Dn.jsonID("removeMark",Ni);class $s extends Dn{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Wt.fail("No node at mark step's position");let i=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return Wt.fromReplace(e,this.pos,this.pos+1,new _e(se.from(i),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let i=this.mark.addToSet(t.marks);if(i.length==t.marks.length){for(let s=0;s<t.marks.length;s++)if(!t.marks[s].isInSet(i))return new $s(this.pos,t.marks[s]);return new $s(this.pos,this.mark)}}return new Jo(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new $s(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new $s(t.pos,e.markFromJSON(t.mark))}}Dn.jsonID("addNodeMark",$s);class Jo extends Dn{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Wt.fail("No node at mark step's position");let i=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return Wt.fromReplace(e,this.pos,this.pos+1,new _e(se.from(i),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new $s(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Jo(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Jo(t.pos,e.markFromJSON(t.mark))}}Dn.jsonID("removeNodeMark",Jo);class fn extends Dn{constructor(e,t,i,s=!1){super(),this.from=e,this.to=t,this.slice=i,this.structure=s}apply(e){return this.structure&&Lp(e,this.from,this.to)?Wt.fail("Structure replace would overwrite content"):Wt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Xn([this.from,this.to-this.from,this.slice.size])}invert(e){return new fn(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return t.deletedAcross&&i.deletedAcross?null:new fn(t.pos,Math.max(t.pos,i.pos),this.slice)}merge(e){if(!(e instanceof fn)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?_e.empty:new _e(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new fn(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?_e.empty:new _e(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new fn(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new fn(t.from,t.to,_e.fromJSON(e,t.slice),!!t.structure)}}Dn.jsonID("replace",fn);class Yt extends Dn{constructor(e,t,i,s,r,o,a=!1){super(),this.from=e,this.to=t,this.gapFrom=i,this.gapTo=s,this.slice=r,this.insert=o,this.structure=a}apply(e){if(this.structure&&(Lp(e,this.from,this.gapFrom)||Lp(e,this.gapTo,this.to)))return Wt.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return Wt.fail("Gap is not a flat range");let i=this.slice.insertAt(this.insert,t.content);return i?Wt.fromReplace(e,this.from,this.to,i):Wt.fail("Content does not fit in gap")}getMap(){return new Xn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new Yt(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),i=e.mapResult(this.to,-1),s=e.map(this.gapFrom,-1),r=e.map(this.gapTo,1);return t.deletedAcross&&i.deletedAcross||s<t.pos||r>i.pos?null:new Yt(t.pos,i.pos,s,r,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Yt(t.from,t.to,t.gapFrom,t.gapTo,_e.fromJSON(e,t.slice),t.insert,!!t.structure)}}Dn.jsonID("replaceAround",Yt);function Lp(n,e,t){let i=n.resolve(e),s=t-e,r=i.depth;for(;s>0&&r>0&&i.indexAfter(r)==i.node(r).childCount;)r--,s--;if(s>0){let o=i.node(r).maybeChild(i.indexAfter(r));for(;s>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,s--}}return!1}function dI(n,e,t,i){let s=[],r=[],o,a;n.doc.nodesBetween(e,t,(l,u,d)=>{if(!l.isInline)return;let f=l.marks;if(!i.isInSet(f)&&d.type.allowsMarkType(i.type)){let p=Math.max(u,e),m=Math.min(u+l.nodeSize,t),_=i.addToSet(f);for(let b=0;b<f.length;b++)f[b].isInSet(_)||(o&&o.to==p&&o.mark.eq(f[b])?o.to=m:s.push(o=new Ni(p,m,f[b])));a&&a.to==p?a.to=m:r.push(a=new Fs(p,m,i))}}),s.forEach(l=>n.step(l)),r.forEach(l=>n.step(l))}function hI(n,e,t,i){let s=[],r=0;n.doc.nodesBetween(e,t,(o,a)=>{if(!o.isInline)return;r++;let l=null;if(i instanceof Fd){let u=o.marks,d;for(;d=i.isInSet(u);)(l||(l=[])).push(d),u=d.removeFromSet(u)}else i?i.isInSet(o.marks)&&(l=[i]):l=o.marks;if(l&&l.length){let u=Math.min(a+o.nodeSize,t);for(let d=0;d<l.length;d++){let f=l[d],p;for(let m=0;m<s.length;m++){let _=s[m];_.step==r-1&&f.eq(s[m].style)&&(p=_)}p?(p.to=u,p.step=r):s.push({style:f,from:Math.max(a,e),to:u,step:r})}}}),s.forEach(o=>n.step(new Ni(o.from,o.to,o.style)))}function fI(n,e,t,i=t.contentMatch){let s=n.doc.nodeAt(e),r=[],o=e+1;for(let a=0;a<s.childCount;a++){let l=s.child(a),u=o+l.nodeSize,d=i.matchType(l.type);if(!d)r.push(new fn(o,u,_e.empty));else{i=d;for(let f=0;f<l.marks.length;f++)t.allowsMarkType(l.marks[f].type)||n.step(new Ni(o,u,l.marks[f]))}o=u}if(!i.validEnd){let a=i.fillBefore(se.empty,!0);n.replace(o,o,new _e(a,0,0))}for(let a=r.length-1;a>=0;a--)n.step(r[a])}function pI(n,e,t){return(e==0||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function sa(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let i=n.depth;;--i){let s=n.$from.node(i),r=n.$from.index(i),o=n.$to.indexAfter(i);if(i<n.depth&&s.canReplace(r,o,t))return i;if(i==0||s.type.spec.isolating||!pI(s,r,o))break}return null}function mI(n,e,t){let{$from:i,$to:s,depth:r}=e,o=i.before(r+1),a=s.after(r+1),l=o,u=a,d=se.empty,f=0;for(let _=r,b=!1;_>t;_--)b||i.index(_)>0?(b=!0,d=se.from(i.node(_).copy(d)),f++):l--;let p=se.empty,m=0;for(let _=r,b=!1;_>t;_--)b||s.after(_+1)<s.end(_)?(b=!0,p=se.from(s.node(_).copy(p)),m++):u++;n.step(new Yt(l,u,o,a,new _e(d.append(p),f,m),d.size-f,!0))}function tg(n,e,t=null,i=n){let s=gI(n,e),r=s&&yI(i,e);return r?s.map(v_).concat({type:e,attrs:t}).concat(r.map(v_)):null}function v_(n){return{type:n,attrs:null}}function gI(n,e){let{parent:t,startIndex:i,endIndex:s}=n,r=t.contentMatchAt(i).findWrapping(e);if(!r)return null;let o=r.length?r[0]:e;return t.canReplaceWith(i,s,o)?r:null}function yI(n,e){let{parent:t,startIndex:i,endIndex:s}=n,r=t.child(i),o=e.contentMatch.findWrapping(r.type);if(!o)return null;let l=(o.length?o[o.length-1]:e).contentMatch;for(let u=i;l&&u<s;u++)l=l.matchType(t.child(u).type);return!l||!l.validEnd?null:o}function _I(n,e,t){let i=se.empty;for(let o=t.length-1;o>=0;o--){if(i.size){let a=t[o].type.contentMatch.matchFragment(i);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}i=se.from(t[o].type.create(t[o].attrs,i))}let s=e.start,r=e.end;n.step(new Yt(s,r,s,r,new _e(i,0,0),t.length,!0))}function vI(n,e,t,i,s){if(!i.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let r=n.steps.length;n.doc.nodesBetween(e,t,(o,a)=>{if(o.isTextblock&&!o.hasMarkup(i,s)&&bI(n.doc,n.mapping.slice(r).map(a),i)){n.clearIncompatible(n.mapping.slice(r).map(a,1),i);let l=n.mapping.slice(r),u=l.map(a,1),d=l.map(a+o.nodeSize,1);return n.step(new Yt(u,d,u+1,d-1,new _e(se.from(i.create(s,null,o.marks)),0,0),1,!0)),!1}})}function bI(n,e,t){let i=n.resolve(e),s=i.index();return i.parent.canReplaceWith(s,s+1,t)}function xI(n,e,t,i,s){let r=n.doc.nodeAt(e);if(!r)throw new RangeError("No node at given position");t||(t=r.type);let o=t.create(i,null,s||r.marks);if(r.isLeaf)return n.replaceWith(e,e+r.nodeSize,o);if(!t.validContent(r.content))throw new RangeError("Invalid content for node type "+t.name);n.step(new Yt(e,e+r.nodeSize,e+1,e+r.nodeSize-1,new _e(se.from(o),0,0),1,!0))}function Bo(n,e,t=1,i){let s=n.resolve(e),r=s.depth-t,o=i&&i[i.length-1]||s.parent;if(r<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!o.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let u=s.depth-1,d=t-2;u>r;u--,d--){let f=s.node(u),p=s.index(u);if(f.type.spec.isolating)return!1;let m=f.content.cutByIndex(p,f.childCount),_=i&&i[d]||f;if(_!=f&&(m=m.replaceChild(0,_.type.create(_.attrs))),!f.canReplace(p+1,f.childCount)||!_.type.validContent(m))return!1}let a=s.indexAfter(r),l=i&&i[0];return s.node(r).canReplaceWith(a,a,l?l.type:s.node(r+1).type)}function wI(n,e,t=1,i){let s=n.doc.resolve(e),r=se.empty,o=se.empty;for(let a=s.depth,l=s.depth-t,u=t-1;a>l;a--,u--){r=se.from(s.node(a).copy(r));let d=i&&i[u];o=se.from(d?d.type.create(d.attrs,o):s.node(a).copy(o))}n.step(new fn(e,e,new _e(r.append(o),t,t),!0))}function rr(n,e){let t=n.resolve(e),i=t.index();return nw(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(i,i+1)}function nw(n,e){return!!(n&&e&&!n.isLeaf&&n.canAppend(e))}function $d(n,e,t=-1){let i=n.resolve(e);for(let s=i.depth;;s--){let r,o,a=i.index(s);if(s==i.depth?(r=i.nodeBefore,o=i.nodeAfter):t>0?(r=i.node(s+1),a++,o=i.node(s).maybeChild(a)):(r=i.node(s).maybeChild(a-1),o=i.node(s+1)),r&&!r.isTextblock&&nw(r,o)&&i.node(s).canReplace(a,a+1))return e;if(s==0)break;e=t<0?i.before(s):i.after(s)}}function kI(n,e,t){let i=new fn(e-t,e+t,_e.empty,!0);n.step(i)}function SI(n,e,t){let i=n.resolve(e);if(i.parent.canReplaceWith(i.index(),i.index(),t))return e;if(i.parentOffset==0)for(let s=i.depth-1;s>=0;s--){let r=i.index(s);if(i.node(s).canReplaceWith(r,r,t))return i.before(s+1);if(r>0)return null}if(i.parentOffset==i.parent.content.size)for(let s=i.depth-1;s>=0;s--){let r=i.indexAfter(s);if(i.node(s).canReplaceWith(r,r,t))return i.after(s+1);if(r<i.node(s).childCount)return null}return null}function iw(n,e,t){let i=n.resolve(e);if(!t.content.size)return e;let s=t.content;for(let r=0;r<t.openStart;r++)s=s.firstChild.content;for(let r=1;r<=(t.openStart==0&&t.size?2:1);r++)for(let o=i.depth;o>=0;o--){let a=o==i.depth?0:i.pos<=(i.start(o+1)+i.end(o+1))/2?-1:1,l=i.index(o)+(a>0?1:0),u=i.node(o),d=!1;if(r==1)d=u.canReplace(l,l,s);else{let f=u.contentMatchAt(l).findWrapping(s.firstChild.type);d=f&&u.canReplaceWith(l,l,f[0])}if(d)return a==0?i.pos:a<0?i.before(o+1):i.after(o+1)}return null}function ng(n,e,t=e,i=_e.empty){if(e==t&&!i.size)return null;let s=n.resolve(e),r=n.resolve(t);return sw(s,r,i)?new fn(e,t,i):new MI(s,r,i).fit()}function sw(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}class MI{constructor(e,t,i){this.$from=e,this.$to=t,this.unplaced=i,this.frontier=[],this.placed=se.empty;for(let s=0;s<=e.depth;s++){let r=e.node(s);this.frontier.push({type:r.type,match:r.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=se.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,i=this.$from,s=this.close(e<0?this.$to:i.doc.resolve(e));if(!s)return null;let r=this.placed,o=i.depth,a=s.depth;for(;o&&a&&r.childCount==1;)r=r.firstChild.content,o--,a--;let l=new _e(r,o,a);return e>-1?new Yt(i.pos,e,this.$to.pos,this.$to.end(),l,t):l.size||i.pos!=this.$to.pos?new fn(i.pos,s.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,i=0,s=this.unplaced.openEnd;i<e;i++){let r=t.firstChild;if(t.childCount>1&&(s=0),r.type.spec.isolating&&s<=i){e=i;break}t=r.content}for(let t=1;t<=2;t++)for(let i=t==1?e:this.unplaced.openStart;i>=0;i--){let s,r=null;i?(r=yf(this.unplaced.content,i-1).firstChild,s=r.content):s=this.unplaced.content;let o=s.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:u}=this.frontier[a],d,f=null;if(t==1&&(o?u.matchType(o.type)||(f=u.fillBefore(se.from(o),!1)):r&&l.compatibleContent(r.type)))return{sliceDepth:i,frontierDepth:a,parent:r,inject:f};if(t==2&&o&&(d=u.findWrapping(o.type)))return{sliceDepth:i,frontierDepth:a,parent:r,wrap:d};if(r&&u.matchType(r.type))break}}}openMore(){let{content:e,openStart:t,openEnd:i}=this.unplaced,s=yf(e,t);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new _e(e,t+1,Math.max(i,s.size+t>=e.size-i?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:i}=this.unplaced,s=yf(e,t);if(s.childCount<=1&&t>0){let r=e.size-t<=t+s.size;this.unplaced=new _e(Wa(e,t-1,1),t-1,r?t-1:i)}else this.unplaced=new _e(Wa(e,t,1),t,i)}placeNodes({sliceDepth:e,frontierDepth:t,parent:i,inject:s,wrap:r}){for(;this.depth>t;)this.closeFrontierNode();if(r)for(let b=0;b<r.length;b++)this.openFrontierNode(r[b]);let o=this.unplaced,a=i?i.content:o.content,l=o.openStart-e,u=0,d=[],{match:f,type:p}=this.frontier[t];if(s){for(let b=0;b<s.childCount;b++)d.push(s.child(b));f=f.matchFragment(s)}let m=a.size+e-(o.content.size-o.openEnd);for(;u<a.childCount;){let b=a.child(u),k=f.matchType(b.type);if(!k)break;u++,(u>1||l==0||b.content.size)&&(f=k,d.push(rw(b.mark(p.allowedMarks(b.marks)),u==1?l:0,u==a.childCount?m:-1)))}let _=u==a.childCount;_||(m=-1),this.placed=Ua(this.placed,t,se.from(d)),this.frontier[t].match=f,_&&m<0&&i&&i.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let b=0,k=a;b<m;b++){let M=k.lastChild;this.frontier.push({type:M.type,match:M.contentMatchAt(M.childCount)}),k=M.content}this.unplaced=_?e==0?_e.empty:new _e(Wa(o.content,e-1,1),e-1,m<0?o.openEnd:e-1):new _e(Wa(o.content,e,u),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!_f(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:i}=this.$to,s=this.$to.after(i);for(;i>1&&s==this.$to.end(--i);)++s;return s}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:i,type:s}=this.frontier[t],r=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),o=_f(e,t,s,i,r);if(o){for(let a=t-1;a>=0;a--){let{match:l,type:u}=this.frontier[a],d=_f(e,a,u,l,!0);if(!d||d.childCount)continue e}return{depth:t,fit:o,move:r?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=Ua(this.placed,t.depth,t.fit)),e=t.move;for(let i=t.depth+1;i<=e.depth;i++){let s=e.node(i),r=s.type.contentMatch.fillBefore(s.content,!0,e.index(i));this.openFrontierNode(s.type,s.attrs,r)}return e}openFrontierNode(e,t=null,i){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=Ua(this.placed,this.depth,se.from(e.create(t,i))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(se.empty,!0);t.childCount&&(this.placed=Ua(this.placed,this.frontier.length,t))}}function Wa(n,e,t){return e==0?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(Wa(n.firstChild.content,e-1,t)))}function Ua(n,e,t){return e==0?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(Ua(n.lastChild.content,e-1,t)))}function yf(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function rw(n,e,t){if(e<=0)return n;let i=n.content;return e>1&&(i=i.replaceChild(0,rw(i.firstChild,e-1,i.childCount==1?t-1:0))),e>0&&(i=n.type.contentMatch.fillBefore(i).append(i),t<=0&&(i=i.append(n.type.contentMatch.matchFragment(i).fillBefore(se.empty,!0)))),n.copy(i)}function _f(n,e,t,i,s){let r=n.node(e),o=s?n.indexAfter(e):n.index(e);if(o==r.childCount&&!t.compatibleContent(r.type))return null;let a=i.fillBefore(r.content,!0,o);return a&&!CI(t,r.content,o)?a:null}function CI(n,e,t){for(let i=t;i<e.childCount;i++)if(!n.allowsMarks(e.child(i).marks))return!0;return!1}function TI(n){return n.spec.defining||n.spec.definingForContent}function PI(n,e,t,i){if(!i.size)return n.deleteRange(e,t);let s=n.doc.resolve(e),r=n.doc.resolve(t);if(sw(s,r,i))return n.step(new fn(e,t,i));let o=aw(s,n.doc.resolve(t));o[o.length-1]==0&&o.pop();let a=-(s.depth+1);o.unshift(a);for(let p=s.depth,m=s.pos-1;p>0;p--,m--){let _=s.node(p).type.spec;if(_.defining||_.definingAsContext||_.isolating)break;o.indexOf(p)>-1?a=p:s.before(p)==m&&o.splice(1,0,-p)}let l=o.indexOf(a),u=[],d=i.openStart;for(let p=i.content,m=0;;m++){let _=p.firstChild;if(u.push(_),m==i.openStart)break;p=_.content}for(let p=d-1;p>=0;p--){let m=u[p].type,_=TI(m);if(_&&s.node(l).type!=m)d=p;else if(_||!m.isTextblock)break}for(let p=i.openStart;p>=0;p--){let m=(p+d+1)%(i.openStart+1),_=u[m];if(_)for(let b=0;b<o.length;b++){let k=o[(b+l)%o.length],M=!0;k<0&&(M=!1,k=-k);let E=s.node(k-1),A=s.index(k-1);if(E.canReplaceWith(A,A,_.type,_.marks))return n.replace(s.before(k),M?r.after(k):t,new _e(ow(i.content,0,i.openStart,m),m,i.openEnd))}}let f=n.steps.length;for(let p=o.length-1;p>=0&&(n.replace(e,t,i),!(n.steps.length>f));p--){let m=o[p];m<0||(e=s.before(m),t=r.after(m))}}function ow(n,e,t,i,s){if(e<t){let r=n.firstChild;n=n.replaceChild(0,r.copy(ow(r.content,e+1,t,i,r)))}if(e>i){let r=s.contentMatchAt(0),o=r.fillBefore(n).append(n);n=o.append(r.matchFragment(o).fillBefore(se.empty,!0))}return n}function EI(n,e,t,i){if(!i.isInline&&e==t&&n.doc.resolve(e).parent.content.size){let s=SI(n.doc,e,i.type);s!=null&&(e=t=s)}n.replaceRange(e,t,new _e(se.from(i),0,0))}function AI(n,e,t){let i=n.doc.resolve(e),s=n.doc.resolve(t),r=aw(i,s);for(let o=0;o<r.length;o++){let a=r[o],l=o==r.length-1;if(l&&a==0||i.node(a).type.contentMatch.validEnd)return n.delete(i.start(a),s.end(a));if(a>0&&(l||i.node(a-1).canReplace(i.index(a-1),s.indexAfter(a-1))))return n.delete(i.before(a),s.after(a))}for(let o=1;o<=i.depth&&o<=s.depth;o++)if(e-i.start(o)==i.depth-o&&t>i.end(o)&&s.end(o)-t!=s.depth-o)return n.delete(i.before(o),t);n.delete(e,t)}function aw(n,e){let t=[],i=Math.min(n.depth,e.depth);for(let s=i;s>=0;s--){let r=n.start(s);if(r<n.pos-(n.depth-s)||e.end(s)>e.pos+(e.depth-s)||n.node(s).type.spec.isolating||e.node(s).type.spec.isolating)break;(r==e.start(s)||s==n.depth&&s==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&s&&e.start(s-1)==r-1)&&t.push(s)}return t}class Fo extends Dn{constructor(e,t,i){super(),this.pos=e,this.attr=t,this.value=i}apply(e){let t=e.nodeAt(this.pos);if(!t)return Wt.fail("No node at attribute step's position");let i=Object.create(null);for(let r in t.attrs)i[r]=t.attrs[r];i[this.attr]=this.value;let s=t.type.create(i,null,t.marks);return Wt.fromReplace(e,this.pos,this.pos+1,new _e(se.from(s),0,t.isLeaf?0:1))}getMap(){return Xn.empty}invert(e){return new Fo(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Fo(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Fo(t.pos,t.attr,t.value)}}Dn.jsonID("attr",Fo);let Yo=class extends Error{};Yo=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};Yo.prototype=Object.create(Error.prototype);Yo.prototype.constructor=Yo;Yo.prototype.name="TransformError";class ig{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new zo}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new Yo(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,i=_e.empty){let s=ng(this.doc,e,t,i);return s&&this.step(s),this}replaceWith(e,t,i){return this.replace(e,t,new _e(se.from(i),0,0))}delete(e,t){return this.replace(e,t,_e.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,i){return PI(this,e,t,i),this}replaceRangeWith(e,t,i){return EI(this,e,t,i),this}deleteRange(e,t){return AI(this,e,t),this}lift(e,t){return mI(this,e,t),this}join(e,t=1){return kI(this,e,t),this}wrap(e,t){return _I(this,e,t),this}setBlockType(e,t=e,i,s=null){return vI(this,e,t,i,s),this}setNodeMarkup(e,t,i=null,s){return xI(this,e,t,i,s),this}setNodeAttribute(e,t,i){return this.step(new Fo(e,t,i)),this}addNodeMark(e,t){return this.step(new $s(e,t)),this}removeNodeMark(e,t){if(!(t instanceof ut)){let i=this.doc.nodeAt(e);if(!i)throw new RangeError("No node at position "+e);if(t=t.isInSet(i.marks),!t)return this}return this.step(new Jo(e,t)),this}split(e,t=1,i){return wI(this,e,t,i),this}addMark(e,t,i){return dI(this,e,t,i),this}removeMark(e,t,i){return hI(this,e,t,i),this}clearIncompatible(e,t,i){return fI(this,e,t,i),this}}const vf=Object.create(null);class Be{constructor(e,t,i){this.$anchor=e,this.$head=t,this.ranges=i||[new lw(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=_e.empty){let i=t.content.lastChild,s=null;for(let a=0;a<t.openEnd;a++)s=i,i=i.lastChild;let r=e.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:l,$to:u}=o[a],d=e.mapping.slice(r);e.replaceRange(d.map(l.pos),d.map(u.pos),a?_e.empty:t),a==0&&w_(e,r,(i?i.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,t){let i=e.steps.length,s=this.ranges;for(let r=0;r<s.length;r++){let{$from:o,$to:a}=s[r],l=e.mapping.slice(i),u=l.map(o.pos),d=l.map(a.pos);r?e.deleteRange(u,d):(e.replaceRangeWith(u,d,t),w_(e,i,t.isInline?-1:1))}}static findFrom(e,t,i=!1){let s=e.parent.inlineContent?new Fe(e):_o(e.node(0),e.parent,e.pos,e.index(),t,i);if(s)return s;for(let r=e.depth-1;r>=0;r--){let o=t<0?_o(e.node(0),e.node(r),e.before(r+1),e.index(r),t,i):_o(e.node(0),e.node(r),e.after(r+1),e.index(r)+1,t,i);if(o)return o}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new mi(e.node(0))}static atStart(e){return _o(e,e,0,0,1)||new mi(e)}static atEnd(e){return _o(e,e,e.content.size,e.childCount,-1)||new mi(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let i=vf[t.type];if(!i)throw new RangeError(`No selection type ${t.type} defined`);return i.fromJSON(e,t)}static jsonID(e,t){if(e in vf)throw new RangeError("Duplicate use of selection JSON ID "+e);return vf[e]=t,t.prototype.jsonID=e,t}getBookmark(){return Fe.between(this.$anchor,this.$head).getBookmark()}}Be.prototype.visible=!0;class lw{constructor(e,t){this.$from=e,this.$to=t}}let b_=!1;function x_(n){!b_&&!n.parent.inlineContent&&(b_=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class Fe extends Be{constructor(e,t=e){x_(e),x_(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let i=e.resolve(t.map(this.head));if(!i.parent.inlineContent)return Be.near(i);let s=e.resolve(t.map(this.anchor));return new Fe(s.parent.inlineContent?s:i,i)}replace(e,t=_e.empty){if(super.replace(e,t),t==_e.empty){let i=this.$from.marksAcross(this.$to);i&&e.ensureMarks(i)}}eq(e){return e instanceof Fe&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Hd(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Fe(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,i=t){let s=e.resolve(t);return new this(s,i==t?s:e.resolve(i))}static between(e,t,i){let s=e.pos-t.pos;if((!i||s)&&(i=s>=0?1:-1),!t.parent.inlineContent){let r=Be.findFrom(t,i,!0)||Be.findFrom(t,-i,!0);if(r)t=r.$head;else return Be.near(t,i)}return e.parent.inlineContent||(s==0?e=t:(e=(Be.findFrom(e,-i,!0)||Be.findFrom(e,i,!0)).$anchor,e.pos<t.pos!=s<0&&(e=t))),new Fe(e,t)}}Be.jsonID("text",Fe);class Hd{constructor(e,t){this.anchor=e,this.head=t}map(e){return new Hd(e.map(this.anchor),e.map(this.head))}resolve(e){return Fe.between(e.resolve(this.anchor),e.resolve(this.head))}}class je extends Be{constructor(e){let t=e.nodeAfter,i=e.node(0).resolve(e.pos+t.nodeSize);super(e,i),this.node=t}map(e,t){let{deleted:i,pos:s}=t.mapResult(this.anchor),r=e.resolve(s);return i?Be.near(r):new je(r)}content(){return new _e(se.from(this.node),0,0)}eq(e){return e instanceof je&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new sg(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new je(e.resolve(t.anchor))}static create(e,t){return new je(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}je.prototype.visible=!1;Be.jsonID("node",je);class sg{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:i}=e.mapResult(this.anchor);return t?new Hd(i,i):new sg(i)}resolve(e){let t=e.resolve(this.anchor),i=t.nodeAfter;return i&&je.isSelectable(i)?new je(t):Be.near(t)}}class mi extends Be{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=_e.empty){if(t==_e.empty){e.delete(0,e.doc.content.size);let i=Be.atStart(e.doc);i.eq(e.selection)||e.setSelection(i)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new mi(e)}map(e){return new mi(e)}eq(e){return e instanceof mi}getBookmark(){return OI}}Be.jsonID("all",mi);const OI={map(){return this},resolve(n){return new mi(n)}};function _o(n,e,t,i,s,r=!1){if(e.inlineContent)return Fe.create(n,t);for(let o=i-(s>0?0:1);s>0?o<e.childCount:o>=0;o+=s){let a=e.child(o);if(a.isAtom){if(!r&&je.isSelectable(a))return je.create(n,t-(s<0?a.nodeSize:0))}else{let l=_o(n,a,t+s,s<0?a.childCount:0,s,r);if(l)return l}t+=a.nodeSize*s}return null}function w_(n,e,t){let i=n.steps.length-1;if(i<e)return;let s=n.steps[i];if(!(s instanceof fn||s instanceof Yt))return;let r=n.mapping.maps[i],o;r.forEach((a,l,u,d)=>{o==null&&(o=d)}),n.setSelection(Be.near(n.doc.resolve(o),t))}const k_=1,Hc=2,S_=4;class LI extends ig{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|k_)&~Hc,this.storedMarks=null,this}get selectionSet(){return(this.updated&k_)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Hc,this}ensureMarks(e){return ut.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Hc)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&~Hc,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let i=this.selection;return t&&(e=e.mark(this.storedMarks||(i.empty?i.$from.marks():i.$from.marksAcross(i.$to)||ut.none))),i.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,i){let s=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(s.text(e),!0):this.deleteSelection();{if(i==null&&(i=t),i=i==null?t:i,!e)return this.deleteRange(t,i);let r=this.storedMarks;if(!r){let o=this.doc.resolve(t);r=i==t?o.marks():o.marksAcross(this.doc.resolve(i))}return this.replaceRangeWith(t,i,s.text(e,r)),this.selection.empty||this.setSelection(Be.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=S_,this}get scrolledIntoView(){return(this.updated&S_)>0}}function M_(n,e){return!e||!n?n:n.bind(e)}class Za{constructor(e,t,i){this.name=e,this.init=M_(t.init,i),this.apply=M_(t.apply,i)}}const RI=[new Za("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new Za("selection",{init(n,e){return n.selection||Be.atStart(e.doc)},apply(n){return n.selection}}),new Za("storedMarks",{init(n){return n.storedMarks||null},apply(n,e,t,i){return i.selection.$cursor?n.storedMarks:null}}),new Za("scrollToSelection",{init(){return 0},apply(n,e){return n.scrolledIntoView?e+1:e}})];class bf{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=RI.slice(),t&&t.forEach(i=>{if(this.pluginsByKey[i.key])throw new RangeError("Adding different instances of a keyed plugin ("+i.key+")");this.plugins.push(i),this.pluginsByKey[i.key]=i,i.spec.state&&this.fields.push(new Za(i.key,i.spec.state,i))})}}class wo{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let i=0;i<this.config.plugins.length;i++)if(i!=t){let s=this.config.plugins[i];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],i=this.applyInner(e),s=null;for(;;){let r=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let l=s?s[o].n:0,u=s?s[o].state:this,d=l<t.length&&a.spec.appendTransaction.call(a,l?t.slice(l):t,u,i);if(d&&i.filterTransaction(d,o)){if(d.setMeta("appendedTransaction",e),!s){s=[];for(let f=0;f<this.config.plugins.length;f++)s.push(f<o?{state:i,n:t.length}:{state:this,n:0})}t.push(d),i=i.applyInner(d),r=!0}s&&(s[o]={state:i,n:t.length})}}if(!r)return{state:i,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new wo(this.config),i=this.config.fields;for(let s=0;s<i.length;s++){let r=i[s];t[r.name]=r.apply(e,this[r.name],this,t)}return t}get tr(){return new LI(this)}static create(e){let t=new bf(e.doc?e.doc.type.schema:e.schema,e.plugins),i=new wo(t);for(let s=0;s<t.fields.length;s++)i[t.fields[s].name]=t.fields[s].init(e,i);return i}reconfigure(e){let t=new bf(this.schema,e.plugins),i=t.fields,s=new wo(t);for(let r=0;r<i.length;r++){let o=i[r].name;s[o]=this.hasOwnProperty(o)?this[o]:i[r].init(e,s)}return s}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(i=>i.toJSON())),e&&typeof e=="object")for(let i in e){if(i=="doc"||i=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=e[i],r=s.spec.state;r&&r.toJSON&&(t[i]=r.toJSON.call(s,this[s.key]))}return t}static fromJSON(e,t,i){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let s=new bf(e.schema,e.plugins),r=new wo(s);return s.fields.forEach(o=>{if(o.name=="doc")r.doc=zr.fromJSON(e.schema,t.doc);else if(o.name=="selection")r.selection=Be.fromJSON(r.doc,t.selection);else if(o.name=="storedMarks")t.storedMarks&&(r.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(i)for(let a in i){let l=i[a],u=l.spec.state;if(l.key==o.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(t,a)){r[o.name]=u.fromJSON.call(l,e,t[a],r);return}}r[o.name]=o.init(e,r)}}),r}}function cw(n,e,t){for(let i in n){let s=n[i];s instanceof Function?s=s.bind(e):i=="handleDOMEvents"&&(s=cw(s,e,{})),t[i]=s}return t}class Bt{constructor(e){this.spec=e,this.props={},e.props&&cw(e.props,this,this.props),this.key=e.key?e.key.key:uw("plugin")}getState(e){return e[this.key]}}const xf=Object.create(null);function uw(n){return n in xf?n+"$"+ ++xf[n]:(xf[n]=0,n+"$")}class rn{constructor(e="key"){this.key=uw(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const zn=function(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e},Rl=function(n){let e=n.assignedSlot||n.parentNode;return e&&e.nodeType==11?e.host:e};let C_=null;const is=function(n,e,t){let i=C_||(C_=document.createRange());return i.setEnd(n,t==null?n.nodeValue.length:t),i.setStart(n,e||0),i},Kr=function(n,e,t,i){return t&&(T_(n,e,t,i,-1)||T_(n,e,t,i,1))},DI=/^(img|br|input|textarea|hr)$/i;function T_(n,e,t,i,s){for(;;){if(n==t&&e==i)return!0;if(e==(s<0?0:Ii(n))){let r=n.parentNode;if(!r||r.nodeType!=1||jI(n)||DI.test(n.nodeName)||n.contentEditable=="false")return!1;e=zn(n)+(s<0?0:1),n=r}else if(n.nodeType==1){if(n=n.childNodes[e+(s<0?-1:0)],n.contentEditable=="false")return!1;e=s<0?Ii(n):0}else return!1}}function Ii(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function II(n,e,t){for(let i=e==0,s=e==Ii(n);i||s;){if(n==t)return!0;let r=zn(n);if(n=n.parentNode,!n)return!1;i=i&&r==0,s=s&&r==Ii(n)}}function jI(n){let e;for(let t=n;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==n||e.contentDOM==n)}const Vd=function(n){return n.focusNode&&Kr(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function Cr(n,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=n,t.key=t.code=e,t}function NI(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}const Qs=typeof navigator!="undefined"?navigator:null,P_=typeof document!="undefined"?document:null,or=Qs&&Qs.userAgent||"",Rp=/Edge\/(\d+)/.exec(or),dw=/MSIE \d/.exec(or),Dp=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(or),Rn=!!(dw||Dp||Rp),Zs=dw?document.documentMode:Dp?+Dp[1]:Rp?+Rp[1]:0,bi=!Rn&&/gecko\/(\d+)/i.test(or);bi&&+(/Firefox\/(\d+)/.exec(or)||[0,0])[1];const Ip=!Rn&&/Chrome\/(\d+)/.exec(or),Sn=!!Ip,zI=Ip?+Ip[1]:0,Mn=!Rn&&!!Qs&&/Apple Computer/.test(Qs.vendor),Xo=Mn&&(/Mobile\/\w+/.test(or)||!!Qs&&Qs.maxTouchPoints>2),Jn=Xo||(Qs?/Mac/.test(Qs.platform):!1),ai=/Android \d/.test(or),Wd=!!P_&&"webkitFontSmoothing"in P_.documentElement.style,BI=Wd?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function FI(n){return{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function ks(n,e){return typeof n=="number"?n:n[e]}function $I(n){let e=n.getBoundingClientRect(),t=e.width/n.offsetWidth||1,i=e.height/n.offsetHeight||1;return{left:e.left,right:e.left+n.clientWidth*t,top:e.top,bottom:e.top+n.clientHeight*i}}function E_(n,e,t){let i=n.someProp("scrollThreshold")||0,s=n.someProp("scrollMargin")||5,r=n.dom.ownerDocument;for(let o=t||n.dom;o;o=Rl(o)){if(o.nodeType!=1)continue;let a=o,l=a==r.body,u=l?FI(r):$I(a),d=0,f=0;if(e.top<u.top+ks(i,"top")?f=-(u.top-e.top+ks(s,"top")):e.bottom>u.bottom-ks(i,"bottom")&&(f=e.bottom-u.bottom+ks(s,"bottom")),e.left<u.left+ks(i,"left")?d=-(u.left-e.left+ks(s,"left")):e.right>u.right-ks(i,"right")&&(d=e.right-u.right+ks(s,"right")),d||f)if(l)r.defaultView.scrollBy(d,f);else{let p=a.scrollLeft,m=a.scrollTop;f&&(a.scrollTop+=f),d&&(a.scrollLeft+=d);let _=a.scrollLeft-p,b=a.scrollTop-m;e={left:e.left-_,top:e.top-b,right:e.right-_,bottom:e.bottom-b}}if(l)break}}function HI(n){let e=n.dom.getBoundingClientRect(),t=Math.max(0,e.top),i,s;for(let r=(e.left+e.right)/2,o=t+1;o<Math.min(innerHeight,e.bottom);o+=5){let a=n.root.elementFromPoint(r,o);if(!a||a==n.dom||!n.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=t-20){i=a,s=l.top;break}}return{refDOM:i,refTop:s,stack:hw(n.dom)}}function hw(n){let e=[],t=n.ownerDocument;for(let i=n;i&&(e.push({dom:i,top:i.scrollTop,left:i.scrollLeft}),n!=t);i=Rl(i));return e}function VI({refDOM:n,refTop:e,stack:t}){let i=n?n.getBoundingClientRect().top:0;fw(t,i==0?0:i-e)}function fw(n,e){for(let t=0;t<n.length;t++){let{dom:i,top:s,left:r}=n[t];i.scrollTop!=s+e&&(i.scrollTop=s+e),i.scrollLeft!=r&&(i.scrollLeft=r)}}let po=null;function WI(n){if(n.setActive)return n.setActive();if(po)return n.focus(po);let e=hw(n);n.focus(po==null?{get preventScroll(){return po={preventScroll:!0},!0}}:void 0),po||(po=!1,fw(e,0))}function pw(n,e){let t,i=2e8,s,r=0,o=e.top,a=e.top;for(let l=n.firstChild,u=0;l;l=l.nextSibling,u++){let d;if(l.nodeType==1)d=l.getClientRects();else if(l.nodeType==3)d=is(l).getClientRects();else continue;for(let f=0;f<d.length;f++){let p=d[f];if(p.top<=o&&p.bottom>=a){o=Math.max(p.bottom,o),a=Math.min(p.top,a);let m=p.left>e.left?p.left-e.left:p.right<e.left?e.left-p.right:0;if(m<i){t=l,i=m,s=m&&t.nodeType==3?{left:p.right<e.left?p.right:p.left,top:e.top}:e,l.nodeType==1&&m&&(r=u+(e.left>=(p.left+p.right)/2?1:0));continue}}!t&&(e.left>=p.right&&e.top>=p.top||e.left>=p.left&&e.top>=p.bottom)&&(r=u+1)}}return t&&t.nodeType==3?UI(t,s):!t||i&&t.nodeType==1?{node:n,offset:r}:pw(t,s)}function UI(n,e){let t=n.nodeValue.length,i=document.createRange();for(let s=0;s<t;s++){i.setEnd(n,s+1),i.setStart(n,s);let r=Ms(i,1);if(r.top!=r.bottom&&rg(e,r))return{node:n,offset:s+(e.left>=(r.left+r.right)/2?1:0)}}return{node:n,offset:0}}function rg(n,e){return n.left>=e.left-1&&n.left<=e.right+1&&n.top>=e.top-1&&n.top<=e.bottom+1}function ZI(n,e){let t=n.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<n.getBoundingClientRect().left?t:n}function KI(n,e,t){let{node:i,offset:s}=pw(e,t),r=-1;if(i.nodeType==1&&!i.firstChild){let o=i.getBoundingClientRect();r=o.left!=o.right&&t.left>(o.left+o.right)/2?1:-1}return n.docView.posFromDOM(i,s,r)}function qI(n,e,t,i){let s=-1;for(let r=e,o=!1;r!=n.dom;){let a=n.docView.nearestDesc(r,!0);if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent&&!o||!a.contentDOM)){let l=a.dom.getBoundingClientRect();if(a.node.isBlock&&a.parent&&!o&&(o=!0,l.left>i.left||l.top>i.top?s=a.posBefore:(l.right<i.left||l.bottom<i.top)&&(s=a.posAfter)),!a.contentDOM&&s<0)return(a.node.isBlock?i.top<(l.top+l.bottom)/2:i.left<(l.left+l.right)/2)?a.posBefore:a.posAfter}r=a.dom.parentNode}return s>-1?s:n.docView.posFromDOM(e,t,-1)}function mw(n,e,t){let i=n.childNodes.length;if(i&&t.top<t.bottom)for(let s=Math.max(0,Math.min(i-1,Math.floor(i*(e.top-t.top)/(t.bottom-t.top))-2)),r=s;;){let o=n.childNodes[r];if(o.nodeType==1){let a=o.getClientRects();for(let l=0;l<a.length;l++){let u=a[l];if(rg(e,u))return mw(o,e,u)}}if((r=(r+1)%i)==s)break}return n}function GI(n,e){let t=n.dom.ownerDocument,i,s=0;if(t.caretPositionFromPoint)try{let l=t.caretPositionFromPoint(e.left,e.top);l&&({offsetNode:i,offset:s}=l)}catch(l){}if(!i&&t.caretRangeFromPoint){let l=t.caretRangeFromPoint(e.left,e.top);l&&({startContainer:i,startOffset:s}=l)}let r=(n.root.elementFromPoint?n.root:t).elementFromPoint(e.left,e.top),o;if(!r||!n.dom.contains(r.nodeType!=1?r.parentNode:r)){let l=n.dom.getBoundingClientRect();if(!rg(e,l)||(r=mw(n.dom,e,l),!r))return null}if(Mn)for(let l=r;i&&l;l=Rl(l))l.draggable&&(i=void 0);if(r=ZI(r,e),i){if(bi&&i.nodeType==1&&(s=Math.min(s,i.childNodes.length),s<i.childNodes.length)){let l=i.childNodes[s],u;l.nodeName=="IMG"&&(u=l.getBoundingClientRect()).right<=e.left&&u.bottom>e.top&&s++}i==n.dom&&s==i.childNodes.length-1&&i.lastChild.nodeType==1&&e.top>i.lastChild.getBoundingClientRect().bottom?o=n.state.doc.content.size:(s==0||i.nodeType!=1||i.childNodes[s-1].nodeName!="BR")&&(o=qI(n,i,s,e))}o==null&&(o=KI(n,r,e));let a=n.docView.nearestDesc(r,!0);return{pos:o,inside:a?a.posAtStart-a.border:-1}}function Ms(n,e){let t=n.getClientRects();return t.length?t[e<0?0:t.length-1]:n.getBoundingClientRect()}const JI=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function gw(n,e,t){let{node:i,offset:s,atom:r}=n.docView.domFromPos(e,t<0?-1:1),o=Wd||bi;if(i.nodeType==3)if(o&&(JI.test(i.nodeValue)||(t<0?!s:s==i.nodeValue.length))){let l=Ms(is(i,s,s),t);if(bi&&s&&/\s/.test(i.nodeValue[s-1])&&s<i.nodeValue.length){let u=Ms(is(i,s-1,s-1),-1);if(u.top==l.top){let d=Ms(is(i,s,s+1),-1);if(d.top!=l.top)return Da(d,d.left<u.left)}}return l}else{let l=s,u=s,d=t<0?1:-1;return t<0&&!s?(u++,d=-1):t>=0&&s==i.nodeValue.length?(l--,d=1):t<0?l--:u++,Da(Ms(is(i,l,u),1),d<0)}if(!n.state.doc.resolve(e-(r||0)).parent.inlineContent){if(r==null&&s&&(t<0||s==Ii(i))){let l=i.childNodes[s-1];if(l.nodeType==1)return wf(l.getBoundingClientRect(),!1)}if(r==null&&s<Ii(i)){let l=i.childNodes[s];if(l.nodeType==1)return wf(l.getBoundingClientRect(),!0)}return wf(i.getBoundingClientRect(),t>=0)}if(r==null&&s&&(t<0||s==Ii(i))){let l=i.childNodes[s-1],u=l.nodeType==3?is(l,Ii(l)-(o?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(u)return Da(Ms(u,1),!1)}if(r==null&&s<Ii(i)){let l=i.childNodes[s];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let u=l?l.nodeType==3?is(l,0,o?0:1):l.nodeType==1?l:null:null;if(u)return Da(Ms(u,-1),!0)}return Da(Ms(i.nodeType==3?is(i):i,-t),t>=0)}function Da(n,e){if(n.width==0)return n;let t=e?n.left:n.right;return{top:n.top,bottom:n.bottom,left:t,right:t}}function wf(n,e){if(n.height==0)return n;let t=e?n.top:n.bottom;return{top:t,bottom:t,left:n.left,right:n.right}}function yw(n,e,t){let i=n.state,s=n.root.activeElement;i!=e&&n.updateState(e),s!=n.dom&&n.focus();try{return t()}finally{i!=e&&n.updateState(i),s!=n.dom&&s&&s.focus()}}function YI(n,e,t){let i=e.selection,s=t=="up"?i.$from:i.$to;return yw(n,e,()=>{let{node:r}=n.docView.domFromPos(s.pos,t=="up"?-1:1);for(;;){let a=n.docView.nearestDesc(r,!0);if(!a)break;if(a.node.isBlock){r=a.contentDOM||a.dom;break}r=a.dom.parentNode}let o=gw(n,s.pos,1);for(let a=r.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=is(a,0,a.nodeValue.length).getClientRects();else continue;for(let u=0;u<l.length;u++){let d=l[u];if(d.bottom>d.top+1&&(t=="up"?o.top-d.top>(d.bottom-o.top)*2:d.bottom-o.bottom>(o.bottom-d.top)*2))return!1}}return!0})}const XI=/[\u0590-\u08ac]/;function QI(n,e,t){let{$head:i}=e.selection;if(!i.parent.isTextblock)return!1;let s=i.parentOffset,r=!s,o=s==i.parent.content.size,a=n.domSelection();return!XI.test(i.parent.textContent)||!a.modify?t=="left"||t=="backward"?r:o:yw(n,e,()=>{let{focusNode:l,focusOffset:u,anchorNode:d,anchorOffset:f}=n.domSelectionRange(),p=a.caretBidiLevel;a.modify("move",t,"character");let m=i.depth?n.docView.domAfterPos(i.before()):n.dom,{focusNode:_,focusOffset:b}=n.domSelectionRange(),k=_&&!m.contains(_.nodeType==1?_:_.parentNode)||l==_&&u==b;try{a.collapse(d,f),l&&(l!=d||u!=f)&&a.extend&&a.extend(l,u)}catch(M){}return p!=null&&(a.caretBidiLevel=p),k})}let A_=null,O_=null,L_=!1;function ej(n,e,t){return A_==e&&O_==t?L_:(A_=e,O_=t,L_=t=="up"||t=="down"?YI(n,e,t):QI(n,e,t))}const gi=0,R_=1,ko=2,$i=3;class Yl{constructor(e,t,i,s){this.parent=e,this.children=t,this.dom=i,this.contentDOM=s,this.dirty=gi,i.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,i){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,i=this.posAtStart;;t++){let s=this.children[t];if(s==e)return i;i+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,i){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(i<0){let r,o;if(e==this.contentDOM)r=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;r=e.previousSibling}for(;r&&!((o=r.pmViewDesc)&&o.parent==this);)r=r.previousSibling;return r?this.posBeforeChild(o)+o.size:this.posAtStart}else{let r,o;if(e==this.contentDOM)r=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;r=e.nextSibling}for(;r&&!((o=r.pmViewDesc)&&o.parent==this);)r=r.nextSibling;return r?this.posBeforeChild(o):this.posAtEnd}let s;if(e==this.dom&&this.contentDOM)s=t>zn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let r=e;;r=r.parentNode){if(r==this.dom){s=!1;break}if(r.previousSibling)break}if(s==null&&t==e.childNodes.length)for(let r=e;;r=r.parentNode){if(r==this.dom){s=!0;break}if(r.nextSibling)break}}return(s==null?i>0:s)?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let i=!0,s=e;s;s=s.parentNode){let r=this.getDesc(s),o;if(r&&(!t||r.node))if(i&&(o=r.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))i=!1;else return r}}getDesc(e){let t=e.pmViewDesc;for(let i=t;i;i=i.parent)if(i==this)return t}posFromDOM(e,t,i){for(let s=e;s;s=s.parentNode){let r=this.getDesc(s);if(r)return r.localPosFromDOM(e,t,i)}return-1}descAt(e){for(let t=0,i=0;t<this.children.length;t++){let s=this.children[t],r=i+s.size;if(i==e&&r!=i){for(;!s.border&&s.children.length;)s=s.children[0];return s}if(e<r)return s.descAt(e-i-s.border);i=r}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let i=0,s=0;for(let r=0;i<this.children.length;i++){let o=this.children[i],a=r+o.size;if(a>e||o instanceof vw){s=e-r;break}r=a}if(s)return this.children[i].domFromPos(s-this.children[i].border,t);for(let r;i&&!(r=this.children[i-1]).size&&r instanceof _w&&r.side>=0;i--);if(t<=0){let r,o=!0;for(;r=i?this.children[i-1]:null,!(!r||r.dom.parentNode==this.contentDOM);i--,o=!1);return r&&t&&o&&!r.border&&!r.domAtom?r.domFromPos(r.size,t):{node:this.contentDOM,offset:r?zn(r.dom)+1:0}}else{let r,o=!0;for(;r=i<this.children.length?this.children[i]:null,!(!r||r.dom.parentNode==this.contentDOM);i++,o=!1);return r&&o&&!r.border&&!r.domAtom?r.domFromPos(0,t):{node:this.contentDOM,offset:r?zn(r.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,i=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,r=-1;for(let o=i,a=0;;a++){let l=this.children[a],u=o+l.size;if(s==-1&&e<=u){let d=o+l.border;if(e>=d&&t<=u-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,t,d);e=o;for(let f=a;f>0;f--){let p=this.children[f-1];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(1)){s=zn(p.dom)+1;break}e-=p.size}s==-1&&(s=0)}if(s>-1&&(u>t||a==this.children.length-1)){t=u;for(let d=a+1;d<this.children.length;d++){let f=this.children[d];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){r=zn(f.dom);break}t+=f.size}r==-1&&(r=this.contentDOM.childNodes.length);break}o=u}return{node:this.contentDOM,from:e,to:t,fromOffset:s,toOffset:r}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:i}=this.domFromPos(e,0);if(t.nodeType!=1||i==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[i]}setSelection(e,t,i,s=!1){let r=Math.min(e,t),o=Math.max(e,t);for(let p=0,m=0;p<this.children.length;p++){let _=this.children[p],b=m+_.size;if(r>m&&o<b)return _.setSelection(e-m-_.border,t-m-_.border,i,s);m=b}let a=this.domFromPos(e,e?-1:1),l=t==e?a:this.domFromPos(t,t?-1:1),u=i.getSelection(),d=!1;if((bi||Mn)&&e==t){let{node:p,offset:m}=a;if(p.nodeType==3){if(d=!!(m&&p.nodeValue[m-1]==`
`),d&&m==p.nodeValue.length)for(let _=p,b;_;_=_.parentNode){if(b=_.nextSibling){b.nodeName=="BR"&&(a=l={node:b.parentNode,offset:zn(b)+1});break}let k=_.pmViewDesc;if(k&&k.node&&k.node.isBlock)break}}else{let _=p.childNodes[m-1];d=_&&(_.nodeName=="BR"||_.contentEditable=="false")}}if(bi&&u.focusNode&&u.focusNode!=l.node&&u.focusNode.nodeType==1){let p=u.focusNode.childNodes[u.focusOffset];p&&p.contentEditable=="false"&&(s=!0)}if(!(s||d&&Mn)&&Kr(a.node,a.offset,u.anchorNode,u.anchorOffset)&&Kr(l.node,l.offset,u.focusNode,u.focusOffset))return;let f=!1;if((u.extend||e==t)&&!d){u.collapse(a.node,a.offset);try{e!=t&&u.extend(l.node,l.offset),f=!0}catch(p){}}if(!f){if(e>t){let m=a;a=l,l=m}let p=document.createRange();p.setEnd(l.node,l.offset),p.setStart(a.node,a.offset),u.removeAllRanges(),u.addRange(p)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let i=0,s=0;s<this.children.length;s++){let r=this.children[s],o=i+r.size;if(i==o?e<=o&&t>=i:e<o&&t>i){let a=i+r.border,l=o-r.border;if(e>=a&&t<=l){this.dirty=e==i||t==o?ko:R_,e==a&&t==l&&(r.contentLost||r.dom.parentNode!=this.contentDOM)?r.dirty=$i:r.markDirty(e-a,t-a);return}else r.dirty=r.dom==r.contentDOM&&r.dom.parentNode==this.contentDOM&&!r.children.length?ko:$i}i=o}this.dirty=ko}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let i=e==1?ko:R_;t.dirty<i&&(t.dirty=i)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class _w extends Yl{constructor(e,t,i,s){let r,o=t.type.toDOM;if(typeof o=="function"&&(o=o(i,()=>{if(!r)return s;if(r.parent)return r.parent.posBeforeChild(r)})),!t.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=t,this.widget=t,r=this}matchesWidget(e){return this.dirty==gi&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class tj extends Yl{constructor(e,t,i,s){super(e,[],t,null),this.textDOM=i,this.text=s}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class qr extends Yl{constructor(e,t,i,s){super(e,[],i,s),this.mark=t}static create(e,t,i,s){let r=s.nodeViews[t.type.name],o=r&&r(t,s,i);return(!o||!o.dom)&&(o=ji.renderSpec(document,t.type.spec.toDOM(t,i))),new qr(e,t,o.dom,o.contentDOM||o.dom)}parseRule(){return this.dirty&$i||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}matchesMark(e){return this.dirty!=$i&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=gi){let i=this.parent;for(;!i.node;)i=i.parent;i.dirty<this.dirty&&(i.dirty=this.dirty),this.dirty=gi}}slice(e,t,i){let s=qr.create(this.parent,this.mark,!0,i),r=this.children,o=this.size;t<o&&(r=zp(r,t,o,i)),e>0&&(r=zp(r,0,e,i));for(let a=0;a<r.length;a++)r[a].parent=s;return s.children=r,s}}class Gr extends Yl{constructor(e,t,i,s,r,o,a,l,u){super(e,[],r,o),this.node=t,this.outerDeco=i,this.innerDeco=s,this.nodeDOM=a,o&&this.updateChildren(l,u)}static create(e,t,i,s,r,o){let a=r.nodeViews[t.type.name],l,u=a&&a(t,r,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)},i,s),d=u&&u.dom,f=u&&u.contentDOM;if(t.isText){if(!d)d=document.createTextNode(t.text);else if(d.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else d||({dom:d,contentDOM:f}=ji.renderSpec(document,t.type.spec.toDOM(t)));!f&&!t.isText&&d.nodeName!="BR"&&(d.hasAttribute("contenteditable")||(d.contentEditable="false"),t.type.spec.draggable&&(d.draggable=!0));let p=d;return d=ww(d,i,t),u?l=new nj(e,t,i,s,d,f||null,p,u,r,o+1):t.isText?new Ud(e,t,i,s,d,p,r):new Gr(e,t,i,s,d,f||null,p,r,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let i=this.children[t];if(this.dom.contains(i.dom.parentNode)){e.contentElement=i.dom.parentNode;break}}e.contentElement||(e.getContent=()=>se.empty)}return e}matchesNode(e,t,i){return this.dirty==gi&&e.eq(this.node)&&Np(t,this.outerDeco)&&i.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let i=this.node.inlineContent,s=t,r=e.composing?this.localCompositionInfo(e,t):null,o=r&&r.pos>-1?r:null,a=r&&r.pos<0,l=new sj(this,o&&o.node,e);aj(this.node,this.innerDeco,(u,d,f)=>{u.spec.marks?l.syncToMarks(u.spec.marks,i,e):u.type.side>=0&&!f&&l.syncToMarks(d==this.node.childCount?ut.none:this.node.child(d).marks,i,e),l.placeWidget(u,e,s)},(u,d,f,p)=>{l.syncToMarks(u.marks,i,e);let m;l.findNodeMatch(u,d,f,p)||a&&e.state.selection.from>s&&e.state.selection.to<s+u.nodeSize&&(m=l.findIndexWithChild(r.node))>-1&&l.updateNodeAt(u,d,f,m,e)||l.updateNextNode(u,d,f,e,p)||l.addNode(u,d,f,e,s),s+=u.nodeSize}),l.syncToMarks([],i,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==ko)&&(o&&this.protectLocalComposition(e,o),bw(this.contentDOM,this.children,e),Xo&&lj(this.dom))}localCompositionInfo(e,t){let{from:i,to:s}=e.state.selection;if(!(e.state.selection instanceof Fe)||i<t||s>t+this.node.content.size)return null;let r=e.domSelectionRange(),o=cj(r.focusNode,r.focusOffset);if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let a=o.nodeValue,l=uj(this.node.content,a,i-t,s-t);return l<0?null:{node:o,pos:l,text:a}}else return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:i,text:s}){if(this.getDesc(t))return;let r=t;for(;r.parentNode!=this.contentDOM;r=r.parentNode){for(;r.previousSibling;)r.parentNode.removeChild(r.previousSibling);for(;r.nextSibling;)r.parentNode.removeChild(r.nextSibling);r.pmViewDesc&&(r.pmViewDesc=void 0)}let o=new tj(this,r,t,s);e.input.compositionNodes.push(o),this.children=zp(this.children,i,i+s.length,e,o)}update(e,t,i,s){return this.dirty==$i||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,i,s),!0)}updateInner(e,t,i,s){this.updateOuterDeco(t),this.node=e,this.innerDeco=i,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=gi}updateOuterDeco(e){if(Np(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,i=this.dom;this.dom=xw(this.dom,this.nodeDOM,jp(this.outerDeco,this.node,t),jp(e,this.node,t)),this.dom!=i&&(i.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function D_(n,e,t,i,s){return ww(i,e,n),new Gr(void 0,n,e,t,i,i,i,s,0)}class Ud extends Gr{constructor(e,t,i,s,r,o,a){super(e,t,i,s,r,null,o,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,i,s){return this.dirty==$i||this.dirty!=gi&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=gi||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=e,this.dirty=gi,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,i){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,i)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,i){let s=this.node.cut(e,t),r=document.createTextNode(s.text);return new Ud(this.parent,s,this.outerDeco,this.innerDeco,r,r,i)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=$i)}get domAtom(){return!1}}class vw extends Yl{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==gi&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class nj extends Gr{constructor(e,t,i,s,r,o,a,l,u,d){super(e,t,i,s,r,o,a,u,d),this.spec=l}update(e,t,i,s){if(this.dirty==$i)return!1;if(this.spec.update){let r=this.spec.update(e,t,i);return r&&this.updateInner(e,t,i,s),r}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,i,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,i,s){this.spec.setSelection?this.spec.setSelection(e,t,i):super.setSelection(e,t,i,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function bw(n,e,t){let i=n.firstChild,s=!1;for(let r=0;r<e.length;r++){let o=e[r],a=o.dom;if(a.parentNode==n){for(;a!=i;)i=I_(i),s=!0;i=i.nextSibling}else s=!0,n.insertBefore(a,i);if(o instanceof qr){let l=i?i.previousSibling:n.lastChild;bw(o.contentDOM,o.children,t),i=l?l.nextSibling:n.firstChild}}for(;i;)i=I_(i),s=!0;s&&t.trackWrites==n&&(t.trackWrites=null)}const cl=function(n){n&&(this.nodeName=n)};cl.prototype=Object.create(null);const Or=[new cl];function jp(n,e,t){if(n.length==0)return Or;let i=t?Or[0]:new cl,s=[i];for(let r=0;r<n.length;r++){let o=n[r].type.attrs;if(o){o.nodeName&&s.push(i=new cl(o.nodeName));for(let a in o){let l=o[a];l!=null&&(t&&s.length==1&&s.push(i=new cl(e.isInline?"span":"div")),a=="class"?i.class=(i.class?i.class+" ":"")+l:a=="style"?i.style=(i.style?i.style+";":"")+l:a!="nodeName"&&(i[a]=l))}}}return s}function xw(n,e,t,i){if(t==Or&&i==Or)return e;let s=e;for(let r=0;r<i.length;r++){let o=i[r],a=t[r];if(r){let l;a&&a.nodeName==o.nodeName&&s!=n&&(l=s.parentNode)&&l.nodeName.toLowerCase()==o.nodeName||(l=document.createElement(o.nodeName),l.pmIsDeco=!0,l.appendChild(s),a=Or[0]),s=l}ij(s,a||Or[0],o)}return s}function ij(n,e,t){for(let i in e)i!="class"&&i!="style"&&i!="nodeName"&&!(i in t)&&n.removeAttribute(i);for(let i in t)i!="class"&&i!="style"&&i!="nodeName"&&t[i]!=e[i]&&n.setAttribute(i,t[i]);if(e.class!=t.class){let i=e.class?e.class.split(" ").filter(Boolean):[],s=t.class?t.class.split(" ").filter(Boolean):[];for(let r=0;r<i.length;r++)s.indexOf(i[r])==-1&&n.classList.remove(i[r]);for(let r=0;r<s.length;r++)i.indexOf(s[r])==-1&&n.classList.add(s[r]);n.classList.length==0&&n.removeAttribute("class")}if(e.style!=t.style){if(e.style){let i=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=i.exec(e.style);)n.style.removeProperty(s[1])}t.style&&(n.style.cssText+=t.style)}}function ww(n,e,t){return xw(n,n,Or,jp(e,t,n.nodeType!=1))}function Np(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].type.eq(e[t].type))return!1;return!0}function I_(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class sj{constructor(e,t,i){this.lock=t,this.view=i,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=rj(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let i=e;i<t;i++)this.top.children[i].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,i){let s=0,r=this.stack.length>>1,o=Math.min(r,e.length);for(;s<o&&(s==r-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<r;)this.destroyRest(),this.top.dirty=gi,this.index=this.stack.pop(),this.top=this.stack.pop(),r--;for(;r<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let u=this.top.children[l];if(u.matchesMark(e[r])&&!this.isLocked(u.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=qr.create(this.top,e[r],t,i);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,r++}}findNodeMatch(e,t,i,s){let r=-1,o;if(s>=this.preMatch.index&&(o=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&o.matchesNode(e,t,i))r=this.top.children.indexOf(o,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let u=this.top.children[a];if(u.matchesNode(e,t,i)&&!this.preMatch.matched.has(u)){r=a;break}}return r<0?!1:(this.destroyBetween(this.index,r),this.index++,!0)}updateNodeAt(e,t,i,s,r){let o=this.top.children[s];return o.dirty==$i&&o.dom==o.contentDOM&&(o.dirty=ko),o.update(e,t,i,r)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let i=e.pmViewDesc;if(i){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==i)return s}return-1}e=t}}updateNextNode(e,t,i,s,r){for(let o=this.index;o<this.top.children.length;o++){let a=this.top.children[o];if(a instanceof Gr){let l=this.preMatch.matched.get(a);if(l!=null&&l!=r)return!1;let u=a.dom;if(!(this.isLocked(u)&&!(e.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==e.text&&a.dirty!=$i&&Np(t,a.outerDeco)))&&a.update(e,t,i,s))return this.destroyBetween(this.index,o),a.dom!=u&&(this.changed=!0),this.index++,!0;break}}return!1}addNode(e,t,i,s,r){this.top.children.splice(this.index++,0,Gr.create(this.top,e,t,i,s,r)),this.changed=!0}placeWidget(e,t,i){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(e)&&(e==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let r=new _w(this.top,e,t,i);this.top.children.splice(this.index++,0,r),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof qr;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof Ud)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Mn||Sn)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let i=document.createElement(e);e=="IMG"&&(i.className="ProseMirror-separator",i.alt=""),e=="BR"&&(i.className="ProseMirror-trailingBreak");let s=new vw(this.top,[],i,null);t!=this.top?t.children.push(s):t.children.splice(this.index++,0,s),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function rj(n,e){let t=e,i=t.children.length,s=n.childCount,r=new Map,o=[];e:for(;s>0;){let a;for(;;)if(i){let u=t.children[i-1];if(u instanceof qr)t=u,i=u.children.length;else{a=u,i--;break}}else{if(t==e)break e;i=t.parent.children.indexOf(t),t=t.parent}let l=a.node;if(l){if(l!=n.child(s-1))break;--s,r.set(a,s),o.push(a)}}return{index:s,matched:r,matches:o.reverse()}}function oj(n,e){return n.type.side-e.type.side}function aj(n,e,t,i){let s=e.locals(n),r=0;if(s.length==0){for(let u=0;u<n.childCount;u++){let d=n.child(u);i(d,s,e.forChild(r,d),u),r+=d.nodeSize}return}let o=0,a=[],l=null;for(let u=0;;){if(o<s.length&&s[o].to==r){let _=s[o++],b;for(;o<s.length&&s[o].to==r;)(b||(b=[_])).push(s[o++]);if(b){b.sort(oj);for(let k=0;k<b.length;k++)t(b[k],u,!!l)}else t(_,u,!!l)}let d,f;if(l)f=-1,d=l,l=null;else if(u<n.childCount)f=u,d=n.child(u++);else break;for(let _=0;_<a.length;_++)a[_].to<=r&&a.splice(_--,1);for(;o<s.length&&s[o].from<=r&&s[o].to>r;)a.push(s[o++]);let p=r+d.nodeSize;if(d.isText){let _=p;o<s.length&&s[o].from<_&&(_=s[o].from);for(let b=0;b<a.length;b++)a[b].to<_&&(_=a[b].to);_<p&&(l=d.cut(_-r),d=d.cut(0,_-r),p=_,f=-1)}let m=d.isInline&&!d.isLeaf?a.filter(_=>!_.inline):a.slice();i(d,m,e.forChild(r,d),f),r=p}}function lj(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let e=n.style.cssText;n.style.cssText=e+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=e}}function cj(n,e){for(;;){if(n.nodeType==3)return n;if(n.nodeType==1&&e>0){if(n.childNodes.length>e&&n.childNodes[e].nodeType==3)return n.childNodes[e];n=n.childNodes[e-1],e=Ii(n)}else if(n.nodeType==1&&e<n.childNodes.length)n=n.childNodes[e],e=0;else return null}}function uj(n,e,t,i){for(let s=0,r=0;s<n.childCount&&r<=i;){let o=n.child(s++),a=r;if(r+=o.nodeSize,!o.isText)continue;let l=o.text;for(;s<n.childCount;){let u=n.child(s++);if(r+=u.nodeSize,!u.isText)break;l+=u.text}if(r>=t){let u=a<i?l.lastIndexOf(e,i-a-1):-1;if(u>=0&&u+e.length+a>=t)return a+u;if(t==i&&l.length>=i+e.length-a&&l.slice(i-a,i-a+e.length)==e)return i}}return-1}function zp(n,e,t,i,s){let r=[];for(let o=0,a=0;o<n.length;o++){let l=n[o],u=a,d=a+=l.size;u>=t||d<=e?r.push(l):(u<e&&r.push(l.slice(0,e-u,i)),s&&(r.push(s),s=void 0),d>t&&r.push(l.slice(t-u,l.size,i)))}return r}function og(n,e=null){let t=n.domSelectionRange(),i=n.state.doc;if(!t.focusNode)return null;let s=n.docView.nearestDesc(t.focusNode),r=s&&s.size==0,o=n.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(o<0)return null;let a=i.resolve(o),l,u;if(Vd(t)){for(l=a;s&&!s.node;)s=s.parent;let d=s.node;if(s&&d.isAtom&&je.isSelectable(d)&&s.parent&&!(d.isInline&&II(t.focusNode,t.focusOffset,s.dom))){let f=s.posBefore;u=new je(o==f?a:i.resolve(f))}}else{let d=n.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(d<0)return null;l=i.resolve(d)}if(!u){let d=e=="pointer"||n.state.selection.head<a.pos&&!r?1:-1;u=ag(n,l,a,d)}return u}function kw(n){return n.editable?n.hasFocus():Mw(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function ms(n,e=!1){let t=n.state.selection;if(Sw(n,t),!!kw(n)){if(!e&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&Sn){let i=n.domSelectionRange(),s=n.domObserver.currentSelection;if(i.anchorNode&&s.anchorNode&&Kr(i.anchorNode,i.anchorOffset,s.anchorNode,s.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)hj(n);else{let{anchor:i,head:s}=t,r,o;j_&&!(t instanceof Fe)&&(t.$from.parent.inlineContent||(r=N_(n,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(o=N_(n,t.to))),n.docView.setSelection(i,s,n.root,e),j_&&(r&&z_(r),o&&z_(o)),t.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&dj(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const j_=Mn||Sn&&zI<63;function N_(n,e){let{node:t,offset:i}=n.docView.domFromPos(e,0),s=i<t.childNodes.length?t.childNodes[i]:null,r=i?t.childNodes[i-1]:null;if(Mn&&s&&s.contentEditable=="false")return kf(s);if((!s||s.contentEditable=="false")&&(!r||r.contentEditable=="false")){if(s)return kf(s);if(r)return kf(r)}}function kf(n){return n.contentEditable="true",Mn&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function z_(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function dj(n){let e=n.dom.ownerDocument;e.removeEventListener("selectionchange",n.input.hideSelectionGuard);let t=n.domSelectionRange(),i=t.anchorNode,s=t.anchorOffset;e.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(t.anchorNode!=i||t.anchorOffset!=s)&&(e.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!kw(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function hj(n){let e=n.domSelection(),t=document.createRange(),i=n.cursorWrapper.dom,s=i.nodeName=="IMG";s?t.setEnd(i.parentNode,zn(i)+1):t.setEnd(i,0),t.collapse(!1),e.removeAllRanges(),e.addRange(t),!s&&!n.state.selection.visible&&Rn&&Zs<=11&&(i.disabled=!0,i.disabled=!1)}function Sw(n,e){if(e instanceof je){let t=n.docView.descAt(e.from);t!=n.lastSelectedViewDesc&&(B_(n),t&&t.selectNode(),n.lastSelectedViewDesc=t)}else B_(n)}function B_(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function ag(n,e,t,i){return n.someProp("createSelectionBetween",s=>s(n,e,t))||Fe.between(e,t,i)}function F_(n){return n.editable&&!n.hasFocus()?!1:Mw(n)}function Mw(n){let e=n.domSelectionRange();if(!e.anchorNode)return!1;try{return n.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(n.editable||n.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch(t){return!1}}function fj(n){let e=n.docView.domFromPos(n.state.selection.anchor,0),t=n.domSelectionRange();return Kr(e.node,e.offset,t.anchorNode,t.anchorOffset)}function Bp(n,e){let{$anchor:t,$head:i}=n.selection,s=e>0?t.max(i):t.min(i),r=s.parent.inlineContent?s.depth?n.doc.resolve(e>0?s.after():s.before()):null:s;return r&&Be.findFrom(r,e)}function Tr(n,e){return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()),!0}function $_(n,e,t){let i=n.state.selection;if(i instanceof Fe){if(!i.empty||t.indexOf("s")>-1)return!1;if(n.endOfTextblock(e>0?"right":"left")){let s=Bp(n.state,e);return s&&s instanceof je?Tr(n,s):!1}else if(!(Jn&&t.indexOf("m")>-1)){let s=i.$head,r=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,o;if(!r||r.isText)return!1;let a=e<0?s.pos-r.nodeSize:s.pos;return r.isAtom||(o=n.docView.descAt(a))&&!o.contentDOM?je.isSelectable(r)?Tr(n,new je(e<0?n.state.doc.resolve(s.pos-r.nodeSize):s)):Wd?Tr(n,new Fe(n.state.doc.resolve(e<0?a:a+r.nodeSize))):!1:!1}}else{if(i instanceof je&&i.node.isInline)return Tr(n,new Fe(e>0?i.$to:i.$from));{let s=Bp(n.state,e);return s?Tr(n,s):!1}}}function Yu(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function ul(n){let e=n.pmViewDesc;return e&&e.size==0&&(n.nextSibling||n.nodeName!="BR")}function Sf(n){let e=n.domSelectionRange(),t=e.focusNode,i=e.focusOffset;if(!t)return;let s,r,o=!1;for(bi&&t.nodeType==1&&i<Yu(t)&&ul(t.childNodes[i])&&(o=!0);;)if(i>0){if(t.nodeType!=1)break;{let a=t.childNodes[i-1];if(ul(a))s=t,r=--i;else if(a.nodeType==3)t=a,i=t.nodeValue.length;else break}}else{if(Cw(t))break;{let a=t.previousSibling;for(;a&&ul(a);)s=t.parentNode,r=zn(a),a=a.previousSibling;if(a)t=a,i=Yu(t);else{if(t=t.parentNode,t==n.dom)break;i=0}}}o?Fp(n,t,i):s&&Fp(n,s,r)}function Mf(n){let e=n.domSelectionRange(),t=e.focusNode,i=e.focusOffset;if(!t)return;let s=Yu(t),r,o;for(;;)if(i<s){if(t.nodeType!=1)break;let a=t.childNodes[i];if(ul(a))r=t,o=++i;else break}else{if(Cw(t))break;{let a=t.nextSibling;for(;a&&ul(a);)r=a.parentNode,o=zn(a)+1,a=a.nextSibling;if(a)t=a,i=0,s=Yu(t);else{if(t=t.parentNode,t==n.dom)break;i=s=0}}}r&&Fp(n,r,o)}function Cw(n){let e=n.pmViewDesc;return e&&e.node&&e.node.isBlock}function Fp(n,e,t){let i=n.domSelection();if(Vd(i)){let r=document.createRange();r.setEnd(e,t),r.setStart(e,t),i.removeAllRanges(),i.addRange(r)}else i.extend&&i.extend(e,t);n.domObserver.setCurSelection();let{state:s}=n;setTimeout(()=>{n.state==s&&ms(n)},50)}function H_(n,e,t){let i=n.state.selection;if(i instanceof Fe&&!i.empty||t.indexOf("s")>-1||Jn&&t.indexOf("m")>-1)return!1;let{$from:s,$to:r}=i;if(!s.parent.inlineContent||n.endOfTextblock(e<0?"up":"down")){let o=Bp(n.state,e);if(o&&o instanceof je)return Tr(n,o)}if(!s.parent.inlineContent){let o=e<0?s:r,a=i instanceof mi?Be.near(o,e):Be.findFrom(o,e);return a?Tr(n,a):!1}return!1}function V_(n,e){if(!(n.state.selection instanceof Fe))return!0;let{$head:t,$anchor:i,empty:s}=n.state.selection;if(!t.sameParent(i))return!0;if(!s)return!1;if(n.endOfTextblock(e>0?"forward":"backward"))return!0;let r=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(r&&!r.isText){let o=n.state.tr;return e<0?o.delete(t.pos-r.nodeSize,t.pos):o.delete(t.pos,t.pos+r.nodeSize),n.dispatch(o),!0}return!1}function W_(n,e,t){n.domObserver.stop(),e.contentEditable=t,n.domObserver.start()}function pj(n){if(!Mn||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let i=e.firstChild;W_(n,i,"true"),setTimeout(()=>W_(n,i,"false"),20)}return!1}function mj(n){let e="";return n.ctrlKey&&(e+="c"),n.metaKey&&(e+="m"),n.altKey&&(e+="a"),n.shiftKey&&(e+="s"),e}function gj(n,e){let t=e.keyCode,i=mj(e);return t==8||Jn&&t==72&&i=="c"?V_(n,-1)||Sf(n):t==46||Jn&&t==68&&i=="c"?V_(n,1)||Mf(n):t==13||t==27?!0:t==37||Jn&&t==66&&i=="c"?$_(n,-1,i)||Sf(n):t==39||Jn&&t==70&&i=="c"?$_(n,1,i)||Mf(n):t==38||Jn&&t==80&&i=="c"?H_(n,-1,i)||Sf(n):t==40||Jn&&t==78&&i=="c"?pj(n)||H_(n,1,i)||Mf(n):i==(Jn?"m":"c")&&(t==66||t==73||t==89||t==90)}function Tw(n,e){n.someProp("transformCopied",m=>{e=m(e,n)});let t=[],{content:i,openStart:s,openEnd:r}=e;for(;s>1&&r>1&&i.childCount==1&&i.firstChild.childCount==1;){s--,r--;let m=i.firstChild;t.push(m.type.name,m.attrs!=m.type.defaultAttrs?m.attrs:null),i=m.content}let o=n.someProp("clipboardSerializer")||ji.fromSchema(n.state.schema),a=Rw(),l=a.createElement("div");l.appendChild(o.serializeFragment(i,{document:a}));let u=l.firstChild,d,f=0;for(;u&&u.nodeType==1&&(d=Lw[u.nodeName.toLowerCase()]);){for(let m=d.length-1;m>=0;m--){let _=a.createElement(d[m]);for(;l.firstChild;)_.appendChild(l.firstChild);l.appendChild(_),f++}u=l.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${s} ${r}${f?` -${f}`:""} ${JSON.stringify(t)}`);let p=n.someProp("clipboardTextSerializer",m=>m(e,n))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:p}}function Pw(n,e,t,i,s){let r=s.parent.type.spec.code,o,a;if(!t&&!e)return null;let l=e&&(i||r||!t);if(l){if(n.someProp("transformPastedText",p=>{e=p(e,r||i,n)}),r)return e?new _e(se.from(n.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):_e.empty;let f=n.someProp("clipboardTextParser",p=>p(e,s,i,n));if(f)a=f;else{let p=s.marks(),{schema:m}=n.state,_=ji.fromSchema(m);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(b=>{let k=o.appendChild(document.createElement("p"));b&&k.appendChild(_.serializeNode(m.text(b,p)))})}}else n.someProp("transformPastedHTML",f=>{t=f(t,n)}),o=vj(t),Wd&&bj(o);let u=o&&o.querySelector("[data-pm-slice]"),d=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let f=+d[3];f>0;f--){let p=o.firstChild;for(;p&&p.nodeType!=1;)p=p.nextSibling;if(!p)break;o=p}if(a||(a=(n.someProp("clipboardParser")||n.someProp("domParser")||Qm.fromSchema(n.state.schema)).parseSlice(o,{preserveWhitespace:!!(l||d),context:s,ruleFromNode(p){return p.nodeName=="BR"&&!p.nextSibling&&p.parentNode&&!yj.test(p.parentNode.nodeName)?{ignore:!0}:null}})),d)a=xj(U_(a,+d[1],+d[2]),d[4]);else if(a=_e.maxOpen(_j(a.content,s),!0),a.openStart||a.openEnd){let f=0,p=0;for(let m=a.content.firstChild;f<a.openStart&&!m.type.spec.isolating;f++,m=m.firstChild);for(let m=a.content.lastChild;p<a.openEnd&&!m.type.spec.isolating;p++,m=m.lastChild);a=U_(a,f,p)}return n.someProp("transformPasted",f=>{a=f(a,n)}),a}const yj=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function _j(n,e){if(n.childCount<2)return n;for(let t=e.depth;t>=0;t--){let s=e.node(t).contentMatchAt(e.index(t)),r,o=[];if(n.forEach(a=>{if(!o)return;let l=s.findWrapping(a.type),u;if(!l)return o=null;if(u=o.length&&r.length&&Aw(l,r,a,o[o.length-1],0))o[o.length-1]=u;else{o.length&&(o[o.length-1]=Ow(o[o.length-1],r.length));let d=Ew(a,l);o.push(d),s=s.matchType(d.type),r=l}}),o)return se.from(o)}return n}function Ew(n,e,t=0){for(let i=e.length-1;i>=t;i--)n=e[i].create(null,se.from(n));return n}function Aw(n,e,t,i,s){if(s<n.length&&s<e.length&&n[s]==e[s]){let r=Aw(n,e,t,i.lastChild,s+1);if(r)return i.copy(i.content.replaceChild(i.childCount-1,r));if(i.contentMatchAt(i.childCount).matchType(s==n.length-1?t.type:n[s+1]))return i.copy(i.content.append(se.from(Ew(t,n,s+1))))}}function Ow(n,e){if(e==0)return n;let t=n.content.replaceChild(n.childCount-1,Ow(n.lastChild,e-1)),i=n.contentMatchAt(n.childCount).fillBefore(se.empty,!0);return n.copy(t.append(i))}function $p(n,e,t,i,s,r){let o=e<0?n.firstChild:n.lastChild,a=o.content;return s<i-1&&(a=$p(a,e,t,i,s+1,r)),s>=t&&(a=e<0?o.contentMatchAt(0).fillBefore(a,n.childCount>1||r<=s).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(se.empty,!0))),n.replaceChild(e<0?0:n.childCount-1,o.copy(a))}function U_(n,e,t){return e<n.openStart&&(n=new _e($p(n.content,-1,e,n.openStart,0,n.openEnd),e,n.openEnd)),t<n.openEnd&&(n=new _e($p(n.content,1,t,n.openEnd,0,0),n.openStart,t)),n}const Lw={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Z_=null;function Rw(){return Z_||(Z_=document.implementation.createHTMLDocument("title"))}function vj(n){let e=/^(\s*<meta [^>]*>)*/.exec(n);e&&(n=n.slice(e[0].length));let t=Rw().createElement("div"),i=/<([a-z][^>\s]+)/i.exec(n),s;if((s=i&&Lw[i[1].toLowerCase()])&&(n=s.map(r=>"<"+r+">").join("")+n+s.map(r=>"</"+r+">").reverse().join("")),t.innerHTML=n,s)for(let r=0;r<s.length;r++)t=t.querySelector(s[r])||t;return t}function bj(n){let e=n.querySelectorAll(Sn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let i=e[t];i.childNodes.length==1&&i.textContent==" "&&i.parentNode&&i.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),i)}}function xj(n,e){if(!n.size)return n;let t=n.content.firstChild.type.schema,i;try{i=JSON.parse(e)}catch(a){return n}let{content:s,openStart:r,openEnd:o}=n;for(let a=i.length-2;a>=0;a-=2){let l=t.nodes[i[a]];if(!l||l.hasRequiredAttrs())break;s=se.from(l.create(i[a+1],s)),r++,o++}return new _e(s,r,o)}const Cn={},Tn={},wj={touchstart:!0,touchmove:!0};class kj{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Sj(n){for(let e in Cn){let t=Cn[e];n.dom.addEventListener(e,n.input.eventHandlers[e]=i=>{Cj(n,i)&&!lg(n,i)&&(n.editable||!(i.type in Tn))&&t(n,i)},wj[e]?{passive:!0}:void 0)}Mn&&n.dom.addEventListener("input",()=>null),Hp(n)}function Hs(n,e){n.input.lastSelectionOrigin=e,n.input.lastSelectionTime=Date.now()}function Mj(n){n.domObserver.stop();for(let e in n.input.eventHandlers)n.dom.removeEventListener(e,n.input.eventHandlers[e]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function Hp(n){n.someProp("handleDOMEvents",e=>{for(let t in e)n.input.eventHandlers[t]||n.dom.addEventListener(t,n.input.eventHandlers[t]=i=>lg(n,i))})}function lg(n,e){return n.someProp("handleDOMEvents",t=>{let i=t[e.type];return i?i(n,e)||e.defaultPrevented:!1})}function Cj(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=n.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function Tj(n,e){!lg(n,e)&&Cn[e.type]&&(n.editable||!(e.type in Tn))&&Cn[e.type](n,e)}Tn.keydown=(n,e)=>{let t=e;if(n.input.shiftKey=t.keyCode==16||t.shiftKey,!Iw(n,t)&&(n.input.lastKeyCode=t.keyCode,n.input.lastKeyCodeTime=Date.now(),!(ai&&Sn&&t.keyCode==13)))if(t.keyCode!=229&&n.domObserver.forceFlush(),Xo&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let i=Date.now();n.input.lastIOSEnter=i,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==i&&(n.someProp("handleKeyDown",s=>s(n,Cr(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",i=>i(n,t))||gj(n,t)?t.preventDefault():Hs(n,"key")};Tn.keyup=(n,e)=>{e.keyCode==16&&(n.input.shiftKey=!1)};Tn.keypress=(n,e)=>{let t=e;if(Iw(n,t)||!t.charCode||t.ctrlKey&&!t.altKey||Jn&&t.metaKey)return;if(n.someProp("handleKeyPress",s=>s(n,t))){t.preventDefault();return}let i=n.state.selection;if(!(i instanceof Fe)||!i.$from.sameParent(i.$to)){let s=String.fromCharCode(t.charCode);!/[\r\n]/.test(s)&&!n.someProp("handleTextInput",r=>r(n,i.$from.pos,i.$to.pos,s))&&n.dispatch(n.state.tr.insertText(s).scrollIntoView()),t.preventDefault()}};function Zd(n){return{left:n.clientX,top:n.clientY}}function Pj(n,e){let t=e.x-n.clientX,i=e.y-n.clientY;return t*t+i*i<100}function cg(n,e,t,i,s){if(i==-1)return!1;let r=n.state.doc.resolve(i);for(let o=r.depth+1;o>0;o--)if(n.someProp(e,a=>o>r.depth?a(n,t,r.nodeAfter,r.before(o),s,!0):a(n,t,r.node(o),r.before(o),s,!1)))return!0;return!1}function $o(n,e,t){n.focused||n.focus();let i=n.state.tr.setSelection(e);i.setMeta("pointer",!0),n.dispatch(i)}function Ej(n,e){if(e==-1)return!1;let t=n.state.doc.resolve(e),i=t.nodeAfter;return i&&i.isAtom&&je.isSelectable(i)?($o(n,new je(t)),!0):!1}function Aj(n,e){if(e==-1)return!1;let t=n.state.selection,i,s;t instanceof je&&(i=t.node);let r=n.state.doc.resolve(e);for(let o=r.depth+1;o>0;o--){let a=o>r.depth?r.nodeAfter:r.node(o);if(je.isSelectable(a)){i&&t.$from.depth>0&&o>=t.$from.depth&&r.before(t.$from.depth+1)==t.$from.pos?s=r.before(t.$from.depth):s=r.before(o);break}}return s!=null?($o(n,je.create(n.state.doc,s)),!0):!1}function Oj(n,e,t,i,s){return cg(n,"handleClickOn",e,t,i)||n.someProp("handleClick",r=>r(n,e,i))||(s?Aj(n,t):Ej(n,t))}function Lj(n,e,t,i){return cg(n,"handleDoubleClickOn",e,t,i)||n.someProp("handleDoubleClick",s=>s(n,e,i))}function Rj(n,e,t,i){return cg(n,"handleTripleClickOn",e,t,i)||n.someProp("handleTripleClick",s=>s(n,e,i))||Dj(n,t,i)}function Dj(n,e,t){if(t.button!=0)return!1;let i=n.state.doc;if(e==-1)return i.inlineContent?($o(n,Fe.create(i,0,i.content.size)),!0):!1;let s=i.resolve(e);for(let r=s.depth+1;r>0;r--){let o=r>s.depth?s.nodeAfter:s.node(r),a=s.before(r);if(o.inlineContent)$o(n,Fe.create(i,a+1,a+1+o.content.size));else if(je.isSelectable(o))$o(n,je.create(i,a));else continue;return!0}}function ug(n){return Xu(n)}const Dw=Jn?"metaKey":"ctrlKey";Cn.mousedown=(n,e)=>{let t=e;n.input.shiftKey=t.shiftKey;let i=ug(n),s=Date.now(),r="singleClick";s-n.input.lastClick.time<500&&Pj(t,n.input.lastClick)&&!t[Dw]&&(n.input.lastClick.type=="singleClick"?r="doubleClick":n.input.lastClick.type=="doubleClick"&&(r="tripleClick")),n.input.lastClick={time:s,x:t.clientX,y:t.clientY,type:r};let o=n.posAtCoords(Zd(t));o&&(r=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new Ij(n,o,t,!!i)):(r=="doubleClick"?Lj:Rj)(n,o.pos,o.inside,t)?t.preventDefault():Hs(n,"pointer"))};class Ij{constructor(e,t,i,s){this.view=e,this.pos=t,this.event=i,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!i[Dw],this.allowDefault=i.shiftKey;let r,o;if(t.inside>-1)r=e.state.doc.nodeAt(t.inside),o=t.inside;else{let d=e.state.doc.resolve(t.pos);r=d.parent,o=d.depth?d.before():0}const a=s?null:i.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l?l.dom:null;let{selection:u}=e.state;(i.button==0&&r.type.spec.draggable&&r.type.spec.selectable!==!1||u instanceof je&&u.from<=o&&u.to>o)&&(this.mightDrag={node:r,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&bi&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Hs(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>ms(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(Zd(e))),this.updateAllowDefault(e),this.allowDefault||!t?Hs(this.view,"pointer"):Oj(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Mn&&this.mightDrag&&!this.mightDrag.node.isAtom||Sn&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?($o(this.view,Be.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):Hs(this.view,"pointer")}move(e){this.updateAllowDefault(e),Hs(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Cn.touchstart=n=>{n.input.lastTouch=Date.now(),ug(n),Hs(n,"pointer")};Cn.touchmove=n=>{n.input.lastTouch=Date.now(),Hs(n,"pointer")};Cn.contextmenu=n=>ug(n);function Iw(n,e){return n.composing?!0:Mn&&Math.abs(e.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const jj=ai?5e3:-1;Tn.compositionstart=Tn.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:e}=n,t=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(i=>i.type.spec.inclusive===!1)))n.markCursor=n.state.storedMarks||t.marks(),Xu(n,!0),n.markCursor=null;else if(Xu(n),bi&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let i=n.domSelectionRange();for(let s=i.focusNode,r=i.focusOffset;s&&s.nodeType==1&&r!=0;){let o=r<0?s.lastChild:s.childNodes[r-1];if(!o)break;if(o.nodeType==3){n.domSelection().collapse(o,o.nodeValue.length);break}else s=o,r=-1}}n.input.composing=!0}jw(n,jj)};Tn.compositionend=(n,e)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=e.timeStamp,jw(n,20))};function jw(n,e){clearTimeout(n.input.composingTimeout),e>-1&&(n.input.composingTimeout=setTimeout(()=>Xu(n),e))}function Nw(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=Nj());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function Nj(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function Xu(n,e=!1){if(!(ai&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),Nw(n),e||n.docView&&n.docView.dirty){let t=og(n);return t&&!t.eq(n.state.selection)?n.dispatch(n.state.tr.setSelection(t)):n.updateState(n.state),!0}return!1}}function zj(n,e){if(!n.dom.parentNode)return;let t=n.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let i=getSelection(),s=document.createRange();s.selectNodeContents(e),n.dom.blur(),i.removeAllRanges(),i.addRange(s),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),n.focus()},50)}const Qo=Rn&&Zs<15||Xo&&BI<604;Cn.copy=Tn.cut=(n,e)=>{let t=e,i=n.state.selection,s=t.type=="cut";if(i.empty)return;let r=Qo?null:t.clipboardData,o=i.content(),{dom:a,text:l}=Tw(n,o);r?(t.preventDefault(),r.clearData(),r.setData("text/html",a.innerHTML),r.setData("text/plain",l)):zj(n,a),s&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Bj(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function Fj(n,e){if(!n.dom.parentNode)return;let t=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,i=n.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(i.contentEditable="true"),i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus(),setTimeout(()=>{n.focus(),i.parentNode&&i.parentNode.removeChild(i),t?Dl(n,i.value,null,n.input.shiftKey,e):Dl(n,i.textContent,i.innerHTML,n.input.shiftKey,e)},50)}function Dl(n,e,t,i,s){let r=Pw(n,e,t,i,n.state.selection.$from);if(n.someProp("handlePaste",l=>l(n,s,r||_e.empty)))return!0;if(!r)return!1;let o=Bj(r),a=o?n.state.tr.replaceSelectionWith(o,n.input.shiftKey):n.state.tr.replaceSelection(r);return n.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}Tn.paste=(n,e)=>{let t=e;if(n.composing&&!ai)return;let i=Qo?null:t.clipboardData;i&&Dl(n,i.getData("text/plain"),i.getData("text/html"),n.input.shiftKey,t)?t.preventDefault():Fj(n,t)};class $j{constructor(e,t){this.slice=e,this.move=t}}const zw=Jn?"altKey":"ctrlKey";Cn.dragstart=(n,e)=>{let t=e,i=n.input.mouseDown;if(i&&i.done(),!t.dataTransfer)return;let s=n.state.selection,r=s.empty?null:n.posAtCoords(Zd(t));if(!(r&&r.pos>=s.from&&r.pos<=(s instanceof je?s.to-1:s.to))){if(i&&i.mightDrag)n.dispatch(n.state.tr.setSelection(je.create(n.state.doc,i.mightDrag.pos)));else if(t.target&&t.target.nodeType==1){let u=n.docView.nearestDesc(t.target,!0);u&&u.node.type.spec.draggable&&u!=n.docView&&n.dispatch(n.state.tr.setSelection(je.create(n.state.doc,u.posBefore)))}}let o=n.state.selection.content(),{dom:a,text:l}=Tw(n,o);t.dataTransfer.clearData(),t.dataTransfer.setData(Qo?"Text":"text/html",a.innerHTML),t.dataTransfer.effectAllowed="copyMove",Qo||t.dataTransfer.setData("text/plain",l),n.dragging=new $j(o,!t[zw])};Cn.dragend=n=>{let e=n.dragging;window.setTimeout(()=>{n.dragging==e&&(n.dragging=null)},50)};Tn.dragover=Tn.dragenter=(n,e)=>e.preventDefault();Tn.drop=(n,e)=>{let t=e,i=n.dragging;if(n.dragging=null,!t.dataTransfer)return;let s=n.posAtCoords(Zd(t));if(!s)return;let r=n.state.doc.resolve(s.pos),o=i&&i.slice;o?n.someProp("transformPasted",_=>{o=_(o,n)}):o=Pw(n,t.dataTransfer.getData(Qo?"Text":"text/plain"),Qo?null:t.dataTransfer.getData("text/html"),!1,r);let a=!!(i&&!t[zw]);if(n.someProp("handleDrop",_=>_(n,t,o||_e.empty,a))){t.preventDefault();return}if(!o)return;t.preventDefault();let l=o?iw(n.state.doc,r.pos,o):r.pos;l==null&&(l=r.pos);let u=n.state.tr;a&&u.deleteSelection();let d=u.mapping.map(l),f=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,p=u.doc;if(f?u.replaceRangeWith(d,d,o.content.firstChild):u.replaceRange(d,d,o),u.doc.eq(p))return;let m=u.doc.resolve(d);if(f&&je.isSelectable(o.content.firstChild)&&m.nodeAfter&&m.nodeAfter.sameMarkup(o.content.firstChild))u.setSelection(new je(m));else{let _=u.mapping.map(l);u.mapping.maps[u.mapping.maps.length-1].forEach((b,k,M,E)=>_=E),u.setSelection(ag(n,m,u.doc.resolve(_)))}n.focus(),n.dispatch(u.setMeta("uiEvent","drop"))};Cn.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&ms(n)},20))};Cn.blur=(n,e)=>{let t=e;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),t.relatedTarget&&n.dom.contains(t.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};Cn.beforeinput=(n,e)=>{if(Sn&&ai&&e.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:i}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=i||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",r=>r(n,Cr(8,"Backspace")))))return;let{$cursor:s}=n.state.selection;s&&s.pos>0&&n.dispatch(n.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let n in Tn)Cn[n]=Tn[n];function Il(n,e){if(n==e)return!0;for(let t in n)if(n[t]!==e[t])return!1;for(let t in e)if(!(t in n))return!1;return!0}class dg{constructor(e,t){this.toDOM=e,this.spec=t||Br,this.side=this.spec.side||0}map(e,t,i,s){let{pos:r,deleted:o}=e.mapResult(t.from+s,this.side<0?-1:1);return o?null:new mn(r-i,r-i,this)}valid(){return!0}eq(e){return this==e||e instanceof dg&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Il(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Ks{constructor(e,t){this.attrs=e,this.spec=t||Br}map(e,t,i,s){let r=e.map(t.from+s,this.spec.inclusiveStart?-1:1)-i,o=e.map(t.to+s,this.spec.inclusiveEnd?1:-1)-i;return r>=o?null:new mn(r,o,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof Ks&&Il(this.attrs,e.attrs)&&Il(this.spec,e.spec)}static is(e){return e.type instanceof Ks}destroy(){}}class hg{constructor(e,t){this.attrs=e,this.spec=t||Br}map(e,t,i,s){let r=e.mapResult(t.from+s,1);if(r.deleted)return null;let o=e.mapResult(t.to+s,-1);return o.deleted||o.pos<=r.pos?null:new mn(r.pos-i,o.pos-i,this)}valid(e,t){let{index:i,offset:s}=e.content.findIndex(t.from),r;return s==t.from&&!(r=e.child(i)).isText&&s+r.nodeSize==t.to}eq(e){return this==e||e instanceof hg&&Il(this.attrs,e.attrs)&&Il(this.spec,e.spec)}destroy(){}}class mn{constructor(e,t,i){this.from=e,this.to=t,this.type=i}copy(e,t){return new mn(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,i){return this.type.map(e,this,t,i)}static widget(e,t,i){return new mn(e,e,new dg(t,i))}static inline(e,t,i,s){return new mn(e,t,new Ks(i,s))}static node(e,t,i,s){return new mn(e,t,new hg(i,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof Ks}}const vo=[],Br={};class bt{constructor(e,t){this.local=e.length?e:vo,this.children=t.length?t:vo}static create(e,t){return t.length?Qu(t,e,0,Br):un}find(e,t,i){let s=[];return this.findInner(e==null?0:e,t==null?1e9:t,s,0,i),s}findInner(e,t,i,s,r){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=t&&a.to>=e&&(!r||r(a.spec))&&i.push(a.copy(a.from+s,a.to+s))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<t&&this.children[o+1]>e){let a=this.children[o]+1;this.children[o+2].findInner(e-a,t-a,i,s+a,r)}}map(e,t,i){return this==un||e.maps.length==0?this:this.mapInner(e,t,0,0,i||Br)}mapInner(e,t,i,s,r){let o;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,i,s);l&&l.type.valid(t,l)?(o||(o=[])).push(l):r.onRemove&&r.onRemove(this.local[a].spec)}return this.children.length?Hj(this.children,o||[],e,t,i,s,r):o?new bt(o.sort(Fr),vo):un}add(e,t){return t.length?this==un?bt.create(e,t):this.addInner(e,t,0):this}addInner(e,t,i){let s,r=0;e.forEach((a,l)=>{let u=l+i,d;if(d=Fw(t,a,u)){for(s||(s=this.children.slice());r<s.length&&s[r]<l;)r+=3;s[r]==l?s[r+2]=s[r+2].addInner(a,d,u+1):s.splice(r,0,l,l+a.nodeSize,Qu(d,a,u+1,Br)),r+=3}});let o=Bw(r?$w(t):t,-i);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||o.splice(a--,1);return new bt(o.length?this.local.concat(o).sort(Fr):this.local,s||this.children)}remove(e){return e.length==0||this==un?this:this.removeInner(e,0)}removeInner(e,t){let i=this.children,s=this.local;for(let r=0;r<i.length;r+=3){let o,a=i[r]+t,l=i[r+1]+t;for(let d=0,f;d<e.length;d++)(f=e[d])&&f.from>a&&f.to<l&&(e[d]=null,(o||(o=[])).push(f));if(!o)continue;i==this.children&&(i=this.children.slice());let u=i[r+2].removeInner(o,a+1);u!=un?i[r+2]=u:(i.splice(r,3),r-=3)}if(s.length){for(let r=0,o;r<e.length;r++)if(o=e[r])for(let a=0;a<s.length;a++)s[a].eq(o,t)&&(s==this.local&&(s=this.local.slice()),s.splice(a--,1))}return i==this.children&&s==this.local?this:s.length||i.length?new bt(s,i):un}forChild(e,t){if(this==un)return this;if(t.isLeaf)return bt.empty;let i,s;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(i=this.children[a+2]);break}let r=e+1,o=r+t.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<o&&l.to>r&&l.type instanceof Ks){let u=Math.max(r,l.from)-r,d=Math.min(o,l.to)-r;u<d&&(s||(s=[])).push(l.copy(u,d))}}if(s){let a=new bt(s.sort(Fr),vo);return i?new Ls([a,i]):a}return i||un}eq(e){if(this==e)return!0;if(!(e instanceof bt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return fg(this.localsInner(e))}localsInner(e){if(this==un)return vo;if(e.inlineContent||!this.local.some(Ks.is))return this.local;let t=[];for(let i=0;i<this.local.length;i++)this.local[i].type instanceof Ks||t.push(this.local[i]);return t}}bt.empty=new bt([],[]);bt.removeOverlap=fg;const un=bt.empty;class Ls{constructor(e){this.members=e}map(e,t){const i=this.members.map(s=>s.map(e,t,Br));return Ls.from(i)}forChild(e,t){if(t.isLeaf)return bt.empty;let i=[];for(let s=0;s<this.members.length;s++){let r=this.members[s].forChild(e,t);r!=un&&(r instanceof Ls?i=i.concat(r.members):i.push(r))}return Ls.from(i)}eq(e){if(!(e instanceof Ls)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,i=!0;for(let s=0;s<this.members.length;s++){let r=this.members[s].localsInner(e);if(r.length)if(!t)t=r;else{i&&(t=t.slice(),i=!1);for(let o=0;o<r.length;o++)t.push(r[o])}}return t?fg(i?t:t.sort(Fr)):vo}static from(e){switch(e.length){case 0:return un;case 1:return e[0];default:return new Ls(e.every(t=>t instanceof bt)?e:e.reduce((t,i)=>t.concat(i instanceof bt?i:i.members),[]))}}}function Hj(n,e,t,i,s,r,o){let a=n.slice();for(let u=0,d=r;u<t.maps.length;u++){let f=0;t.maps[u].forEach((p,m,_,b)=>{let k=b-_-(m-p);for(let M=0;M<a.length;M+=3){let E=a[M+1];if(E<0||p>E+d-f)continue;let A=a[M]+d-f;m>=A?a[M+1]=p<=A?-2:-1:_>=s&&k&&(a[M]+=k,a[M+1]+=k)}f+=k}),d=t.maps[u].map(d,-1)}let l=!1;for(let u=0;u<a.length;u+=3)if(a[u+1]<0){if(a[u+1]==-2){l=!0,a[u+1]=-1;continue}let d=t.map(n[u]+r),f=d-s;if(f<0||f>=i.content.size){l=!0;continue}let p=t.map(n[u+1]+r,-1),m=p-s,{index:_,offset:b}=i.content.findIndex(f),k=i.maybeChild(_);if(k&&b==f&&b+k.nodeSize==m){let M=a[u+2].mapInner(t,k,d+1,n[u]+r+1,o);M!=un?(a[u]=f,a[u+1]=m,a[u+2]=M):(a[u+1]=-2,l=!0)}else l=!0}if(l){let u=Vj(a,n,e,t,s,r,o),d=Qu(u,i,0,o);e=d.local;for(let f=0;f<a.length;f+=3)a[f+1]<0&&(a.splice(f,3),f-=3);for(let f=0,p=0;f<d.children.length;f+=3){let m=d.children[f];for(;p<a.length&&a[p]<m;)p+=3;a.splice(p,0,d.children[f],d.children[f+1],d.children[f+2])}}return new bt(e.sort(Fr),a)}function Bw(n,e){if(!e||!n.length)return n;let t=[];for(let i=0;i<n.length;i++){let s=n[i];t.push(new mn(s.from+e,s.to+e,s.type))}return t}function Vj(n,e,t,i,s,r,o){function a(l,u){for(let d=0;d<l.local.length;d++){let f=l.local[d].map(i,s,u);f?t.push(f):o.onRemove&&o.onRemove(l.local[d].spec)}for(let d=0;d<l.children.length;d+=3)a(l.children[d+2],l.children[d]+u+1)}for(let l=0;l<n.length;l+=3)n[l+1]==-1&&a(n[l+2],e[l]+r+1);return t}function Fw(n,e,t){if(e.isLeaf)return null;let i=t+e.nodeSize,s=null;for(let r=0,o;r<n.length;r++)(o=n[r])&&o.from>t&&o.to<i&&((s||(s=[])).push(o),n[r]=null);return s}function $w(n){let e=[];for(let t=0;t<n.length;t++)n[t]!=null&&e.push(n[t]);return e}function Qu(n,e,t,i){let s=[],r=!1;e.forEach((a,l)=>{let u=Fw(n,a,l+t);if(u){r=!0;let d=Qu(u,a,t+l+1,i);d!=un&&s.push(l,l+a.nodeSize,d)}});let o=Bw(r?$w(n):n,-t).sort(Fr);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||(i.onRemove&&i.onRemove(o[a].spec),o.splice(a--,1));return o.length||s.length?new bt(o,s):un}function Fr(n,e){return n.from-e.from||n.to-e.to}function fg(n){let e=n;for(let t=0;t<e.length-1;t++){let i=e[t];if(i.from!=i.to)for(let s=t+1;s<e.length;s++){let r=e[s];if(r.from==i.from){r.to!=i.to&&(e==n&&(e=n.slice()),e[s]=r.copy(r.from,i.to),K_(e,s+1,r.copy(i.to,r.to)));continue}else{r.from<i.to&&(e==n&&(e=n.slice()),e[t]=i.copy(i.from,r.from),K_(e,s,i.copy(r.from,i.to)));break}}}return e}function K_(n,e,t){for(;e<n.length&&Fr(t,n[e])>0;)e++;n.splice(e,0,t)}function Cf(n){let e=[];return n.someProp("decorations",t=>{let i=t(n.state);i&&i!=un&&e.push(i)}),n.cursorWrapper&&e.push(bt.create(n.state.doc,[n.cursorWrapper.deco])),Ls.from(e)}const Wj={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Uj=Rn&&Zs<=11;class Zj{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class Kj{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Zj,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(i=>{for(let s=0;s<i.length;s++)this.queue.push(i[s]);Rn&&Zs<=11&&i.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),Uj&&(this.onCharData=i=>{this.queue.push({target:i.target,type:"characterData",oldValue:i.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Wj)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(F_(this.view)){if(this.suppressingSelectionUpdates)return ms(this.view);if(Rn&&Zs<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Kr(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,i;for(let r=e.focusNode;r;r=Rl(r))t.add(r);for(let r=e.anchorNode;r;r=Rl(r))if(t.has(r)){i=r;break}let s=i&&this.view.docView.nearestDesc(i);if(s&&s.ignoreMutation({type:"selection",target:i.nodeType==3?i.parentNode:i}))return this.setCurSelection(),!0}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.observer?this.observer.takeRecords():[];this.queue.length&&(t=this.queue.concat(t),this.queue.length=0);let i=e.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(i)&&F_(e)&&!this.ignoreSelectionChange(i),r=-1,o=-1,a=!1,l=[];if(e.editable)for(let d=0;d<t.length;d++){let f=this.registerMutation(t[d],l);f&&(r=r<0?f.from:Math.min(f.from,r),o=o<0?f.to:Math.max(f.to,o),f.typeOver&&(a=!0))}if(bi&&l.length>1){let d=l.filter(f=>f.nodeName=="BR");if(d.length==2){let f=d[0],p=d[1];f.parentNode&&f.parentNode.parentNode==p.parentNode?p.remove():f.remove()}}let u=null;r<0&&s&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Vd(i)&&(u=og(e))&&u.eq(Be.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,ms(e),this.currentSelection.set(i),e.scrollToSelection()):(r>-1||s)&&(r>-1&&(e.docView.markDirty(r,o),qj(e)),this.handleDOMChange(r,o,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(i)||ms(e),this.currentSelection.set(i))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let i=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(i==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!i||i.ignoreMutation(e))return null;if(e.type=="childList"){for(let d=0;d<e.addedNodes.length;d++)t.push(e.addedNodes[d]);if(i.contentDOM&&i.contentDOM!=i.dom&&!i.contentDOM.contains(e.target))return{from:i.posBefore,to:i.posAfter};let s=e.previousSibling,r=e.nextSibling;if(Rn&&Zs<=11&&e.addedNodes.length)for(let d=0;d<e.addedNodes.length;d++){let{previousSibling:f,nextSibling:p}=e.addedNodes[d];(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(s=f),(!p||Array.prototype.indexOf.call(e.addedNodes,p)<0)&&(r=p)}let o=s&&s.parentNode==e.target?zn(s)+1:0,a=i.localPosFromDOM(e.target,o,-1),l=r&&r.parentNode==e.target?zn(r):e.target.childNodes.length,u=i.localPosFromDOM(e.target,l,1);return{from:a,to:u}}else return e.type=="attributes"?{from:i.posAtStart-i.border,to:i.posAtEnd+i.border}:{from:i.posAtStart,to:i.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}let q_=new WeakMap,G_=!1;function qj(n){if(!q_.has(n)&&(q_.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=bi,G_)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),G_=!0}}function Gj(n){let e;function t(l){l.preventDefault(),l.stopImmediatePropagation(),e=l.getTargetRanges()[0]}n.dom.addEventListener("beforeinput",t,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",t,!0);let i=e.startContainer,s=e.startOffset,r=e.endContainer,o=e.endOffset,a=n.domAtPos(n.state.selection.anchor);return Kr(a.node,a.offset,r,o)&&([i,s,r,o]=[r,o,i,s]),{anchorNode:i,anchorOffset:s,focusNode:r,focusOffset:o}}function Jj(n,e,t){let{node:i,fromOffset:s,toOffset:r,from:o,to:a}=n.docView.parseRange(e,t),l=n.domSelectionRange(),u,d=l.anchorNode;if(d&&n.dom.contains(d.nodeType==1?d:d.parentNode)&&(u=[{node:d,offset:l.anchorOffset}],Vd(l)||u.push({node:l.focusNode,offset:l.focusOffset})),Sn&&n.input.lastKeyCode===8)for(let k=r;k>s;k--){let M=i.childNodes[k-1],E=M.pmViewDesc;if(M.nodeName=="BR"&&!E){r=k;break}if(!E||E.size)break}let f=n.state.doc,p=n.someProp("domParser")||Qm.fromSchema(n.state.schema),m=f.resolve(o),_=null,b=p.parse(i,{topNode:m.parent,topMatch:m.parent.contentMatchAt(m.index()),topOpen:!0,from:s,to:r,preserveWhitespace:m.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:Yj,context:m});if(u&&u[0].pos!=null){let k=u[0].pos,M=u[1]&&u[1].pos;M==null&&(M=k),_={anchor:k+o,head:M+o}}return{doc:b,sel:_,from:o,to:a}}function Yj(n){let e=n.pmViewDesc;if(e)return e.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(Mn&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(n.parentNode.lastChild==n||Mn&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Xj=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Qj(n,e,t,i,s){if(e<0){let T=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,O=og(n,T);if(O&&!n.state.selection.eq(O)){if(Sn&&ai&&n.input.lastKeyCode===13&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",N=>N(n,Cr(13,"Enter"))))return;let I=n.state.tr.setSelection(O);T=="pointer"?I.setMeta("pointer",!0):T=="key"&&I.scrollIntoView(),n.dispatch(I)}return}let r=n.state.doc.resolve(e),o=r.sharedDepth(t);e=r.before(o+1),t=n.state.doc.resolve(t).after(o+1);let a=n.state.selection,l=Jj(n,e,t),u=n.state.doc,d=u.slice(l.from,l.to),f,p;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(f=n.state.selection.to,p="end"):(f=n.state.selection.from,p="start"),n.input.lastKeyCode=null;let m=nN(d.content,l.doc.content,l.from,f,p);if((Xo&&n.input.lastIOSEnter>Date.now()-225||ai)&&s.some(T=>T.nodeType==1&&!Xj.test(T.nodeName))&&(!m||m.endA>=m.endB)&&n.someProp("handleKeyDown",T=>T(n,Cr(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!m)if(i&&a instanceof Fe&&!a.empty&&a.$head.sameParent(a.$anchor)&&!n.composing&&!(l.sel&&l.sel.anchor!=l.sel.head))m={start:a.from,endA:a.to,endB:a.to};else{if(l.sel){let T=J_(n,n.state.doc,l.sel);T&&!T.eq(n.state.selection)&&n.dispatch(n.state.tr.setSelection(T))}return}if(Sn&&n.cursorWrapper&&l.sel&&l.sel.anchor==n.cursorWrapper.deco.from&&l.sel.head==l.sel.anchor){let T=m.endB-m.start;l.sel={anchor:l.sel.anchor+T,head:l.sel.anchor+T}}n.input.domChangeCount++,n.state.selection.from<n.state.selection.to&&m.start==m.endB&&n.state.selection instanceof Fe&&(m.start>n.state.selection.from&&m.start<=n.state.selection.from+2&&n.state.selection.from>=l.from?m.start=n.state.selection.from:m.endA<n.state.selection.to&&m.endA>=n.state.selection.to-2&&n.state.selection.to<=l.to&&(m.endB+=n.state.selection.to-m.endA,m.endA=n.state.selection.to)),Rn&&Zs<=11&&m.endB==m.start+1&&m.endA==m.start&&m.start>l.from&&l.doc.textBetween(m.start-l.from-1,m.start-l.from+1)=="  "&&(m.start--,m.endA--,m.endB--);let _=l.doc.resolveNoCache(m.start-l.from),b=l.doc.resolveNoCache(m.endB-l.from),k=u.resolve(m.start),M=_.sameParent(b)&&_.parent.inlineContent&&k.end()>=m.endA,E;if((Xo&&n.input.lastIOSEnter>Date.now()-225&&(!M||s.some(T=>T.nodeName=="DIV"||T.nodeName=="P"))||!M&&_.pos<l.doc.content.size&&(E=Be.findFrom(l.doc.resolve(_.pos+1),1,!0))&&E.head==b.pos)&&n.someProp("handleKeyDown",T=>T(n,Cr(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>m.start&&tN(u,m.start,m.endA,_,b)&&n.someProp("handleKeyDown",T=>T(n,Cr(8,"Backspace")))){ai&&Sn&&n.domObserver.suppressSelectionUpdates();return}Sn&&ai&&m.endB==m.start&&(n.input.lastAndroidDelete=Date.now()),ai&&!M&&_.start()!=b.start()&&b.parentOffset==0&&_.depth==b.depth&&l.sel&&l.sel.anchor==l.sel.head&&l.sel.head==m.endA&&(m.endB-=2,b=l.doc.resolveNoCache(m.endB-l.from),setTimeout(()=>{n.someProp("handleKeyDown",function(T){return T(n,Cr(13,"Enter"))})},20));let A=m.start,g=m.endA,w,v,S;if(M){if(_.pos==b.pos)Rn&&Zs<=11&&_.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>ms(n),20)),w=n.state.tr.delete(A,g),v=u.resolve(m.start).marksAcross(u.resolve(m.endA));else if(m.endA==m.endB&&(S=eN(_.parent.content.cut(_.parentOffset,b.parentOffset),k.parent.content.cut(k.parentOffset,m.endA-k.start()))))w=n.state.tr,S.type=="add"?w.addMark(A,g,S.mark):w.removeMark(A,g,S.mark);else if(_.parent.child(_.index()).isText&&_.index()==b.index()-(b.textOffset?0:1)){let T=_.parent.textBetween(_.parentOffset,b.parentOffset);if(n.someProp("handleTextInput",O=>O(n,A,g,T)))return;w=n.state.tr.insertText(T,A,g)}}if(w||(w=n.state.tr.replace(A,g,l.doc.slice(m.start-l.from,m.endB-l.from))),l.sel){let T=J_(n,w.doc,l.sel);T&&!(Sn&&ai&&n.composing&&T.empty&&(m.start!=m.endB||n.input.lastAndroidDelete<Date.now()-100)&&(T.head==A||T.head==w.mapping.map(g)-1)||Rn&&T.empty&&T.head==A)&&w.setSelection(T)}v&&w.ensureMarks(v),n.dispatch(w.scrollIntoView())}function J_(n,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:ag(n,e.resolve(t.anchor),e.resolve(t.head))}function eN(n,e){let t=n.firstChild.marks,i=e.firstChild.marks,s=t,r=i,o,a,l;for(let d=0;d<i.length;d++)s=i[d].removeFromSet(s);for(let d=0;d<t.length;d++)r=t[d].removeFromSet(r);if(s.length==1&&r.length==0)a=s[0],o="add",l=d=>d.mark(a.addToSet(d.marks));else if(s.length==0&&r.length==1)a=r[0],o="remove",l=d=>d.mark(a.removeFromSet(d.marks));else return null;let u=[];for(let d=0;d<e.childCount;d++)u.push(l(e.child(d)));if(se.from(u).eq(n))return{mark:a,type:o}}function tN(n,e,t,i,s){if(!i.parent.isTextblock||t-e<=s.pos-i.pos||Tf(i,!0,!1)<s.pos)return!1;let r=n.resolve(e);if(r.parentOffset<r.parent.content.size||!r.parent.isTextblock)return!1;let o=n.resolve(Tf(r,!0,!0));return!o.parent.isTextblock||o.pos>t||Tf(o,!0,!1)<t?!1:i.parent.content.cut(i.parentOffset).eq(o.parent.content)}function Tf(n,e,t){let i=n.depth,s=e?n.end():n.pos;for(;i>0&&(e||n.indexAfter(i)==n.node(i).childCount);)i--,s++,e=!1;if(t){let r=n.node(i).maybeChild(n.indexAfter(i));for(;r&&!r.isLeaf;)r=r.firstChild,s++}return s}function nN(n,e,t,i,s){let r=n.findDiffStart(e,t);if(r==null)return null;let{a:o,b:a}=n.findDiffEnd(e,t+n.size,t+e.size);if(s=="end"){let l=Math.max(0,r-Math.min(o,a));i-=o+l-r}if(o<r&&n.size<e.size){let l=i<=r&&i>=o?r-i:0;r-=l,a=r+(a-o),o=r}else if(a<r){let l=i<=r&&i>=a?r-i:0;r-=l,o=r+(o-a),a=r}return{start:r,endA:o,endB:a}}class iN{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new kj,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(tv),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Q_(this),X_(this),this.nodeViews=ev(this),this.docView=D_(this.state.doc,Y_(this),Cf(this),this.dom,this),this.domObserver=new Kj(this,(i,s,r,o)=>Qj(this,i,s,r,o)),this.domObserver.start(),Sj(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Hp(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(tv),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let i in this._props)t[i]=this._props[i];t.state=this.state;for(let i in e)t[i]=e[i];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){let i=this.state,s=!1,r=!1;e.storedMarks&&this.composing&&(Nw(this),r=!0),this.state=e;let o=i.plugins!=e.plugins||this._props.plugins!=t.plugins;if(o||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let p=ev(this);rN(p,this.nodeViews)&&(this.nodeViews=p,s=!0)}(o||t.handleDOMEvents!=this._props.handleDOMEvents)&&Hp(this),this.editable=Q_(this),X_(this);let a=Cf(this),l=Y_(this),u=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",d=s||!this.docView.matchesNode(e.doc,l,a);(d||!e.selection.eq(i.selection))&&(r=!0);let f=u=="preserve"&&r&&this.dom.style.overflowAnchor==null&&HI(this);if(r){this.domObserver.stop();let p=d&&(Rn||Sn)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&sN(i.selection,e.selection);if(d){let m=Sn?this.trackWrites=this.domSelectionRange().focusNode:null;(s||!this.docView.update(e.doc,l,a,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=D_(e.doc,l,a,this.dom,this)),m&&!this.trackWrites&&(p=!0)}p||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&fj(this))?ms(this,p):(Sw(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():f&&VI(f)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof je){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&E_(this,t.getBoundingClientRect(),e)}else E_(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let i=this.directPlugins[t];i.spec.view&&this.pluginViews.push(i.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let i=this.state.plugins[t];i.spec.view&&this.pluginViews.push(i.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let i=this.pluginViews[t];i.update&&i.update(this,e)}}someProp(e,t){let i=this._props&&this._props[e],s;if(i!=null&&(s=t?t(i):i))return s;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[e];if(a!=null&&(s=t?t(a):a))return s}let r=this.state.plugins;if(r)for(let o=0;o<r.length;o++){let a=r[o].props[e];if(a!=null&&(s=t?t(a):a))return s}}hasFocus(){if(Rn){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&WI(this.dom),ms(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}posAtCoords(e){return GI(this,e)}coordsAtPos(e,t=1){return gw(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,i=-1){let s=this.docView.posFromDOM(e,t,i);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(e,t){return ej(this,t||this.state,e)}pasteHTML(e,t){return Dl(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return Dl(this,e,null,!0,t||new ClipboardEvent("paste"))}destroy(){this.docView&&(Mj(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Cf(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return this.docView==null}dispatchEvent(e){return Tj(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){return Mn&&this.root.nodeType===11&&NI(this.dom.ownerDocument)==this.dom?Gj(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function Y_(n){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(n.editable),e.translate="no",n.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(n.state)),t)for(let i in t)i=="class"&&(e.class+=" "+t[i]),i=="style"?e.style=(e.style?e.style+";":"")+t[i]:!e[i]&&i!="contenteditable"&&i!="nodeName"&&(e[i]=String(t[i]))}),[mn.node(0,n.state.doc.content.size,e)]}function X_(n){if(n.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),n.cursorWrapper={dom:e,deco:mn.widget(n.state.selection.head,e,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function Q_(n){return!n.someProp("editable",e=>e(n.state)===!1)}function sN(n,e){let t=Math.min(n.$anchor.sharedDepth(n.head),e.$anchor.sharedDepth(e.head));return n.$anchor.start(t)!=e.$anchor.start(t)}function ev(n){let e=Object.create(null);function t(i){for(let s in i)Object.prototype.hasOwnProperty.call(e,s)||(e[s]=i[s])}return n.someProp("nodeViews",t),n.someProp("markViews",t),e}function rN(n,e){let t=0,i=0;for(let s in n){if(n[s]!=e[s])return!0;t++}for(let s in e)i++;return t!=i}function tv(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var er={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},ed={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},nv=typeof navigator!="undefined"&&/Chrome\/(\d+)/.exec(navigator.userAgent),oN=typeof navigator!="undefined"&&/Mac/.test(navigator.platform),aN=typeof navigator!="undefined"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),lN=oN||nv&&+nv[1]<57;for(var tn=0;tn<10;tn++)er[48+tn]=er[96+tn]=String(tn);for(var tn=1;tn<=24;tn++)er[tn+111]="F"+tn;for(var tn=65;tn<=90;tn++)er[tn]=String.fromCharCode(tn+32),ed[tn]=String.fromCharCode(tn);for(var Pf in er)ed.hasOwnProperty(Pf)||(ed[Pf]=er[Pf]);function cN(n){var e=lN&&(n.ctrlKey||n.altKey||n.metaKey)||aN&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?ed:er)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const uN=typeof navigator!="undefined"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function dN(n){let e=n.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let i,s,r,o;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))i=!0;else if(/^(c|ctrl|control)$/i.test(l))s=!0;else if(/^s(hift)?$/i.test(l))r=!0;else if(/^mod$/i.test(l))uN?o=!0:s=!0;else throw new Error("Unrecognized modifier name: "+l)}return i&&(t="Alt-"+t),s&&(t="Ctrl-"+t),o&&(t="Meta-"+t),r&&(t="Shift-"+t),t}function hN(n){let e=Object.create(null);for(let t in n)e[dN(t)]=n[t];return e}function Ef(n,e,t=!0){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t&&e.shiftKey&&(n="Shift-"+n),n}function fN(n){return new Bt({props:{handleKeyDown:pg(n)}})}function pg(n){let e=hN(n);return function(t,i){let s=cN(i),r,o=e[Ef(s,i)];if(o&&o(t.state,t.dispatch,t))return!0;if(s.length==1&&s!=" "){if(i.shiftKey){let a=e[Ef(s,i,!1)];if(a&&a(t.state,t.dispatch,t))return!0}if((i.shiftKey||i.altKey||i.metaKey||s.charCodeAt(0)>127)&&(r=er[i.keyCode])&&r!=s){let a=e[Ef(r,i)];if(a&&a(t.state,t.dispatch,t))return!0}}return!1}}const pN=(n,e)=>n.selection.empty?!1:(e&&e(n.tr.deleteSelection().scrollIntoView()),!0);function mN(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("backward",n):t.parentOffset>0)?null:t}const gN=(n,e,t)=>{let i=mN(n,t);if(!i)return!1;let s=Hw(i);if(!s){let o=i.blockRange(),a=o&&sa(o);return a==null?!1:(e&&e(n.tr.lift(o,a).scrollIntoView()),!0)}let r=s.nodeBefore;if(!r.type.spec.isolating&&Uw(n,s,e))return!0;if(i.parent.content.size==0&&(ea(r,"end")||je.isSelectable(r))){let o=ng(n.doc,i.before(),i.after(),_e.empty);if(o&&o.slice.size<o.to-o.from){if(e){let a=n.tr.step(o);a.setSelection(ea(r,"end")?Be.findFrom(a.doc.resolve(a.mapping.map(s.pos,-1)),-1):je.create(a.doc,s.pos-r.nodeSize)),e(a.scrollIntoView())}return!0}}return r.isAtom&&s.depth==i.depth-1?(e&&e(n.tr.delete(s.pos-r.nodeSize,s.pos).scrollIntoView()),!0):!1};function ea(n,e,t=!1){for(let i=n;i;i=e=="start"?i.firstChild:i.lastChild){if(i.isTextblock)return!0;if(t&&i.childCount!=1)return!1}return!1}const yN=(n,e,t)=>{let{$head:i,empty:s}=n.selection,r=i;if(!s)return!1;if(i.parent.isTextblock){if(t?!t.endOfTextblock("backward",n):i.parentOffset>0)return!1;r=Hw(i)}let o=r&&r.nodeBefore;return!o||!je.isSelectable(o)?!1:(e&&e(n.tr.setSelection(je.create(n.doc,r.pos-o.nodeSize)).scrollIntoView()),!0)};function Hw(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){if(n.index(e)>0)return n.doc.resolve(n.before(e+1));if(n.node(e).type.spec.isolating)break}return null}function _N(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("forward",n):t.parentOffset<t.parent.content.size)?null:t}const vN=(n,e,t)=>{let i=_N(n,t);if(!i)return!1;let s=Vw(i);if(!s)return!1;let r=s.nodeAfter;if(Uw(n,s,e))return!0;if(i.parent.content.size==0&&(ea(r,"start")||je.isSelectable(r))){let o=ng(n.doc,i.before(),i.after(),_e.empty);if(o&&o.slice.size<o.to-o.from){if(e){let a=n.tr.step(o);a.setSelection(ea(r,"start")?Be.findFrom(a.doc.resolve(a.mapping.map(s.pos)),1):je.create(a.doc,a.mapping.map(s.pos))),e(a.scrollIntoView())}return!0}}return r.isAtom&&s.depth==i.depth-1?(e&&e(n.tr.delete(s.pos,s.pos+r.nodeSize).scrollIntoView()),!0):!1},bN=(n,e,t)=>{let{$head:i,empty:s}=n.selection,r=i;if(!s)return!1;if(i.parent.isTextblock){if(t?!t.endOfTextblock("forward",n):i.parentOffset<i.parent.content.size)return!1;r=Vw(i)}let o=r&&r.nodeAfter;return!o||!je.isSelectable(o)?!1:(e&&e(n.tr.setSelection(je.create(n.doc,r.pos)).scrollIntoView()),!0)};function Vw(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){let t=n.node(e);if(n.index(e)+1<t.childCount)return n.doc.resolve(n.after(e+1));if(t.type.spec.isolating)break}return null}const xN=(n,e)=>{let t=n.selection,i=t instanceof je,s;if(i){if(t.node.isTextblock||!rr(n.doc,t.from))return!1;s=t.from}else if(s=$d(n.doc,t.from,-1),s==null)return!1;if(e){let r=n.tr.join(s);i&&r.setSelection(je.create(r.doc,s-n.doc.resolve(s).nodeBefore.nodeSize)),e(r.scrollIntoView())}return!0},wN=(n,e)=>{let t=n.selection,i;if(t instanceof je){if(t.node.isTextblock||!rr(n.doc,t.to))return!1;i=t.to}else if(i=$d(n.doc,t.to,1),i==null)return!1;return e&&e(n.tr.join(i).scrollIntoView()),!0},kN=(n,e)=>{let{$from:t,$to:i}=n.selection,s=t.blockRange(i),r=s&&sa(s);return r==null?!1:(e&&e(n.tr.lift(s,r).scrollIntoView()),!0)},SN=(n,e)=>{let{$head:t,$anchor:i}=n.selection;return!t.parent.type.spec.code||!t.sameParent(i)?!1:(e&&e(n.tr.insertText(`
`).scrollIntoView()),!0)};function Ww(n){for(let e=0;e<n.edgeCount;e++){let{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const MN=(n,e)=>{let{$head:t,$anchor:i}=n.selection;if(!t.parent.type.spec.code||!t.sameParent(i))return!1;let s=t.node(-1),r=t.indexAfter(-1),o=Ww(s.contentMatchAt(r));if(!o||!s.canReplaceWith(r,r,o))return!1;if(e){let a=t.after(),l=n.tr.replaceWith(a,a,o.createAndFill());l.setSelection(Be.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},CN=(n,e)=>{let t=n.selection,{$from:i,$to:s}=t;if(t instanceof mi||i.parent.inlineContent||s.parent.inlineContent)return!1;let r=Ww(s.parent.contentMatchAt(s.indexAfter()));if(!r||!r.isTextblock)return!1;if(e){let o=(!i.parentOffset&&s.index()<s.parent.childCount?i:s).pos,a=n.tr.insert(o,r.createAndFill());a.setSelection(Fe.create(a.doc,o+1)),e(a.scrollIntoView())}return!0},TN=(n,e)=>{let{$cursor:t}=n.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let r=t.before();if(Bo(n.doc,r))return e&&e(n.tr.split(r).scrollIntoView()),!0}let i=t.blockRange(),s=i&&sa(i);return s==null?!1:(e&&e(n.tr.lift(i,s).scrollIntoView()),!0)},PN=(n,e)=>{let{$from:t,to:i}=n.selection,s,r=t.sharedDepth(i);return r==0?!1:(s=t.before(r),e&&e(n.tr.setSelection(je.create(n.doc,s))),!0)};function EN(n,e,t){let i=e.nodeBefore,s=e.nodeAfter,r=e.index();return!i||!s||!i.type.compatibleContent(s.type)?!1:!i.content.size&&e.parent.canReplace(r-1,r)?(t&&t(n.tr.delete(e.pos-i.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(r,r+1)||!(s.isTextblock||rr(n.doc,e.pos))?!1:(t&&t(n.tr.clearIncompatible(e.pos,i.type,i.contentMatchAt(i.childCount)).join(e.pos).scrollIntoView()),!0)}function Uw(n,e,t){let i=e.nodeBefore,s=e.nodeAfter,r,o;if(i.type.spec.isolating||s.type.spec.isolating)return!1;if(EN(n,e,t))return!0;let a=e.parent.canReplace(e.index(),e.index()+1);if(a&&(r=(o=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&o.matchType(r[0]||s.type).validEnd){if(t){let f=e.pos+s.nodeSize,p=se.empty;for(let b=r.length-1;b>=0;b--)p=se.from(r[b].create(null,p));p=se.from(i.copy(p));let m=n.tr.step(new Yt(e.pos-1,f,e.pos,f,new _e(p,1,0),r.length,!0)),_=f+2*r.length;rr(m.doc,_)&&m.join(_),t(m.scrollIntoView())}return!0}let l=Be.findFrom(e,1),u=l&&l.$from.blockRange(l.$to),d=u&&sa(u);if(d!=null&&d>=e.depth)return t&&t(n.tr.lift(u,d).scrollIntoView()),!0;if(a&&ea(s,"start",!0)&&ea(i,"end")){let f=i,p=[];for(;p.push(f),!f.isTextblock;)f=f.lastChild;let m=s,_=1;for(;!m.isTextblock;m=m.firstChild)_++;if(f.canReplace(f.childCount,f.childCount,m.content)){if(t){let b=se.empty;for(let M=p.length-1;M>=0;M--)b=se.from(p[M].copy(b));let k=n.tr.step(new Yt(e.pos-p.length,e.pos+s.nodeSize,e.pos+_,e.pos+s.nodeSize-_,new _e(b,p.length,0),0,!0));t(k.scrollIntoView())}return!0}}return!1}function Zw(n){return function(e,t){let i=e.selection,s=n<0?i.$from:i.$to,r=s.depth;for(;s.node(r).isInline;){if(!r)return!1;r--}return s.node(r).isTextblock?(t&&t(e.tr.setSelection(Fe.create(e.doc,n<0?s.start(r):s.end(r)))),!0):!1}}const AN=Zw(-1),ON=Zw(1);function LN(n,e=null){return function(t,i){let{$from:s,$to:r}=t.selection,o=s.blockRange(r),a=o&&tg(o,n,e);return a?(i&&i(t.tr.wrap(o,a).scrollIntoView()),!0):!1}}function iv(n,e=null){return function(t,i){let s=!1;for(let r=0;r<t.selection.ranges.length&&!s;r++){let{$from:{pos:o},$to:{pos:a}}=t.selection.ranges[r];t.doc.nodesBetween(o,a,(l,u)=>{if(s)return!1;if(!(!l.isTextblock||l.hasMarkup(n,e)))if(l.type==n)s=!0;else{let d=t.doc.resolve(u),f=d.index();s=d.parent.canReplaceWith(f,f+1,n)}})}if(!s)return!1;if(i){let r=t.tr;for(let o=0;o<t.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:l}}=t.selection.ranges[o];r.setBlockType(a,l,n,e)}i(r.scrollIntoView())}return!0}}typeof navigator!="undefined"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os!="undefined"&&os.platform&&os.platform()=="darwin";function RN(n,e=null){return function(t,i){let{$from:s,$to:r}=t.selection,o=s.blockRange(r),a=!1,l=o;if(!o)return!1;if(o.depth>=2&&s.node(o.depth-1).type.compatibleContent(n)&&o.startIndex==0){if(s.index(o.depth-1)==0)return!1;let d=t.doc.resolve(o.start-2);l=new Ku(d,d,o.depth),o.endIndex<o.parent.childCount&&(o=new Ku(s,t.doc.resolve(r.end(o.depth)),o.depth)),a=!0}let u=tg(l,n,e,o);return u?(i&&i(DN(t.tr,o,u,a,n).scrollIntoView()),!0):!1}}function DN(n,e,t,i,s){let r=se.empty;for(let d=t.length-1;d>=0;d--)r=se.from(t[d].type.create(t[d].attrs,r));n.step(new Yt(e.start-(i?2:0),e.end,e.start,e.end,new _e(r,0,0),t.length,!0));let o=0;for(let d=0;d<t.length;d++)t[d].type==s&&(o=d+1);let a=t.length-o,l=e.start+t.length-(i?2:0),u=e.parent;for(let d=e.startIndex,f=e.endIndex,p=!0;d<f;d++,p=!1)!p&&Bo(n.doc,l,a)&&(n.split(l,a),l+=2*a),l+=u.child(d).nodeSize;return n}function IN(n){return function(e,t){let{$from:i,$to:s}=e.selection,r=i.blockRange(s,o=>o.childCount>0&&o.firstChild.type==n);return r?t?i.node(r.depth-1).type==n?jN(e,t,n,r):NN(e,t,r):!0:!1}}function jN(n,e,t,i){let s=n.tr,r=i.end,o=i.$to.end(i.depth);r<o&&(s.step(new Yt(r-1,o,r,o,new _e(se.from(t.create(null,i.parent.copy())),1,0),1,!0)),i=new Ku(s.doc.resolve(i.$from.pos),s.doc.resolve(o),i.depth));const a=sa(i);if(a==null)return!1;s.lift(i,a);let l=s.mapping.map(r,-1)-1;return rr(s.doc,l)&&s.join(l),e(s.scrollIntoView()),!0}function NN(n,e,t){let i=n.tr,s=t.parent;for(let m=t.end,_=t.endIndex-1,b=t.startIndex;_>b;_--)m-=s.child(_).nodeSize,i.delete(m-1,m+1);let r=i.doc.resolve(t.start),o=r.nodeAfter;if(i.mapping.map(t.end)!=t.start+r.nodeAfter.nodeSize)return!1;let a=t.startIndex==0,l=t.endIndex==s.childCount,u=r.node(-1),d=r.index(-1);if(!u.canReplace(d+(a?0:1),d+1,o.content.append(l?se.empty:se.from(s))))return!1;let f=r.pos,p=f+o.nodeSize;return i.step(new Yt(f-(a?1:0),p+(l?1:0),f+1,p-1,new _e((a?se.empty:se.from(s.copy(se.empty))).append(l?se.empty:se.from(s.copy(se.empty))),a?0:1,l?0:1),a?0:1)),e(i.scrollIntoView()),!0}function zN(n){return function(e,t){let{$from:i,$to:s}=e.selection,r=i.blockRange(s,u=>u.childCount>0&&u.firstChild.type==n);if(!r)return!1;let o=r.startIndex;if(o==0)return!1;let a=r.parent,l=a.child(o-1);if(l.type!=n)return!1;if(t){let u=l.lastChild&&l.lastChild.type==a.type,d=se.from(u?n.create():null),f=new _e(se.from(n.create(null,se.from(a.type.create(null,d)))),u?3:1,0),p=r.start,m=r.end;t(e.tr.step(new Yt(p-(u?3:1),m,p,m,f,1,!0)).scrollIntoView())}return!0}}function Kd(n){const{state:e,transaction:t}=n;let{selection:i}=t,{doc:s}=t,{storedMarks:r}=t;return $e(ce({},e),{apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),filterTransaction:e.filterTransaction,plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return r},get selection(){return i},get doc(){return s},get tr(){return i=t.selection,s=t.doc,r=t.storedMarks,t}})}class qd{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:i}=this,{view:s}=t,{tr:r}=i,o=this.buildProps(r);return Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...d)=>{const f=l(...d)(o);return!r.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(r),f}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:i,editor:s,state:r}=this,{view:o}=s,a=[],l=!!e,u=e||r.tr,d=()=>(!l&&t&&!u.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(u),a.every(p=>p===!0)),f=$e(ce({},Object.fromEntries(Object.entries(i).map(([p,m])=>[p,(...b)=>{const k=this.buildProps(u,t),M=m(...b)(k);return a.push(M),f}]))),{run:d});return f}createCan(e){const{rawCommands:t,state:i}=this,s=!1,r=e||i.tr,o=this.buildProps(r,s),a=Object.fromEntries(Object.entries(t).map(([l,u])=>[l,(...d)=>u(...d)($e(ce({},o),{dispatch:void 0}))]));return $e(ce({},a),{chain:()=>this.createChain(r,s)})}buildProps(e,t=!0){const{rawCommands:i,editor:s,state:r}=this,{view:o}=s,a={tr:e,editor:s,view:o,state:Kd({state:r,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(i).map(([l,u])=>[l,(...d)=>u(...d)(a)]))}};return a}}class BN{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const i=this.callbacks[e];return i&&i.forEach(s=>s.apply(this,t)),this}off(e,t){const i=this.callbacks[e];return i&&(t?this.callbacks[e]=i.filter(s=>s!==t):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}}function Me(n,e,t){return n.config[e]===void 0&&n.parent?Me(n.parent,e,t):typeof n.config[e]=="function"?n.config[e].bind($e(ce({},t),{parent:n.parent?Me(n.parent,e,t):null})):n.config[e]}function Gd(n){const e=n.filter(s=>s.type==="extension"),t=n.filter(s=>s.type==="node"),i=n.filter(s=>s.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:i}}function Kw(n){const e=[],{nodeExtensions:t,markExtensions:i}=Gd(n),s=[...t,...i],r={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return n.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage},l=Me(o,"addGlobalAttributes",a);if(!l)return;l().forEach(d=>{d.types.forEach(f=>{Object.entries(d.attributes).forEach(([p,m])=>{e.push({type:f,name:p,attribute:ce(ce({},r),m)})})})})}),s.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage},l=Me(o,"addAttributes",a);if(!l)return;const u=l();Object.entries(u).forEach(([d,f])=>{const p=ce(ce({},r),f);typeof(p==null?void 0:p.default)=="function"&&(p.default=p.default()),p!=null&&p.isRequired&&(p==null?void 0:p.default)===void 0&&delete p.default,e.push({type:o.name,name:d,attribute:p})})}),e}function Xt(n,e){if(typeof n=="string"){if(!e.nodes[n])throw Error(`There is no node type named '${n}'. Maybe you forgot to add the extension?`);return e.nodes[n]}return n}function ct(...n){return n.filter(e=>!!e).reduce((e,t)=>{const i=ce({},e);return Object.entries(t).forEach(([s,r])=>{if(!i[s]){i[s]=r;return}if(s==="class"){const a=r?r.split(" "):[],l=i[s]?i[s].split(" "):[],u=a.filter(d=>!l.includes(d));i[s]=[...l,...u].join(" ")}else s==="style"?i[s]=[i[s],r].join("; "):i[s]=r}),i},{})}function Vp(n,e){return e.filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(n.attrs)||{}:{[t.name]:n.attrs[t.name]}).reduce((t,i)=>ct(t,i),{})}function qw(n){return typeof n=="function"}function Ue(n,e=void 0,...t){return qw(n)?e?n.bind(e)(...t):n(...t):n}function FN(n={}){return Object.keys(n).length===0&&n.constructor===Object}function $N(n){return typeof n!="string"?n:n.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(n):n==="true"?!0:n==="false"?!1:n}function sv(n,e){return n.style?n:$e(ce({},n),{getAttrs:t=>{const i=n.getAttrs?n.getAttrs(t):n.attrs;if(i===!1)return!1;const s=e.reduce((r,o)=>{const a=o.attribute.parseHTML?o.attribute.parseHTML(t):$N(t.getAttribute(o.name));return a==null?r:$e(ce({},r),{[o.name]:a})},{});return ce(ce({},i),s)}})}function rv(n){return Object.fromEntries(Object.entries(n).filter(([e,t])=>e==="attrs"&&FN(t)?!1:t!=null))}function HN(n,e){var t;const i=Kw(n),{nodeExtensions:s,markExtensions:r}=Gd(n),o=(t=s.find(u=>Me(u,"topNode")))===null||t===void 0?void 0:t.name,a=Object.fromEntries(s.map(u=>{const d=i.filter(M=>M.type===u.name),f={name:u.name,options:u.options,storage:u.storage,editor:e},p=n.reduce((M,E)=>{const A=Me(E,"extendNodeSchema",f);return ce(ce({},M),A?A(u):{})},{}),m=rv($e(ce({},p),{content:Ue(Me(u,"content",f)),marks:Ue(Me(u,"marks",f)),group:Ue(Me(u,"group",f)),inline:Ue(Me(u,"inline",f)),atom:Ue(Me(u,"atom",f)),selectable:Ue(Me(u,"selectable",f)),draggable:Ue(Me(u,"draggable",f)),code:Ue(Me(u,"code",f)),defining:Ue(Me(u,"defining",f)),isolating:Ue(Me(u,"isolating",f)),attrs:Object.fromEntries(d.map(M=>{var E;return[M.name,{default:(E=M==null?void 0:M.attribute)===null||E===void 0?void 0:E.default}]}))})),_=Ue(Me(u,"parseHTML",f));_&&(m.parseDOM=_.map(M=>sv(M,d)));const b=Me(u,"renderHTML",f);b&&(m.toDOM=M=>b({node:M,HTMLAttributes:Vp(M,d)}));const k=Me(u,"renderText",f);return k&&(m.toText=k),[u.name,m]})),l=Object.fromEntries(r.map(u=>{const d=i.filter(k=>k.type===u.name),f={name:u.name,options:u.options,storage:u.storage,editor:e},p=n.reduce((k,M)=>{const E=Me(M,"extendMarkSchema",f);return ce(ce({},k),E?E(u):{})},{}),m=rv($e(ce({},p),{inclusive:Ue(Me(u,"inclusive",f)),excludes:Ue(Me(u,"excludes",f)),group:Ue(Me(u,"group",f)),spanning:Ue(Me(u,"spanning",f)),code:Ue(Me(u,"code",f)),attrs:Object.fromEntries(d.map(k=>{var M;return[k.name,{default:(M=k==null?void 0:k.attribute)===null||M===void 0?void 0:M.default}]}))})),_=Ue(Me(u,"parseHTML",f));_&&(m.parseDOM=_.map(k=>sv(k,d)));const b=Me(u,"renderHTML",f);return b&&(m.toDOM=k=>b({mark:k,HTMLAttributes:Vp(k,d)})),[u.name,m]}));return new nI({topNode:o,nodes:a,marks:l})}function Af(n,e){return e.nodes[n]||e.marks[n]||null}function ov(n,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===n.name):e}const VN=(n,e=500)=>{let t="";const i=n.parentOffset;return n.parent.nodesBetween(Math.max(0,i-e),i,(s,r,o,a)=>{var l,u;const d=((u=(l=s.type.spec).toText)===null||u===void 0?void 0:u.call(l,{node:s,pos:r,parent:o,index:a}))||s.textContent||"%leaf%";t+=d.slice(0,Math.max(0,i-r))}),t};function mg(n){return Object.prototype.toString.call(n)==="[object RegExp]"}class Xl{constructor(e){this.find=e.find,this.handler=e.handler}}const WN=(n,e)=>{if(mg(e))return e.exec(n);const t=e(n);if(!t)return null;const i=[t.text];return i.index=t.index,i.input=n,i.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),i.push(t.replaceWith)),i};function Of(n){var e;const{editor:t,from:i,to:s,text:r,rules:o,plugin:a}=n,{view:l}=t;if(l.composing)return!1;const u=l.state.doc.resolve(i);if(u.parent.type.spec.code||!((e=u.nodeBefore||u.nodeAfter)===null||e===void 0)&&e.marks.find(p=>p.type.spec.code))return!1;let d=!1;const f=VN(u)+r;return o.forEach(p=>{if(d)return;const m=WN(f,p.find);if(!m)return;const _=l.state.tr,b=Kd({state:l.state,transaction:_}),k={from:i-(m[0].length-r.length),to:s},{commands:M,chain:E,can:A}=new qd({editor:t,state:b});p.handler({state:b,range:k,match:m,commands:M,chain:E,can:A})===null||!_.steps.length||(_.setMeta(a,{transform:_,from:i,to:s,text:r}),l.dispatch(_),d=!0)}),d}function UN(n){const{editor:e,rules:t}=n,i=new Bt({state:{init(){return null},apply(s,r){const o=s.getMeta(i);return o||(s.selectionSet||s.docChanged?null:r)}},props:{handleTextInput(s,r,o,a){return Of({editor:e,from:r,to:o,text:a,rules:t,plugin:i})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:r}=s.state.selection;r&&Of({editor:e,from:r.pos,to:r.pos,text:"",rules:t,plugin:i})}),!1)},handleKeyDown(s,r){if(r.key!=="Enter")return!1;const{$cursor:o}=s.state.selection;return o?Of({editor:e,from:o.pos,to:o.pos,text:`
`,rules:t,plugin:i}):!1}},isInputRules:!0});return i}function ZN(n){return typeof n=="number"}class KN{constructor(e){this.find=e.find,this.handler=e.handler}}const qN=(n,e)=>{if(mg(e))return[...n.matchAll(e)];const t=e(n);return t?t.map(i=>{const s=[i.text];return s.index=i.index,s.input=n,s.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(i.replaceWith)),s}):[]};function GN(n){const{editor:e,state:t,from:i,to:s,rule:r}=n,{commands:o,chain:a,can:l}=new qd({editor:e,state:t}),u=[];return t.doc.nodesBetween(i,s,(f,p)=>{if(!f.isTextblock||f.type.spec.code)return;const m=Math.max(i,p),_=Math.min(s,p+f.content.size),b=f.textBetween(m-p,_-p,void 0,"￼");qN(b,r.find).forEach(M=>{if(M.index===void 0)return;const E=m+M.index+1,A=E+M[0].length,g={from:t.tr.mapping.map(E),to:t.tr.mapping.map(A)},w=r.handler({state:t,range:g,match:M,commands:o,chain:a,can:l});u.push(w)})}),u.every(f=>f!==null)}function JN(n){const{editor:e,rules:t}=n;let i=null,s=!1,r=!1;return t.map(a=>new Bt({view(l){const u=d=>{var f;i=!((f=l.dom.parentElement)===null||f===void 0)&&f.contains(d.target)?l.dom.parentElement:null};return window.addEventListener("dragstart",u),{destroy(){window.removeEventListener("dragstart",u)}}},props:{handleDOMEvents:{drop:l=>(r=i===l.dom.parentElement,!1),paste:(l,u)=>{var d;const f=(d=u.clipboardData)===null||d===void 0?void 0:d.getData("text/html");return s=!!(f!=null&&f.includes("data-pm-slice")),!1}}},appendTransaction:(l,u,d)=>{const f=l[0],p=f.getMeta("uiEvent")==="paste"&&!s,m=f.getMeta("uiEvent")==="drop"&&!r;if(!p&&!m)return;const _=u.doc.content.findDiffStart(d.doc.content),b=u.doc.content.findDiffEnd(d.doc.content);if(!ZN(_)||!b||_===b.b)return;const k=d.tr,M=Kd({state:d,transaction:k});if(!(!GN({editor:e,state:M,from:Math.max(_-1,0),to:b.b-1,rule:a})||!k.steps.length))return k}}))}function YN(n){const e=n.filter((t,i)=>n.indexOf(t)!==i);return[...new Set(e)]}class So{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=So.resolve(e),this.schema=HN(this.extensions,t),this.extensions.forEach(i=>{var s;this.editor.extensionStorage[i.name]=i.storage;const r={name:i.name,options:i.options,storage:i.storage,editor:this.editor,type:Af(i.name,this.schema)};i.type==="mark"&&(!((s=Ue(Me(i,"keepOnSplit",r)))!==null&&s!==void 0)||s)&&this.splittableMarks.push(i.name);const o=Me(i,"onBeforeCreate",r);o&&this.editor.on("beforeCreate",o);const a=Me(i,"onCreate",r);a&&this.editor.on("create",a);const l=Me(i,"onUpdate",r);l&&this.editor.on("update",l);const u=Me(i,"onSelectionUpdate",r);u&&this.editor.on("selectionUpdate",u);const d=Me(i,"onTransaction",r);d&&this.editor.on("transaction",d);const f=Me(i,"onFocus",r);f&&this.editor.on("focus",f);const p=Me(i,"onBlur",r);p&&this.editor.on("blur",p);const m=Me(i,"onDestroy",r);m&&this.editor.on("destroy",m)})}static resolve(e){const t=So.sort(So.flatten(e)),i=YN(t.map(s=>s.name));return i.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${i.map(s=>`'${s}'`).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map(t=>{const i={name:t.name,options:t.options,storage:t.storage},s=Me(t,"addExtensions",i);return s?[t,...this.flatten(s())]:t}).flat(10)}static sort(e){return e.sort((i,s)=>{const r=Me(i,"priority")||100,o=Me(s,"priority")||100;return r>o?-1:r<o?1:0})}get commands(){return this.extensions.reduce((e,t)=>{const i={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:Af(t.name,this.schema)},s=Me(t,"addCommands",i);return s?ce(ce({},e),s()):e},{})}get plugins(){const{editor:e}=this,t=So.sort([...this.extensions].reverse()),i=[],s=[],r=t.map(o=>{const a={name:o.name,options:o.options,storage:o.storage,editor:e,type:Af(o.name,this.schema)},l=[],u=Me(o,"addKeyboardShortcuts",a);let d={};if(o.type==="mark"&&o.config.exitable&&(d.ArrowRight=()=>Hn.handleExit({editor:e,mark:o})),u){const b=Object.fromEntries(Object.entries(u()).map(([k,M])=>[k,()=>M({editor:e})]));d=ce(ce({},d),b)}const f=fN(d);l.push(f);const p=Me(o,"addInputRules",a);ov(o,e.options.enableInputRules)&&p&&i.push(...p());const m=Me(o,"addPasteRules",a);ov(o,e.options.enablePasteRules)&&m&&s.push(...m());const _=Me(o,"addProseMirrorPlugins",a);if(_){const b=_();l.push(...b)}return l}).flat();return[UN({editor:e,rules:i}),...JN({editor:e,rules:s}),...r]}get attributes(){return Kw(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=Gd(this.extensions);return Object.fromEntries(t.filter(i=>!!Me(i,"addNodeView")).map(i=>{const s=this.attributes.filter(l=>l.type===i.name),r={name:i.name,options:i.options,storage:i.storage,editor:e,type:Xt(i.name,this.schema)},o=Me(i,"addNodeView",r);if(!o)return[];const a=(l,u,d,f)=>{const p=Vp(l,s);return o()({editor:e,node:l,getPos:d,decorations:f,HTMLAttributes:p,extension:i})};return[i.name,a]}))}}function XN(n){return Object.prototype.toString.call(n).slice(8,-1)}function Lf(n){return XN(n)!=="Object"?!1:n.constructor===Object&&Object.getPrototypeOf(n)===Object.prototype}function Jd(n,e){const t=ce({},n);return Lf(n)&&Lf(e)&&Object.keys(e).forEach(i=>{Lf(e[i])?i in n?t[i]=Jd(n[i],e[i]):Object.assign(t,{[i]:e[i]}):Object.assign(t,{[i]:e[i]})}),t}class sn{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=ce(ce({},this.config),e),this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ue(Me(this,"addOptions",{name:this.name}))),this.storage=Ue(Me(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new sn(e)}configure(e={}){const t=this.extend();return t.options=Jd(this.options,e),t.storage=Ue(Me(t,"addStorage",{name:t.name,options:t.options})),t}extend(e={}){const t=new sn(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Ue(Me(t,"addOptions",{name:t.name})),t.storage=Ue(Me(t,"addStorage",{name:t.name,options:t.options})),t}}function Gw(n,e,t){const{from:i,to:s}=e,{blockSeparator:r=`

`,textSerializers:o={}}=t||{};let a="",l=!0;return n.nodesBetween(i,s,(u,d,f,p)=>{var m;const _=o==null?void 0:o[u.type.name];_?(u.isBlock&&!l&&(a+=r,l=!0),f&&(a+=_({node:u,pos:d,parent:f,index:p,range:e}))):u.isText?(a+=(m=u==null?void 0:u.text)===null||m===void 0?void 0:m.slice(Math.max(i,d)-d,s-d),l=!1):u.isBlock&&!l&&(a+=r,l=!0)}),a}function Jw(n){return Object.fromEntries(Object.entries(n.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}const QN=sn.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new Bt({key:new rn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:n}=this,{state:e,schema:t}=n,{doc:i,selection:s}=e,{ranges:r}=s,o=Math.min(...r.map(d=>d.$from.pos)),a=Math.max(...r.map(d=>d.$to.pos)),l=Jw(t);return Gw(i,{from:o,to:a},{textSerializers:l})}}})]}}),e7=()=>({editor:n,view:e})=>(requestAnimationFrame(()=>{var t;n.isDestroyed||(e.dom.blur(),(t=window==null?void 0:window.getSelection())===null||t===void 0||t.removeAllRanges())}),!0),t7=(n=!1)=>({commands:e})=>e.setContent("",n),n7=()=>({state:n,tr:e,dispatch:t})=>{const{selection:i}=e,{ranges:s}=i;return t&&s.forEach(({$from:r,$to:o})=>{n.doc.nodesBetween(r.pos,o.pos,(a,l)=>{if(a.type.isText)return;const{doc:u,mapping:d}=e,f=u.resolve(d.map(l)),p=u.resolve(d.map(l+a.nodeSize)),m=f.blockRange(p);if(!m)return;const _=sa(m);if(a.type.isTextblock){const{defaultType:b}=f.parent.contentMatchAt(f.index());e.setNodeMarkup(m.start,b)}(_||_===0)&&e.lift(m,_)})}),!0},i7=n=>e=>n(e),s7=()=>({state:n,dispatch:e})=>CN(n,e),r7=(n,e)=>({editor:t,tr:i})=>{const{state:s}=t,r=s.doc.slice(n.from,n.to);i.deleteRange(n.from,n.to);const o=i.mapping.map(e);return i.insert(o,r.content),i.setSelection(new Fe(i.doc.resolve(o-1))),!0},o7=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,i=t.$anchor.node();if(i.content.size>0)return!1;const s=n.selection.$anchor;for(let r=s.depth;r>0;r-=1)if(s.node(r).type===i.type){if(e){const a=s.before(r),l=s.after(r);n.delete(a,l).scrollIntoView()}return!0}return!1},a7=n=>({tr:e,state:t,dispatch:i})=>{const s=Xt(n,t.schema),r=e.selection.$anchor;for(let o=r.depth;o>0;o-=1)if(r.node(o).type===s){if(i){const l=r.before(o),u=r.after(o);e.delete(l,u).scrollIntoView()}return!0}return!1},l7=n=>({tr:e,dispatch:t})=>{const{from:i,to:s}=n;return t&&e.delete(i,s),!0},c7=()=>({state:n,dispatch:e})=>pN(n,e),u7=()=>({commands:n})=>n.keyboardShortcut("Enter"),d7=()=>({state:n,dispatch:e})=>MN(n,e);function td(n,e,t={strict:!0}){const i=Object.keys(e);return i.length?i.every(s=>t.strict?e[s]===n[s]:mg(e[s])?e[s].test(n[s]):e[s]===n[s]):!0}function Wp(n,e,t={}){return n.find(i=>i.type===e&&td(i.attrs,t))}function h7(n,e,t={}){return!!Wp(n,e,t)}function gg(n,e,t={}){if(!n||!e)return;let i=n.parent.childAfter(n.parentOffset);if(n.parentOffset===i.offset&&i.offset!==0&&(i=n.parent.childBefore(n.parentOffset)),!i.node)return;const s=Wp([...i.node.marks],e,t);if(!s)return;let r=i.index,o=n.start()+i.offset,a=r+1,l=o+i.node.nodeSize;for(Wp([...i.node.marks],e,t);r>0&&s.isInSet(n.parent.child(r-1).marks);)r-=1,o-=n.parent.child(r).nodeSize;for(;a<n.parent.childCount&&h7([...n.parent.child(a).marks],e,t);)l+=n.parent.child(a).nodeSize,a+=1;return{from:o,to:l}}function ar(n,e){if(typeof n=="string"){if(!e.marks[n])throw Error(`There is no mark type named '${n}'. Maybe you forgot to add the extension?`);return e.marks[n]}return n}const f7=(n,e={})=>({tr:t,state:i,dispatch:s})=>{const r=ar(n,i.schema),{doc:o,selection:a}=t,{$from:l,from:u,to:d}=a;if(s){const f=gg(l,r,e);if(f&&f.from<=u&&f.to>=d){const p=Fe.create(o,f.from,f.to);t.setSelection(p)}}return!0},p7=n=>e=>{const t=typeof n=="function"?n(e):n;for(let i=0;i<t.length;i+=1)if(t[i](e))return!0;return!1};function Yw(n){return n instanceof Fe}function fs(n=0,e=0,t=0){return Math.min(Math.max(n,e),t)}function Xw(n,e=null){if(!e)return null;const t=Be.atStart(n),i=Be.atEnd(n);if(e==="start"||e===!0)return t;if(e==="end")return i;const s=t.from,r=i.to;return e==="all"?Fe.create(n,fs(0,s,r),fs(n.content.size,s,r)):Fe.create(n,fs(e,s,r),fs(e,s,r))}function yg(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const m7=(n=null,e={})=>({editor:t,view:i,tr:s,dispatch:r})=>{e=ce({scrollIntoView:!0},e);const o=()=>{yg()&&i.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(i.focus(),e!=null&&e.scrollIntoView&&t.commands.scrollIntoView())})};if(i.hasFocus()&&n===null||n===!1)return!0;if(r&&n===null&&!Yw(t.state.selection))return o(),!0;const a=Xw(s.doc,n)||t.state.selection,l=t.state.selection.eq(a);return r&&(l||s.setSelection(a),l&&s.storedMarks&&s.setStoredMarks(s.storedMarks),o()),!0},g7=(n,e)=>t=>n.every((i,s)=>e(i,$e(ce({},t),{index:s}))),y7=(n,e)=>({tr:t,commands:i})=>i.insertContentAt({from:t.selection.from,to:t.selection.to},n,e);function av(n){const e=`<body>${n}</body>`;return new window.DOMParser().parseFromString(e,"text/html").body}function nd(n,e,t){if(t=ce({slice:!0,parseOptions:{}},t),typeof n=="object"&&n!==null)try{return Array.isArray(n)&&n.length>0?se.fromArray(n.map(i=>e.nodeFromJSON(i))):e.nodeFromJSON(n)}catch(i){return console.warn("[tiptap warn]: Invalid content.","Passed value:",n,"Error:",i),nd("",e,t)}if(typeof n=="string"){const i=Qm.fromSchema(e);return t.slice?i.parseSlice(av(n),t.parseOptions).content:i.parse(av(n),t.parseOptions)}return nd("",e,t)}function _7(n,e,t){const i=n.steps.length-1;if(i<e)return;const s=n.steps[i];if(!(s instanceof fn||s instanceof Yt))return;const r=n.mapping.maps[i];let o=0;r.forEach((a,l,u,d)=>{o===0&&(o=d)}),n.setSelection(Be.near(n.doc.resolve(o),t))}const v7=n=>n.toString().startsWith("<"),b7=(n,e,t)=>({tr:i,dispatch:s,editor:r})=>{if(s){t=ce({parseOptions:{},updateSelection:!0},t);const o=nd(e,r.schema,{parseOptions:ce({preserveWhitespace:"full"},t.parseOptions)});if(o.toString()==="<>")return!0;let{from:a,to:l}=typeof n=="number"?{from:n,to:n}:{from:n.from,to:n.to},u=!0,d=!0;if((v7(o)?o:[o]).forEach(p=>{p.check(),u=u?p.isText&&p.marks.length===0:!1,d=d?p.isBlock:!1}),a===l&&d){const{parent:p}=i.doc.resolve(a);p.isTextblock&&!p.type.spec.code&&!p.childCount&&(a-=1,l+=1)}u?Array.isArray(e)?i.insertText(e.map(p=>p.text||"").join(""),a,l):typeof e=="object"&&e&&e.text?i.insertText(e.text,a,l):i.insertText(e,a,l):i.replaceWith(a,l,o),t.updateSelection&&_7(i,i.steps.length-1,-1)}return!0},x7=()=>({state:n,dispatch:e})=>xN(n,e),w7=()=>({state:n,dispatch:e})=>wN(n,e),k7=()=>({state:n,dispatch:e})=>gN(n,e),S7=()=>({state:n,dispatch:e})=>vN(n,e),M7=()=>({tr:n,state:e,dispatch:t})=>{try{const i=$d(e.doc,e.selection.$from.pos,-1);return i==null?!1:(n.join(i,2),t&&t(n),!0)}catch(i){return!1}},C7=()=>({state:n,dispatch:e,tr:t})=>{try{const i=$d(n.doc,n.selection.$from.pos,1);return i==null?!1:(t.join(i,2),e&&e(t),!0)}catch(i){return!1}};function _g(){return typeof navigator!="undefined"?/Mac/.test(navigator.platform):!1}function T7(n){const e=n.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let i,s,r,o;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))i=!0;else if(/^(c|ctrl|control)$/i.test(l))s=!0;else if(/^s(hift)?$/i.test(l))r=!0;else if(/^mod$/i.test(l))yg()||_g()?o=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return i&&(t=`Alt-${t}`),s&&(t=`Ctrl-${t}`),o&&(t=`Meta-${t}`),r&&(t=`Shift-${t}`),t}const P7=n=>({editor:e,view:t,tr:i,dispatch:s})=>{const r=T7(n).split(/-(?!$)/),o=r.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),a=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:r.includes("Alt"),ctrlKey:r.includes("Ctrl"),metaKey:r.includes("Meta"),shiftKey:r.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{t.someProp("handleKeyDown",u=>u(t,a))});return l==null||l.steps.forEach(u=>{const d=u.map(i.mapping);d&&s&&i.maybeStep(d)}),!0};function jl(n,e,t={}){const{from:i,to:s,empty:r}=n.selection,o=e?Xt(e,n.schema):null,a=[];n.doc.nodesBetween(i,s,(f,p)=>{if(f.isText)return;const m=Math.max(i,p),_=Math.min(s,p+f.nodeSize);a.push({node:f,from:m,to:_})});const l=s-i,u=a.filter(f=>o?o.name===f.node.type.name:!0).filter(f=>td(f.node.attrs,t,{strict:!1}));return r?!!u.length:u.reduce((f,p)=>f+p.to-p.from,0)>=l}const E7=(n,e={})=>({state:t,dispatch:i})=>{const s=Xt(n,t.schema);return jl(t,s,e)?kN(t,i):!1},A7=()=>({state:n,dispatch:e})=>TN(n,e),O7=n=>({state:e,dispatch:t})=>{const i=Xt(n,e.schema);return IN(i)(e,t)},L7=()=>({state:n,dispatch:e})=>SN(n,e);function Yd(n,e){return e.nodes[n]?"node":e.marks[n]?"mark":null}function lv(n,e){const t=typeof e=="string"?[e]:e;return Object.keys(n).reduce((i,s)=>(t.includes(s)||(i[s]=n[s]),i),{})}const R7=(n,e)=>({tr:t,state:i,dispatch:s})=>{let r=null,o=null;const a=Yd(typeof n=="string"?n:n.name,i.schema);return a?(a==="node"&&(r=Xt(n,i.schema)),a==="mark"&&(o=ar(n,i.schema)),s&&t.selection.ranges.forEach(l=>{i.doc.nodesBetween(l.$from.pos,l.$to.pos,(u,d)=>{r&&r===u.type&&t.setNodeMarkup(d,void 0,lv(u.attrs,e)),o&&u.marks.length&&u.marks.forEach(f=>{o===f.type&&t.addMark(d,d+u.nodeSize,o.create(lv(f.attrs,e)))})})}),!0):!1},D7=()=>({tr:n,dispatch:e})=>(e&&n.scrollIntoView(),!0),I7=()=>({tr:n,commands:e})=>e.setTextSelection({from:0,to:n.doc.content.size}),j7=()=>({state:n,dispatch:e})=>yN(n,e),N7=()=>({state:n,dispatch:e})=>bN(n,e),z7=()=>({state:n,dispatch:e})=>PN(n,e),B7=()=>({state:n,dispatch:e})=>ON(n,e),F7=()=>({state:n,dispatch:e})=>AN(n,e);function Qw(n,e,t={}){return nd(n,e,{slice:!1,parseOptions:t})}const $7=(n,e=!1,t={})=>({tr:i,editor:s,dispatch:r})=>{const{doc:o}=i,a=Qw(n,s.schema,t);return r&&i.replaceWith(0,o.content.size,a).setMeta("preventUpdate",!e),!0};function Ql(n,e){const t=ar(e,n.schema),{from:i,to:s,empty:r}=n.selection,o=[];r?(n.storedMarks&&o.push(...n.storedMarks),o.push(...n.selection.$head.marks())):n.doc.nodesBetween(i,s,l=>{o.push(...l.marks)});const a=o.find(l=>l.type.name===t.name);return a?ce({},a.attrs):{}}function H7(n,e){const t=new ig(n);return e.forEach(i=>{i.steps.forEach(s=>{t.step(s)})}),t}function V7(n){for(let e=0;e<n.edgeCount;e+=1){const{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function W7(n,e,t){const i=[];return n.nodesBetween(e.from,e.to,(s,r)=>{t(s)&&i.push({node:s,pos:r})}),i}function ek(n,e){for(let t=n.depth;t>0;t-=1){const i=n.node(t);if(e(i))return{pos:t>0?n.before(t):0,start:n.start(t),depth:t,node:i}}}function vg(n){return e=>ek(e.$from,n)}function U7(n,e){const t=ji.fromSchema(e).serializeFragment(n),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(t),s.innerHTML}function Z7(n,e){const t={from:0,to:n.content.size};return Gw(n,t,e)}function K7(n,e){const t=Xt(e,n.schema),{from:i,to:s}=n.selection,r=[];n.doc.nodesBetween(i,s,a=>{r.push(a)});const o=r.reverse().find(a=>a.type.name===t.name);return o?ce({},o.attrs):{}}function tk(n,e){const t=Yd(typeof e=="string"?e:e.name,n.schema);return t==="node"?K7(n,e):t==="mark"?Ql(n,e):{}}function q7(n,e=JSON.stringify){const t={};return n.filter(i=>{const s=e(i);return Object.prototype.hasOwnProperty.call(t,s)?!1:t[s]=!0})}function G7(n){const e=q7(n);return e.length===1?e:e.filter((t,i)=>!e.filter((r,o)=>o!==i).some(r=>t.oldRange.from>=r.oldRange.from&&t.oldRange.to<=r.oldRange.to&&t.newRange.from>=r.newRange.from&&t.newRange.to<=r.newRange.to))}function J7(n){const{mapping:e,steps:t}=n,i=[];return e.maps.forEach((s,r)=>{const o=[];if(s.ranges.length)s.forEach((a,l)=>{o.push({from:a,to:l})});else{const{from:a,to:l}=t[r];if(a===void 0||l===void 0)return;o.push({from:a,to:l})}o.forEach(({from:a,to:l})=>{const u=e.slice(r).map(a,-1),d=e.slice(r).map(l),f=e.invert().map(u,-1),p=e.invert().map(d);i.push({oldRange:{from:f,to:p},newRange:{from:u,to:d}})})}),G7(i)}function bg(n,e,t){const i=[];return n===e?t.resolve(n).marks().forEach(s=>{const r=t.resolve(n-1),o=gg(r,s.type);o&&i.push(ce({mark:s},o))}):t.nodesBetween(n,e,(s,r)=>{i.push(...s.marks.map(o=>({from:r,to:r+s.nodeSize,mark:o})))}),i}function vu(n,e,t){return Object.fromEntries(Object.entries(t).filter(([i])=>{const s=n.find(r=>r.type===e&&r.name===i);return s?s.attribute.keepOnSplit:!1}))}function Up(n,e,t={}){const{empty:i,ranges:s}=n.selection,r=e?ar(e,n.schema):null;if(i)return!!(n.storedMarks||n.selection.$from.marks()).filter(f=>r?r.name===f.type.name:!0).find(f=>td(f.attrs,t,{strict:!1}));let o=0;const a=[];if(s.forEach(({$from:f,$to:p})=>{const m=f.pos,_=p.pos;n.doc.nodesBetween(m,_,(b,k)=>{if(!b.isText&&!b.marks.length)return;const M=Math.max(m,k),E=Math.min(_,k+b.nodeSize),A=E-M;o+=A,a.push(...b.marks.map(g=>({mark:g,from:M,to:E})))})}),o===0)return!1;const l=a.filter(f=>r?r.name===f.mark.type.name:!0).filter(f=>td(f.mark.attrs,t,{strict:!1})).reduce((f,p)=>f+p.to-p.from,0),u=a.filter(f=>r?f.mark.type!==r&&f.mark.type.excludes(r):!0).reduce((f,p)=>f+p.to-p.from,0);return(l>0?l+u:l)>=o}function Y7(n,e,t={}){if(!e)return jl(n,null,t)||Up(n,null,t);const i=Yd(e,n.schema);return i==="node"?jl(n,e,t):i==="mark"?Up(n,e,t):!1}function cv(n,e){const{nodeExtensions:t}=Gd(e),i=t.find(o=>o.name===n);if(!i)return!1;const s={name:i.name,options:i.options,storage:i.storage},r=Ue(Me(i,"group",s));return typeof r!="string"?!1:r.split(" ").includes("list")}function X7(n){var e;const t=(e=n.type.createAndFill())===null||e===void 0?void 0:e.toJSON(),i=n.toJSON();return JSON.stringify(t)===JSON.stringify(i)}function G$(n){return n instanceof je}function J$(n,e,t){const s=n.state.doc.content.size,r=fs(e,0,s),o=fs(t,0,s),a=n.coordsAtPos(r),l=n.coordsAtPos(o,-1),u=Math.min(a.top,l.top),d=Math.max(a.bottom,l.bottom),f=Math.min(a.left,l.left),p=Math.max(a.right,l.right),m=p-f,_=d-u,M={top:u,bottom:d,left:f,right:p,width:m,height:_,x:f,y:u};return $e(ce({},M),{toJSON:()=>M})}function Q7(n,e,t){var i;const{selection:s}=e;let r=null;if(Yw(s)&&(r=s.$cursor),r){const a=(i=n.storedMarks)!==null&&i!==void 0?i:r.marks();return!!t.isInSet(a)||!a.some(l=>l.type.excludes(t))}const{ranges:o}=s;return o.some(({$from:a,$to:l})=>{let u=a.depth===0?n.doc.inlineContent&&n.doc.type.allowsMarkType(t):!1;return n.doc.nodesBetween(a.pos,l.pos,(d,f,p)=>{if(u)return!1;if(d.isInline){const m=!p||p.type.allowsMarkType(t),_=!!t.isInSet(d.marks)||!d.marks.some(b=>b.type.excludes(t));u=m&&_}return!u}),u})}const ez=(n,e={})=>({tr:t,state:i,dispatch:s})=>{const{selection:r}=t,{empty:o,ranges:a}=r,l=ar(n,i.schema);if(s)if(o){const u=Ql(i,l);t.addStoredMark(l.create(ce(ce({},u),e)))}else a.forEach(u=>{const d=u.$from.pos,f=u.$to.pos;i.doc.nodesBetween(d,f,(p,m)=>{const _=Math.max(m,d),b=Math.min(m+p.nodeSize,f);p.marks.find(M=>M.type===l)?p.marks.forEach(M=>{l===M.type&&t.addMark(_,b,l.create(ce(ce({},M.attrs),e)))}):t.addMark(_,b,l.create(e))})});return Q7(i,t,l)},tz=(n,e)=>({tr:t})=>(t.setMeta(n,e),!0),nz=(n,e={})=>({state:t,dispatch:i,chain:s})=>{const r=Xt(n,t.schema);return r.isTextblock?s().command(({commands:o})=>iv(r,e)(t)?!0:o.clearNodes()).command(({state:o})=>iv(r,e)(o,i)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},iz=n=>({tr:e,dispatch:t})=>{if(t){const{doc:i}=e,s=fs(n,0,i.content.size),r=je.create(i,s);e.setSelection(r)}return!0},sz=n=>({tr:e,dispatch:t})=>{if(t){const{doc:i}=e,{from:s,to:r}=typeof n=="number"?{from:n,to:n}:n,o=Fe.atStart(i).from,a=Fe.atEnd(i).to,l=fs(s,o,a),u=fs(r,o,a),d=Fe.create(i,l,u);e.setSelection(d)}return!0},rz=n=>({state:e,dispatch:t})=>{const i=Xt(n,e.schema);return zN(i)(e,t)};function uv(n,e){const t=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();if(t){const i=t.filter(s=>e==null?void 0:e.includes(s.type.name));n.tr.ensureMarks(i)}}const oz=({keepMarks:n=!0}={})=>({tr:e,state:t,dispatch:i,editor:s})=>{const{selection:r,doc:o}=e,{$from:a,$to:l}=r,u=s.extensionManager.attributes,d=vu(u,a.node().type.name,a.node().attrs);if(r instanceof je&&r.node.isBlock)return!a.parentOffset||!Bo(o,a.pos)?!1:(i&&(n&&uv(t,s.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;if(i){const f=l.parentOffset===l.parent.content.size;r instanceof Fe&&e.deleteSelection();const p=a.depth===0?void 0:V7(a.node(-1).contentMatchAt(a.indexAfter(-1)));let m=f&&p?[{type:p,attrs:d}]:void 0,_=Bo(e.doc,e.mapping.map(a.pos),1,m);if(!m&&!_&&Bo(e.doc,e.mapping.map(a.pos),1,p?[{type:p}]:void 0)&&(_=!0,m=p?[{type:p,attrs:d}]:void 0),_&&(e.split(e.mapping.map(a.pos),1,m),p&&!f&&!a.parentOffset&&a.parent.type!==p)){const b=e.mapping.map(a.before()),k=e.doc.resolve(b);a.node(-1).canReplaceWith(k.index(),k.index()+1,p)&&e.setNodeMarkup(e.mapping.map(a.before()),p)}n&&uv(t,s.extensionManager.splittableMarks),e.scrollIntoView()}return!0},az=n=>({tr:e,state:t,dispatch:i,editor:s})=>{var r;const o=Xt(n,t.schema),{$from:a,$to:l}=t.selection,u=t.selection.node;if(u&&u.isBlock||a.depth<2||!a.sameParent(l))return!1;const d=a.node(-1);if(d.type!==o)return!1;const f=s.extensionManager.attributes;if(a.parent.content.size===0&&a.node(-1).childCount===a.indexAfter(-1)){if(a.depth===2||a.node(-3).type!==o||a.index(-2)!==a.node(-2).childCount-1)return!1;if(i){let k=se.empty;const M=a.index(-1)?1:a.index(-2)?2:3;for(let S=a.depth-M;S>=a.depth-3;S-=1)k=se.from(a.node(S).copy(k));const E=a.indexAfter(-1)<a.node(-2).childCount?1:a.indexAfter(-2)<a.node(-3).childCount?2:3,A=vu(f,a.node().type.name,a.node().attrs),g=((r=o.contentMatch.defaultType)===null||r===void 0?void 0:r.createAndFill(A))||void 0;k=k.append(se.from(o.createAndFill(null,g)||void 0));const w=a.before(a.depth-(M-1));e.replace(w,a.after(-E),new _e(k,4-M,0));let v=-1;e.doc.nodesBetween(w,e.doc.content.size,(S,T)=>{if(v>-1)return!1;S.isTextblock&&S.content.size===0&&(v=T+1)}),v>-1&&e.setSelection(Fe.near(e.doc.resolve(v))),e.scrollIntoView()}return!0}const p=l.pos===a.end()?d.contentMatchAt(0).defaultType:null,m=vu(f,d.type.name,d.attrs),_=vu(f,a.node().type.name,a.node().attrs);e.delete(a.pos,l.pos);const b=p?[{type:o,attrs:m},{type:p,attrs:_}]:[{type:o,attrs:m}];if(!Bo(e.doc,a.pos,2))return!1;if(i){const{selection:k,storedMarks:M}=t,{splittableMarks:E}=s.extensionManager,A=M||k.$to.parentOffset&&k.$from.marks();if(e.split(a.pos,2,b).scrollIntoView(),!A||!i)return!0;const g=A.filter(w=>E.includes(w.type.name));e.ensureMarks(g)}return!0},Rf=(n,e)=>{const t=vg(o=>o.type===e)(n.selection);if(!t)return!0;const i=n.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(i===void 0)return!0;const s=n.doc.nodeAt(i);return t.node.type===(s==null?void 0:s.type)&&rr(n.doc,t.pos)&&n.join(t.pos),!0},Df=(n,e)=>{const t=vg(o=>o.type===e)(n.selection);if(!t)return!0;const i=n.doc.resolve(t.start).after(t.depth);if(i===void 0)return!0;const s=n.doc.nodeAt(i);return t.node.type===(s==null?void 0:s.type)&&rr(n.doc,i)&&n.join(i),!0},lz=(n,e,t,i={})=>({editor:s,tr:r,state:o,dispatch:a,chain:l,commands:u,can:d})=>{const{extensions:f,splittableMarks:p}=s.extensionManager,m=Xt(n,o.schema),_=Xt(e,o.schema),{selection:b,storedMarks:k}=o,{$from:M,$to:E}=b,A=M.blockRange(E),g=k||b.$to.parentOffset&&b.$from.marks();if(!A)return!1;const w=vg(v=>cv(v.type.name,f))(b);if(A.depth>=1&&w&&A.depth-w.depth<=1){if(w.node.type===m)return u.liftListItem(_);if(cv(w.node.type.name,f)&&m.validContent(w.node.content)&&a)return l().command(()=>(r.setNodeMarkup(w.pos,m),!0)).command(()=>Rf(r,m)).command(()=>Df(r,m)).run()}return!t||!g||!a?l().command(()=>d().wrapInList(m,i)?!0:u.clearNodes()).wrapInList(m,i).command(()=>Rf(r,m)).command(()=>Df(r,m)).run():l().command(()=>{const v=d().wrapInList(m,i),S=g.filter(T=>p.includes(T.type.name));return r.ensureMarks(S),v?!0:u.clearNodes()}).wrapInList(m,i).command(()=>Rf(r,m)).command(()=>Df(r,m)).run()},cz=(n,e={},t={})=>({state:i,commands:s})=>{const{extendEmptyMarkRange:r=!1}=t,o=ar(n,i.schema);return Up(i,o,e)?s.unsetMark(o,{extendEmptyMarkRange:r}):s.setMark(o,e)},uz=(n,e,t={})=>({state:i,commands:s})=>{const r=Xt(n,i.schema),o=Xt(e,i.schema);return jl(i,r,t)?s.setNode(o):s.setNode(r,t)},dz=(n,e={})=>({state:t,commands:i})=>{const s=Xt(n,t.schema);return jl(t,s,e)?i.lift(s):i.wrapIn(s,e)},hz=()=>({state:n,dispatch:e})=>{const t=n.plugins;for(let i=0;i<t.length;i+=1){const s=t[i];let r;if(s.spec.isInputRules&&(r=s.getState(n))){if(e){const o=n.tr,a=r.transform;for(let l=a.steps.length-1;l>=0;l-=1)o.step(a.steps[l].invert(a.docs[l]));if(r.text){const l=o.doc.resolve(r.from).marks();o.replaceWith(r.from,r.to,n.schema.text(r.text,l))}else o.delete(r.from,r.to)}return!0}}return!1},fz=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,{empty:i,ranges:s}=t;return i||e&&s.forEach(r=>{n.removeMark(r.$from.pos,r.$to.pos)}),!0},pz=(n,e={})=>({tr:t,state:i,dispatch:s})=>{var r;const{extendEmptyMarkRange:o=!1}=e,{selection:a}=t,l=ar(n,i.schema),{$from:u,empty:d,ranges:f}=a;if(!s)return!0;if(d&&o){let{from:p,to:m}=a;const _=(r=u.marks().find(k=>k.type===l))===null||r===void 0?void 0:r.attrs,b=gg(u,l,_);b&&(p=b.from,m=b.to),t.removeMark(p,m,l)}else f.forEach(p=>{t.removeMark(p.$from.pos,p.$to.pos,l)});return t.removeStoredMark(l),!0},mz=(n,e={})=>({tr:t,state:i,dispatch:s})=>{let r=null,o=null;const a=Yd(typeof n=="string"?n:n.name,i.schema);return a?(a==="node"&&(r=Xt(n,i.schema)),a==="mark"&&(o=ar(n,i.schema)),s&&t.selection.ranges.forEach(l=>{const u=l.$from.pos,d=l.$to.pos;i.doc.nodesBetween(u,d,(f,p)=>{r&&r===f.type&&t.setNodeMarkup(p,void 0,ce(ce({},f.attrs),e)),o&&f.marks.length&&f.marks.forEach(m=>{if(o===m.type){const _=Math.max(p,u),b=Math.min(p+f.nodeSize,d);t.addMark(_,b,o.create(ce(ce({},m.attrs),e)))}})})}),!0):!1},gz=(n,e={})=>({state:t,dispatch:i})=>{const s=Xt(n,t.schema);return LN(s,e)(t,i)},yz=(n,e={})=>({state:t,dispatch:i})=>{const s=Xt(n,t.schema);return RN(s,e)(t,i)};var _z=Object.freeze({__proto__:null,blur:e7,clearContent:t7,clearNodes:n7,command:i7,createParagraphNear:s7,cut:r7,deleteCurrentNode:o7,deleteNode:a7,deleteRange:l7,deleteSelection:c7,enter:u7,exitCode:d7,extendMarkRange:f7,first:p7,focus:m7,forEach:g7,insertContent:y7,insertContentAt:b7,joinUp:x7,joinDown:w7,joinBackward:k7,joinForward:S7,joinItemBackward:M7,joinItemForward:C7,keyboardShortcut:P7,lift:E7,liftEmptyBlock:A7,liftListItem:O7,newlineInCode:L7,resetAttributes:R7,scrollIntoView:D7,selectAll:I7,selectNodeBackward:j7,selectNodeForward:N7,selectParentNode:z7,selectTextblockEnd:B7,selectTextblockStart:F7,setContent:$7,setMark:ez,setMeta:tz,setNode:nz,setNodeSelection:iz,setTextSelection:sz,sinkListItem:rz,splitBlock:oz,splitListItem:az,toggleList:lz,toggleMark:cz,toggleNode:uz,toggleWrap:dz,undoInputRule:hz,unsetAllMarks:fz,unsetMark:pz,updateAttributes:mz,wrapIn:gz,wrapInList:yz});const vz=sn.create({name:"commands",addCommands(){return ce({},_z)}}),bz=sn.create({name:"editable",addProseMirrorPlugins(){return[new Bt({key:new rn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),xz=sn.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:n}=this;return[new Bt({key:new rn("focusEvents"),props:{handleDOMEvents:{focus:(e,t)=>{n.isFocused=!0;const i=n.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(i),!1},blur:(e,t)=>{n.isFocused=!1;const i=n.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(i),!1}}}})]}}),wz=sn.create({name:"keymap",addKeyboardShortcuts(){const n=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:a})=>{const{selection:l,doc:u}=a,{empty:d,$anchor:f}=l,{pos:p,parent:m}=f,_=f.parent.isTextblock?a.doc.resolve(p-1):f,b=_.parent.type.spec.isolating,k=f.pos-f.parentOffset,M=b&&_.parent.childCount===1?k===f.pos:Be.atStart(u).from===p;return!d||!M||!m.type.isTextblock||m.textContent.length?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),i={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:n,"Mod-Backspace":n,"Shift-Backspace":n,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},s=ce({},i),r=$e(ce({},i),{"Ctrl-h":n,"Alt-Backspace":n,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()});return yg()||_g()?r:s},addProseMirrorPlugins(){return[new Bt({key:new rn("clearDocument"),appendTransaction:(n,e,t)=>{if(!(n.some(_=>_.docChanged)&&!e.doc.eq(t.doc)))return;const{empty:s,from:r,to:o}=e.selection,a=Be.atStart(e.doc).from,l=Be.atEnd(e.doc).to;if(s||!(r===a&&o===l)||!(t.doc.textBetween(0,t.doc.content.size," "," ").length===0))return;const f=t.tr,p=Kd({state:t,transaction:f}),{commands:m}=new qd({editor:this.editor,state:p});if(m.clearNodes(),!!f.steps.length)return f}})]}}),kz=sn.create({name:"tabindex",addProseMirrorPlugins(){return[new Bt({key:new rn("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});var Sz=Object.freeze({__proto__:null,ClipboardTextSerializer:QN,Commands:vz,Editable:bz,FocusEvents:xz,Keymap:wz,Tabindex:kz});const Mz=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function Cz(n,e,t){const i=document.querySelector("style[data-tiptap-style]");if(i!==null)return i;const s=document.createElement("style");return e&&s.setAttribute("nonce",e),s.setAttribute("data-tiptap-style",""),s.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(s),s}let Y$=class extends BN{constructor(e={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=Cz(Mz,this.options.injectNonce))}setOptions(e={}){this.options=ce(ce({},this.options),e),!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){const i=qw(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],s=this.state.reconfigure({plugins:i});this.view.updateState(s)}unregisterPlugin(e){if(this.isDestroyed)return;const t=typeof e=="string"?`${e}$`:e.key,i=this.state.reconfigure({plugins:this.state.plugins.filter(s=>!s.key.startsWith(t))});this.view.updateState(i)}createExtensionManager(){const t=[...this.options.enableCoreExtensions?Object.values(Sz):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i==null?void 0:i.type));this.extensionManager=new So(t,this)}createCommandManager(){this.commandManager=new qd({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const e=Qw(this.options.content,this.schema,this.options.parseOptions),t=Xw(e,this.options.autofocus);this.view=new iN(this.options.element,$e(ce({},this.options.editorProps),{dispatchTransaction:this.dispatchTransaction.bind(this),state:wo.create({doc:e,selection:t||void 0})}));const i=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(i),this.createNodeViews(),this.prependClass();const s=this.view.dom;s.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(o=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(o)});return}const t=this.state.apply(e),i=!this.state.selection.eq(t.selection);this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),i&&this.emit("selectionUpdate",{editor:this,transaction:e});const s=e.getMeta("focus"),r=e.getMeta("blur");s&&this.emit("focus",{editor:this,event:s.event,transaction:e}),r&&this.emit("blur",{editor:this,event:r.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return tk(this.state,e)}isActive(e,t){const i=typeof e=="string"?e:null,s=typeof e=="string"?t:e;return Y7(this.state,i,s)}getJSON(){return this.state.doc.toJSON()}getHTML(){return U7(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:i={}}=e||{};return Z7(this.state.doc,{blockSeparator:t,textSerializers:ce(ce({},Jw(this.schema)),i)})}get isEmpty(){return X7(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}};function Jr(n){return new Xl({find:n.find,handler:({state:e,range:t,match:i})=>{const s=Ue(n.getAttributes,void 0,i);if(s===!1||s===null)return null;const{tr:r}=e,o=i[i.length-1],a=i[0];if(o){const l=a.search(/\S/),u=t.from+a.indexOf(o),d=u+o.length;if(bg(t.from,t.to,e.doc).filter(m=>m.mark.type.excluded.find(b=>b===n.type&&b!==m.mark.type)).filter(m=>m.to>u).length)return null;d<t.to&&r.delete(d,t.to),u>t.from&&r.delete(t.from+l,u);const p=t.from+l+o.length;r.addMark(t.from+l,p,n.type.create(s||{})),r.removeStoredMark(n.type)}}})}function nk(n){return new Xl({find:n.find,handler:({state:e,range:t,match:i})=>{const s=Ue(n.getAttributes,void 0,i)||{},{tr:r}=e,o=t.from;let a=t.to;const l=n.type.create(s);if(i[1]){const u=i[0].lastIndexOf(i[1]);let d=o+u;d>a?d=a:a=d+i[1].length;const f=i[0][i[0].length-1];r.insertText(f,o+i[0].length-1),r.replaceWith(d,a,l)}else i[0]&&r.insert(o-1,n.type.create(s)).delete(r.mapping.map(o),r.mapping.map(a));r.scrollIntoView()}})}function Zp(n){return new Xl({find:n.find,handler:({state:e,range:t,match:i})=>{const s=e.doc.resolve(t.from),r=Ue(n.getAttributes,void 0,i)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),n.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,n.type,r)}})}function Lt(n){return new Xl({find:n.find,handler:({state:e,range:t,match:i})=>{let s=n.replace,r=t.from;const o=t.to;if(i[1]){const a=i[0].lastIndexOf(i[1]);s+=i[0].slice(a+i[1].length),r+=a;const l=r-o;l>0&&(s=i[0].slice(a-l,a)+s,r=o)}e.tr.insertText(s,r,o)}})}function Nl(n){return new Xl({find:n.find,handler:({state:e,range:t,match:i,chain:s})=>{const r=Ue(n.getAttributes,void 0,i)||{},o=e.tr.delete(t.from,t.to),l=o.doc.resolve(t.from).blockRange(),u=l&&tg(l,n.type,r);if(!u)return null;if(o.wrap(l,u),n.keepMarks&&n.editor){const{selection:f,storedMarks:p}=e,{splittableMarks:m}=n.editor.extensionManager,_=p||f.$to.parentOffset&&f.$from.marks();if(_){const b=_.filter(k=>m.includes(k.type.name));o.ensureMarks(b)}}if(n.keepAttributes){const f=n.type.name==="bulletList"||n.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(f,r).run()}const d=o.doc.resolve(t.from-1).nodeBefore;d&&d.type===n.type&&rr(o.doc,t.from-1)&&(!n.joinPredicate||n.joinPredicate(i,d))&&o.join(t.from-1)}})}class Hn{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=ce(ce({},this.config),e),this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ue(Me(this,"addOptions",{name:this.name}))),this.storage=Ue(Me(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Hn(e)}configure(e={}){const t=this.extend();return t.options=Jd(this.options,e),t.storage=Ue(Me(t,"addStorage",{name:t.name,options:t.options})),t}extend(e={}){const t=new Hn(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Ue(Me(t,"addOptions",{name:t.name})),t.storage=Ue(Me(t,"addStorage",{name:t.name,options:t.options})),t}static handleExit({editor:e,mark:t}){const{tr:i}=e.state,s=e.state.selection.$from;if(s.pos===s.end()){const o=s.marks();if(!!!o.find(u=>(u==null?void 0:u.type.name)===t.name))return!1;const l=o.find(u=>(u==null?void 0:u.type.name)===t.name);return l&&i.removeStoredMark(l),i.insertText(" ",s.pos),e.view.dispatch(i),!0}return!1}}class Pt{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=ce(ce({},this.config),e),this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ue(Me(this,"addOptions",{name:this.name}))),this.storage=Ue(Me(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Pt(e)}configure(e={}){const t=this.extend();return t.options=Jd(this.options,e),t.storage=Ue(Me(t,"addStorage",{name:t.name,options:t.options})),t}extend(e={}){const t=new Pt(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Ue(Me(t,"addOptions",{name:t.name})),t.storage=Ue(Me(t,"addStorage",{name:t.name,options:t.options})),t}}function Yr(n){return new KN({find:n.find,handler:({state:e,range:t,match:i})=>{const s=Ue(n.getAttributes,void 0,i);if(s===!1||s===null)return null;const{tr:r}=e,o=i[i.length-1],a=i[0];let l=t.to;if(o){const u=a.search(/\S/),d=t.from+a.indexOf(o),f=d+o.length;if(bg(t.from,t.to,e.doc).filter(m=>m.mark.type.excluded.find(b=>b===n.type&&b!==m.mark.type)).filter(m=>m.to>d).length)return null;f<t.to&&r.delete(f,t.to),d>t.from&&r.delete(t.from+u,d),l=t.from+u+o.length,r.addMark(t.from+u,l,n.type.create(s||{})),r.removeStoredMark(n.type)}}})}function Tz(n){return n.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}const Pz=/^\s*>\s$/,Ez=Pt.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:n}){return["blockquote",ct(this.options.HTMLAttributes,n),0]},addCommands(){return{setBlockquote:()=>({commands:n})=>n.wrapIn(this.name),toggleBlockquote:()=>({commands:n})=>n.toggleWrap(this.name),unsetBlockquote:()=>({commands:n})=>n.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Nl({find:Pz,type:this.type})]}}),Az=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,Oz=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,Lz=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,Rz=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,Dz=Hn.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:n=>n.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:n=>/^(bold(er)?|[5-9]\d{2,})$/.test(n)&&null}]},renderHTML({HTMLAttributes:n}){return["strong",ct(this.options.HTMLAttributes,n),0]},addCommands(){return{setBold:()=>({commands:n})=>n.setMark(this.name),toggleBold:()=>({commands:n})=>n.toggleMark(this.name),unsetBold:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Jr({find:Az,type:this.type}),Jr({find:Lz,type:this.type})]},addPasteRules(){return[Yr({find:Oz,type:this.type}),Yr({find:Rz,type:this.type})]}}),Iz=Pt.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:n}){return["li",ct(this.options.HTMLAttributes,n),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),dv=Hn.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:n=>n.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["span",ct(this.options.HTMLAttributes,n),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:n,commands:e})=>{const t=Ql(n,this.type);return Object.entries(t).some(([,s])=>!!s)?!0:e.unsetMark(this.name)}}}}),hv=/^\s*([-+*])\s$/,jz=Pt.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:n}){return["ul",ct(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleBulletList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Iz.name,this.editor.getAttributes(dv.name)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let n=Nl({find:hv,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(n=Nl({find:hv,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(dv.name),editor:this.editor})),[n]}}),Nz=/(?:^|\s)((?:`)((?:[^`]+))(?:`))$/,zz=/(?:^|\s)((?:`)((?:[^`]+))(?:`))/g,Bz=Hn.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:n}){return["code",ct(this.options.HTMLAttributes,n),0]},addCommands(){return{setCode:()=>({commands:n})=>n.setMark(this.name),toggleCode:()=>({commands:n})=>n.toggleMark(this.name),unsetCode:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Jr({find:Nz,type:this.type})]},addPasteRules(){return[Yr({find:zz,type:this.type})]}}),Fz=/^```([a-z]+)?[\s\n]$/,$z=/^~~~([a-z]+)?[\s\n]$/,Hz=Pt.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:n=>{var e;const{languageClassPrefix:t}=this.options,r=[...((e=n.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(o=>o.startsWith(t)).map(o=>o.replace(t,""))[0];return r||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:n,HTMLAttributes:e}){return["pre",ct(this.options.HTMLAttributes,e),["code",{class:n.attrs.language?this.options.languageClassPrefix+n.attrs.language:null},0]]},addCommands(){return{setCodeBlock:n=>({commands:e})=>e.setNode(this.name,n),toggleCodeBlock:n=>({commands:e})=>e.toggleNode(this.name,"paragraph",n)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:n,$anchor:e}=this.editor.state.selection,t=e.pos===1;return!n||e.parent.type.name!==this.name?!1:t||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:n})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=n,{selection:t}=e,{$from:i,empty:s}=t;if(!s||i.parent.type!==this.type)return!1;const r=i.parentOffset===i.parent.nodeSize-2,o=i.parent.textContent.endsWith(`

`);return!r||!o?!1:n.chain().command(({tr:a})=>(a.delete(i.pos-2,i.pos),!0)).exitCode().run()},ArrowDown:({editor:n})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=n,{selection:t,doc:i}=e,{$from:s,empty:r}=t;if(!r||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const a=s.after();return a===void 0||i.nodeAt(a)?!1:n.commands.exitCode()}}},addInputRules(){return[Zp({find:Fz,type:this.type,getAttributes:n=>({language:n[1]})}),Zp({find:$z,type:this.type,getAttributes:n=>({language:n[1]})})]},addProseMirrorPlugins(){return[new Bt({key:new rn("codeBlockVSCodeHandler"),props:{handlePaste:(n,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const t=e.clipboardData.getData("text/plain"),i=e.clipboardData.getData("vscode-editor-data"),s=i?JSON.parse(i):void 0,r=s==null?void 0:s.mode;if(!t||!r)return!1;const{tr:o}=n.state;return o.replaceSelectionWith(this.type.create({language:r})),o.setSelection(Fe.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.insertText(t.replace(/\r\n?/g,`
`)),o.setMeta("paste",!0),n.dispatch(o),!0}}})]}}),Vz=Pt.create({name:"doc",topNode:!0,content:"block+"});function Wz(n={}){return new Bt({view(e){return new Uz(e,n)}})}class Uz{constructor(e,t){var i;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(i=t.width)!==null&&i!==void 0?i:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let r=o=>{this[s](o)};return e.dom.addEventListener(s,r),{name:s,handler:r}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,i;if(t){let a=e.nodeBefore,l=e.nodeAfter;if(a||l){let u=this.editorView.nodeDOM(this.cursorPos-(a?a.nodeSize:0));if(u){let d=u.getBoundingClientRect(),f=a?d.bottom:d.top;a&&l&&(f=(f+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),i={left:d.left,right:d.right,top:f-this.width/2,bottom:f+this.width/2}}}}if(!i){let a=this.editorView.coordsAtPos(this.cursorPos);i={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}let s=this.editorView.dom.offsetParent;this.element||(this.element=s.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let r,o;if(!s||s==document.body&&getComputedStyle(s).position=="static")r=-pageXOffset,o=-pageYOffset;else{let a=s.getBoundingClientRect();r=a.left-s.scrollLeft,o=a.top-s.scrollTop}this.element.style.left=i.left-r+"px",this.element.style.top=i.top-o+"px",this.element.style.width=i.right-i.left+"px",this.element.style.height=i.bottom-i.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),i=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),s=i&&i.type.spec.disableDropCursor,r=typeof s=="function"?s(this.editorView,t,e):s;if(t&&!r){let o=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=iw(this.editorView.state.doc,o,this.editorView.dragging.slice);a!=null&&(o=a)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const Zz=sn.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[Wz(this.options)]}});class Et extends Be{constructor(e){super(e,e)}map(e,t){let i=e.resolve(t.map(this.head));return Et.valid(i)?new Et(i):Be.near(i)}content(){return _e.empty}eq(e){return e instanceof Et&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Et(e.resolve(t.pos))}getBookmark(){return new xg(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!Kz(e)||!qz(e))return!1;let i=t.type.spec.allowGapCursor;if(i!=null)return i;let s=t.contentMatchAt(e.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(e,t,i=!1){e:for(;;){if(!i&&Et.valid(e))return e;let s=e.pos,r=null;for(let o=e.depth;;o--){let a=e.node(o);if(t>0?e.indexAfter(o)<a.childCount:e.index(o)>0){r=a.child(t>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;s+=t;let l=e.doc.resolve(s);if(Et.valid(l))return l}for(;;){let o=t>0?r.firstChild:r.lastChild;if(!o){if(r.isAtom&&!r.isText&&!je.isSelectable(r)){e=e.doc.resolve(s+r.nodeSize*t),i=!1;continue e}break}r=o,s+=t;let a=e.doc.resolve(s);if(Et.valid(a))return a}return null}}}Et.prototype.visible=!1;Et.findFrom=Et.findGapCursorFrom;Be.jsonID("gapcursor",Et);class xg{constructor(e){this.pos=e}map(e){return new xg(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return Et.valid(t)?new Et(t):Be.near(t)}}function Kz(n){for(let e=n.depth;e>=0;e--){let t=n.index(e),i=n.node(e);if(t==0){if(i.type.spec.isolating)return!0;continue}for(let s=i.child(t-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function qz(n){for(let e=n.depth;e>=0;e--){let t=n.indexAfter(e),i=n.node(e);if(t==i.childCount){if(i.type.spec.isolating)return!0;continue}for(let s=i.child(t);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function Gz(){return new Bt({props:{decorations:Qz,createSelectionBetween(n,e,t){return e.pos==t.pos&&Et.valid(t)?new Et(t):null},handleClick:Yz,handleKeyDown:Jz,handleDOMEvents:{beforeinput:Xz}}})}const Jz=pg({ArrowLeft:Vc("horiz",-1),ArrowRight:Vc("horiz",1),ArrowUp:Vc("vert",-1),ArrowDown:Vc("vert",1)});function Vc(n,e){const t=n=="vert"?e>0?"down":"up":e>0?"right":"left";return function(i,s,r){let o=i.selection,a=e>0?o.$to:o.$from,l=o.empty;if(o instanceof Fe){if(!r.endOfTextblock(t)||a.depth==0)return!1;l=!1,a=i.doc.resolve(e>0?a.after():a.before())}let u=Et.findGapCursorFrom(a,e,l);return u?(s&&s(i.tr.setSelection(new Et(u))),!0):!1}}function Yz(n,e,t){if(!n||!n.editable)return!1;let i=n.state.doc.resolve(e);if(!Et.valid(i))return!1;let s=n.posAtCoords({left:t.clientX,top:t.clientY});return s&&s.inside>-1&&je.isSelectable(n.state.doc.nodeAt(s.inside))?!1:(n.dispatch(n.state.tr.setSelection(new Et(i))),!0)}function Xz(n,e){if(e.inputType!="insertCompositionText"||!(n.state.selection instanceof Et))return!1;let{$from:t}=n.state.selection,i=t.parent.contentMatchAt(t.index()).findWrapping(n.state.schema.nodes.text);if(!i)return!1;let s=se.empty;for(let o=i.length-1;o>=0;o--)s=se.from(i[o].createAndFill(null,s));let r=n.state.tr.replace(t.pos,t.pos,new _e(s,0,0));return r.setSelection(Fe.near(r.doc.resolve(t.pos+1))),n.dispatch(r),!1}function Qz(n){if(!(n.selection instanceof Et))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",bt.create(n.doc,[mn.widget(n.selection.head,e,{key:"gapcursor"})])}const e9=sn.create({name:"gapCursor",addProseMirrorPlugins(){return[Gz()]},extendNodeSchema(n){var e;const t={name:n.name,options:n.options,storage:n.storage};return{allowGapCursor:(e=Ue(Me(n,"allowGapCursor",t)))!==null&&e!==void 0?e:null}}}),t9=Pt.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:n}){return["br",ct(this.options.HTMLAttributes,n)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:n,chain:e,state:t,editor:i})=>n.first([()=>n.exitCode(),()=>n.command(()=>{const{selection:s,storedMarks:r}=t;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:a}=i.extensionManager,l=r||s.$to.parentOffset&&s.$from.marks();return e().insertContent({type:this.name}).command(({tr:u,dispatch:d})=>{if(d&&l&&o){const f=l.filter(p=>a.includes(p.type.name));u.ensureMarks(f)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),n9=Pt.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(n=>({tag:`h${n}`,attrs:{level:n}}))},renderHTML({node:n,HTMLAttributes:e}){return[`h${this.options.levels.includes(n.attrs.level)?n.attrs.level:this.options.levels[0]}`,ct(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.setNode(this.name,n):!1,toggleHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.toggleNode(this.name,"paragraph",n):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((n,e)=>$e(ce({},n),{[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(n=>Zp({find:new RegExp(`^(#{1,${n}})\\s$`),type:this.type,getAttributes:{level:n}}))}});var id=200,nn=function(){};nn.prototype.append=function(e){return e.length?(e=nn.from(e),!this.length&&e||e.length<id&&this.leafAppend(e)||this.length<id&&e.leafPrepend(this)||this.appendInner(e)):this};nn.prototype.prepend=function(e){return e.length?nn.from(e).append(this):this};nn.prototype.appendInner=function(e){return new i9(this,e)};nn.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?nn.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};nn.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};nn.prototype.forEach=function(e,t,i){t===void 0&&(t=0),i===void 0&&(i=this.length),t<=i?this.forEachInner(e,t,i,0):this.forEachInvertedInner(e,t,i,0)};nn.prototype.map=function(e,t,i){t===void 0&&(t=0),i===void 0&&(i=this.length);var s=[];return this.forEach(function(r,o){return s.push(e(r,o))},t,i),s};nn.from=function(e){return e instanceof nn?e:e&&e.length?new ik(e):nn.empty};var ik=function(n){function e(i){n.call(this),this.values=i}n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(s,r){return s==0&&r==this.length?this:new e(this.values.slice(s,r))},e.prototype.getInner=function(s){return this.values[s]},e.prototype.forEachInner=function(s,r,o,a){for(var l=r;l<o;l++)if(s(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(s,r,o,a){for(var l=r-1;l>=o;l--)if(s(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(s){if(this.length+s.length<=id)return new e(this.values.concat(s.flatten()))},e.prototype.leafPrepend=function(s){if(this.length+s.length<=id)return new e(s.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(nn);nn.empty=new ik([]);var i9=function(n){function e(t,i){n.call(this),this.left=t,this.right=i,this.length=t.length+i.length,this.depth=Math.max(t.depth,i.depth)+1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(i){return i<this.left.length?this.left.get(i):this.right.get(i-this.left.length)},e.prototype.forEachInner=function(i,s,r,o){var a=this.left.length;if(s<a&&this.left.forEachInner(i,s,Math.min(r,a),o)===!1||r>a&&this.right.forEachInner(i,Math.max(s-a,0),Math.min(this.length,r)-a,o+a)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,r,o){var a=this.left.length;if(s>a&&this.right.forEachInvertedInner(i,s-a,Math.max(r,a)-a,o+a)===!1||r<a&&this.left.forEachInvertedInner(i,Math.min(s,a),r,o)===!1)return!1},e.prototype.sliceInner=function(i,s){if(i==0&&s==this.length)return this;var r=this.left.length;return s<=r?this.left.slice(i,s):i>=r?this.right.slice(i-r,s-r):this.left.slice(i,r).append(this.right.slice(0,s-r))},e.prototype.leafAppend=function(i){var s=this.right.leafAppend(i);if(s)return new e(this.left,s)},e.prototype.leafPrepend=function(i){var s=this.left.leafPrepend(i);if(s)return new e(s,this.right)},e.prototype.appendInner=function(i){return this.left.depth>=Math.max(this.right.depth,i.depth)+1?new e(this.left,new e(this.right,i)):new e(this,i)},e}(nn),sk=nn;const s9=500;class li{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let i=this.items.length;for(;;i--)if(this.items.get(i-1).selection){--i;break}let s,r;t&&(s=this.remapping(i,this.items.length),r=s.maps.length);let o=e.tr,a,l,u=[],d=[];return this.items.forEach((f,p)=>{if(!f.step){s||(s=this.remapping(i,p+1),r=s.maps.length),r--,d.push(f);return}if(s){d.push(new Ai(f.map));let m=f.step.map(s.slice(r)),_;m&&o.maybeStep(m).doc&&(_=o.mapping.maps[o.mapping.maps.length-1],u.push(new Ai(_,void 0,void 0,u.length+d.length))),r--,_&&s.appendMap(_,r)}else o.maybeStep(f.step);if(f.selection)return a=s?f.selection.map(s.slice(r)):f.selection,l=new li(this.items.slice(0,i).append(d.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:o,selection:a}}addTransform(e,t,i,s){let r=[],o=this.eventCount,a=this.items,l=!s&&a.length?a.get(a.length-1):null;for(let d=0;d<e.steps.length;d++){let f=e.steps[d].invert(e.docs[d]),p=new Ai(e.mapping.maps[d],f,t),m;(m=l&&l.merge(p))&&(p=m,d?r.pop():a=a.slice(0,a.length-1)),r.push(p),t&&(o++,t=void 0),s||(l=p)}let u=o-i.depth;return u>o9&&(a=r9(a,u),o-=u),new li(a.append(r),o)}remapping(e,t){let i=new zo;return this.items.forEach((s,r)=>{let o=s.mirrorOffset!=null&&r-s.mirrorOffset>=e?i.maps.length-s.mirrorOffset:void 0;i.appendMap(s.map,o)},e,t),i}addMaps(e){return this.eventCount==0?this:new li(this.items.append(e.map(t=>new Ai(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let i=[],s=Math.max(0,this.items.length-t),r=e.mapping,o=e.steps.length,a=this.eventCount;this.items.forEach(p=>{p.selection&&a--},s);let l=t;this.items.forEach(p=>{let m=r.getMirror(--l);if(m==null)return;o=Math.min(o,m);let _=r.maps[m];if(p.step){let b=e.steps[m].invert(e.docs[m]),k=p.selection&&p.selection.map(r.slice(l+1,m));k&&a++,i.push(new Ai(_,b,k))}else i.push(new Ai(_))},s);let u=[];for(let p=t;p<o;p++)u.push(new Ai(r.maps[p]));let d=this.items.slice(0,s).append(u).append(i),f=new li(d,a);return f.emptyItemCount()>s9&&(f=f.compress(this.items.length-i.length)),f}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),i=t.maps.length,s=[],r=0;return this.items.forEach((o,a)=>{if(a>=e)s.push(o),o.selection&&r++;else if(o.step){let l=o.step.map(t.slice(i)),u=l&&l.getMap();if(i--,u&&t.appendMap(u,i),l){let d=o.selection&&o.selection.map(t.slice(i));d&&r++;let f=new Ai(u.invert(),l,d),p,m=s.length-1;(p=s.length&&s[m].merge(f))?s[m]=p:s.push(f)}}else o.map&&i--},this.items.length,0),new li(sk.from(s.reverse()),r)}}li.empty=new li(sk.empty,0);function r9(n,e){let t;return n.forEach((i,s)=>{if(i.selection&&e--==0)return t=s,!1}),n.slice(t)}class Ai{constructor(e,t,i,s){this.map=e,this.step=t,this.selection=i,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new Ai(t.getMap().invert(),t,this.selection)}}}class As{constructor(e,t,i,s){this.done=e,this.undone=t,this.prevRanges=i,this.prevTime=s}}const o9=20;function a9(n,e,t,i){let s=t.getMeta(qs),r;if(s)return s.historyState;t.getMeta(c9)&&(n=new As(n.done,n.undone,null,0));let o=t.getMeta("appendedTransaction");if(t.steps.length==0)return n;if(o&&o.getMeta(qs))return o.getMeta(qs).redo?new As(n.done.addTransform(t,void 0,i,bu(e)),n.undone,fv(t.mapping.maps[t.steps.length-1]),n.prevTime):new As(n.done,n.undone.addTransform(t,void 0,i,bu(e)),null,n.prevTime);if(t.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let a=n.prevTime==0||!o&&(n.prevTime<(t.time||0)-i.newGroupDelay||!l9(t,n.prevRanges)),l=o?If(n.prevRanges,t.mapping):fv(t.mapping.maps[t.steps.length-1]);return new As(n.done.addTransform(t,a?e.selection.getBookmark():void 0,i,bu(e)),li.empty,l,t.time)}else return(r=t.getMeta("rebased"))?new As(n.done.rebased(t,r),n.undone.rebased(t,r),If(n.prevRanges,t.mapping),n.prevTime):new As(n.done.addMaps(t.mapping.maps),n.undone.addMaps(t.mapping.maps),If(n.prevRanges,t.mapping),n.prevTime)}function l9(n,e){if(!e)return!1;if(!n.docChanged)return!0;let t=!1;return n.mapping.maps[0].forEach((i,s)=>{for(let r=0;r<e.length;r+=2)i<=e[r+1]&&s>=e[r]&&(t=!0)}),t}function fv(n){let e=[];return n.forEach((t,i,s,r)=>e.push(s,r)),e}function If(n,e){if(!n)return null;let t=[];for(let i=0;i<n.length;i+=2){let s=e.map(n[i],1),r=e.map(n[i+1],-1);s<=r&&t.push(s,r)}return t}function rk(n,e,t,i){let s=bu(e),r=qs.get(e).spec.config,o=(i?n.undone:n.done).popEvent(e,s);if(!o)return;let a=o.selection.resolve(o.transform.doc),l=(i?n.done:n.undone).addTransform(o.transform,e.selection.getBookmark(),r,s),u=new As(i?l:o.remaining,i?o.remaining:l,null,0);t(o.transform.setSelection(a).setMeta(qs,{redo:i,historyState:u}).scrollIntoView())}let jf=!1,pv=null;function bu(n){let e=n.plugins;if(pv!=e){jf=!1,pv=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){jf=!0;break}}return jf}const qs=new rn("history"),c9=new rn("closeHistory");function u9(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new Bt({key:qs,state:{init(){return new As(li.empty,li.empty,null,0)},apply(e,t,i){return a9(t,i,e,n)}},config:n,props:{handleDOMEvents:{beforeinput(e,t){let i=t.inputType,s=i=="historyUndo"?ok:i=="historyRedo"?ak:null;return s?(t.preventDefault(),s(e.state,e.dispatch)):!1}}}})}const ok=(n,e)=>{let t=qs.getState(n);return!t||t.done.eventCount==0?!1:(e&&rk(t,n,e,!1),!0)},ak=(n,e)=>{let t=qs.getState(n);return!t||t.undone.eventCount==0?!1:(e&&rk(t,n,e,!0),!0)},d9=sn.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:n,dispatch:e})=>ok(n,e),redo:()=>({state:n,dispatch:e})=>ak(n,e)}},addProseMirrorPlugins(){return[u9(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-Z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-Y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Shift-Mod-Z":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),h9=Pt.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:n}){return["hr",ct(this.options.HTMLAttributes,n)]},addCommands(){return{setHorizontalRule:()=>({chain:n,state:e})=>{const{$to:t}=e.selection,i=n();return t.parentOffset===0?i.insertContentAt(Math.max(t.pos-2,0),{type:this.name}):i.insertContent({type:this.name}),i.command(({tr:s,dispatch:r})=>{var o;if(r){const{$to:a}=s.selection,l=a.end();if(a.nodeAfter)a.nodeAfter.isTextblock?s.setSelection(Fe.create(s.doc,a.pos+1)):a.nodeAfter.isBlock?s.setSelection(je.create(s.doc,a.pos)):s.setSelection(Fe.create(s.doc,a.pos));else{const u=(o=a.parent.type.contentMatch.defaultType)===null||o===void 0?void 0:o.create();u&&(s.insert(l,u),s.setSelection(Fe.create(s.doc,l+1)))}s.scrollIntoView()}return!0}).run()}}},addInputRules(){return[nk({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),f9=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,p9=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,m9=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,g9=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,y9=Hn.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:n=>n.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:n}){return["em",ct(this.options.HTMLAttributes,n),0]},addCommands(){return{setItalic:()=>({commands:n})=>n.setMark(this.name),toggleItalic:()=>({commands:n})=>n.toggleMark(this.name),unsetItalic:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Jr({find:f9,type:this.type}),Jr({find:m9,type:this.type})]},addPasteRules(){return[Yr({find:p9,type:this.type}),Yr({find:g9,type:this.type})]}}),_9=Pt.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:n}){return["li",ct(this.options.HTMLAttributes,n),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),v9=Pt.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:n}){return["li",ct(this.options.HTMLAttributes,n),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),mv=Hn.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:n=>n.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["span",ct(this.options.HTMLAttributes,n),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:n,commands:e})=>{const t=Ql(n,this.type);return Object.entries(t).some(([,s])=>!!s)?!0:e.unsetMark(this.name)}}}}),gv=/^(\d+)\.\s$/,b9=Pt.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:n=>n.hasAttribute("start")?parseInt(n.getAttribute("start")||"",10):1}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:n}){const i=n,{start:e}=i,t=wa(i,["start"]);return e===1?["ol",ct(this.options.HTMLAttributes,t),0]:["ol",ct(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleOrderedList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(v9.name,this.editor.getAttributes(mv.name)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let n=Nl({find:gv,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(n=Nl({find:gv,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>ce({start:+e[1]},this.editor.getAttributes(mv.name)),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[n]}}),x9=Pt.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:n}){return["p",ct(this.options.HTMLAttributes,n),0]},addCommands(){return{setParagraph:()=>({commands:n})=>n.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),w9=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,k9=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,S9=Hn.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["s",ct(this.options.HTMLAttributes,n),0]},addCommands(){return{setStrike:()=>({commands:n})=>n.setMark(this.name),toggleStrike:()=>({commands:n})=>n.toggleMark(this.name),unsetStrike:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){const n={};return _g()?n["Mod-Shift-s"]=()=>this.editor.commands.toggleStrike():n["Ctrl-Shift-s"]=()=>this.editor.commands.toggleStrike(),n},addInputRules(){return[Jr({find:w9,type:this.type})]},addPasteRules(){return[Yr({find:k9,type:this.type})]}}),M9=Pt.create({name:"text",group:"inline"}),Q$=sn.create({name:"starterKit",addExtensions(){var n,e,t,i,s,r,o,a,l,u,d,f,p,m,_,b,k,M;const E=[];return this.options.blockquote!==!1&&E.push(Ez.configure((n=this.options)===null||n===void 0?void 0:n.blockquote)),this.options.bold!==!1&&E.push(Dz.configure((e=this.options)===null||e===void 0?void 0:e.bold)),this.options.bulletList!==!1&&E.push(jz.configure((t=this.options)===null||t===void 0?void 0:t.bulletList)),this.options.code!==!1&&E.push(Bz.configure((i=this.options)===null||i===void 0?void 0:i.code)),this.options.codeBlock!==!1&&E.push(Hz.configure((s=this.options)===null||s===void 0?void 0:s.codeBlock)),this.options.document!==!1&&E.push(Vz.configure((r=this.options)===null||r===void 0?void 0:r.document)),this.options.dropcursor!==!1&&E.push(Zz.configure((o=this.options)===null||o===void 0?void 0:o.dropcursor)),this.options.gapcursor!==!1&&E.push(e9.configure((a=this.options)===null||a===void 0?void 0:a.gapcursor)),this.options.hardBreak!==!1&&E.push(t9.configure((l=this.options)===null||l===void 0?void 0:l.hardBreak)),this.options.heading!==!1&&E.push(n9.configure((u=this.options)===null||u===void 0?void 0:u.heading)),this.options.history!==!1&&E.push(d9.configure((d=this.options)===null||d===void 0?void 0:d.history)),this.options.horizontalRule!==!1&&E.push(h9.configure((f=this.options)===null||f===void 0?void 0:f.horizontalRule)),this.options.italic!==!1&&E.push(y9.configure((p=this.options)===null||p===void 0?void 0:p.italic)),this.options.listItem!==!1&&E.push(_9.configure((m=this.options)===null||m===void 0?void 0:m.listItem)),this.options.orderedList!==!1&&E.push(b9.configure((_=this.options)===null||_===void 0?void 0:_.orderedList)),this.options.paragraph!==!1&&E.push(x9.configure((b=this.options)===null||b===void 0?void 0:b.paragraph)),this.options.strike!==!1&&E.push(S9.configure((k=this.options)===null||k===void 0?void 0:k.strike)),this.options.text!==!1&&E.push(M9.configure((M=this.options)===null||M===void 0?void 0:M.text)),E}}),eH=sn.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something …",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Bt({key:new rn("placeholder"),props:{decorations:({doc:n,selection:e})=>{const t=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:i}=e,s=[];if(!t)return null;const r=n.type.createAndFill(),o=(r==null?void 0:r.sameMarkup(n))&&r.content.findDiffStart(n.content)===null;return n.descendants((a,l)=>{const u=i>=l&&i<=l+a.nodeSize,d=!a.isLeaf&&!a.childCount;if((u||!this.options.showOnlyCurrent)&&d){const f=[this.options.emptyNodeClass];o&&f.push(this.options.emptyEditorClass);const p=mn.node(l,l+a.nodeSize,{class:f.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:a,pos:l,hasAnchor:u}):this.options.placeholder});s.push(p)}return this.options.includeChildren}),bt.create(n,s)}}})]}}),tH=sn.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:"left"}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:n=>n.style.textAlign||this.options.defaultAlignment,renderHTML:n=>n.textAlign===this.options.defaultAlignment?{}:{style:`text-align: ${n.textAlign}`}}}}]},addCommands(){return{setTextAlign:n=>({commands:e})=>this.options.alignments.includes(n)?this.options.types.every(t=>e.updateAttributes(t,{textAlign:n})):!1,unsetTextAlign:()=>({commands:n})=>this.options.types.every(e=>n.resetAttributes(e,"textAlign"))}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}});var Kp,qp;if(typeof WeakMap!="undefined"){let n=new WeakMap;Kp=e=>n.get(e),qp=(e,t)=>(n.set(e,t),t)}else{const n=[];let t=0;Kp=i=>{for(let s=0;s<n.length;s+=2)if(n[s]==i)return n[s+1]},qp=(i,s)=>(t==10&&(t=0),n[t++]=i,n[t++]=s)}var At=class{constructor(n,e,t,i){this.width=n,this.height=e,this.map=t,this.problems=i}findCell(n){for(let e=0;e<this.map.length;e++){const t=this.map[e];if(t!=n)continue;const i=e%this.width,s=e/this.width|0;let r=i+1,o=s+1;for(let a=1;r<this.width&&this.map[e+a]==t;a++)r++;for(let a=1;o<this.height&&this.map[e+this.width*a]==t;a++)o++;return{left:i,top:s,right:r,bottom:o}}throw new RangeError(`No cell with offset ${n} found`)}colCount(n){for(let e=0;e<this.map.length;e++)if(this.map[e]==n)return e%this.width;throw new RangeError(`No cell with offset ${n} found`)}nextCell(n,e,t){const{left:i,right:s,top:r,bottom:o}=this.findCell(n);return e=="horiz"?(t<0?i==0:s==this.width)?null:this.map[r*this.width+(t<0?i-1:s)]:(t<0?r==0:o==this.height)?null:this.map[i+this.width*(t<0?r-1:o)]}rectBetween(n,e){const{left:t,right:i,top:s,bottom:r}=this.findCell(n),{left:o,right:a,top:l,bottom:u}=this.findCell(e);return{left:Math.min(t,o),top:Math.min(s,l),right:Math.max(i,a),bottom:Math.max(r,u)}}cellsInRect(n){const e=[],t={};for(let i=n.top;i<n.bottom;i++)for(let s=n.left;s<n.right;s++){const r=i*this.width+s,o=this.map[r];t[o]||(t[o]=!0,!(s==n.left&&s&&this.map[r-1]==o||i==n.top&&i&&this.map[r-this.width]==o)&&e.push(o))}return e}positionAt(n,e,t){for(let i=0,s=0;;i++){const r=s+t.child(i).nodeSize;if(i==n){let o=e+n*this.width;const a=(n+1)*this.width;for(;o<a&&this.map[o]<s;)o++;return o==a?r-1:this.map[o]}s=r}}static get(n){return Kp(n)||qp(n,C9(n))}};function C9(n){if(n.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+n.type.name);const e=T9(n),t=n.childCount,i=[];let s=0,r=null;const o=[];for(let u=0,d=e*t;u<d;u++)i[u]=0;for(let u=0,d=0;u<t;u++){const f=n.child(u);d++;for(let _=0;;_++){for(;s<i.length&&i[s]!=0;)s++;if(_==f.childCount)break;const b=f.child(_),{colspan:k,rowspan:M,colwidth:E}=b.attrs;for(let A=0;A<M;A++){if(A+u>=t){(r||(r=[])).push({type:"overlong_rowspan",pos:d,n:M-A});break}const g=s+A*e;for(let w=0;w<k;w++){i[g+w]==0?i[g+w]=d:(r||(r=[])).push({type:"collision",row:u,pos:d,n:k-w});const v=E&&E[w];if(v){const S=(g+w)%e*2,T=o[S];T==null||T!=v&&o[S+1]==1?(o[S]=v,o[S+1]=1):T==v&&o[S+1]++}}}s+=k,d+=b.nodeSize}const p=(u+1)*e;let m=0;for(;s<p;)i[s++]==0&&m++;m&&(r||(r=[])).push({type:"missing",row:u,n:m}),d++}const a=new At(e,t,i,r);let l=!1;for(let u=0;!l&&u<o.length;u+=2)o[u]!=null&&o[u+1]<t&&(l=!0);return l&&P9(a,o,n),a}function T9(n){let e=-1,t=!1;for(let i=0;i<n.childCount;i++){const s=n.child(i);let r=0;if(t)for(let o=0;o<i;o++){const a=n.child(o);for(let l=0;l<a.childCount;l++){const u=a.child(l);o+u.attrs.rowspan>i&&(r+=u.attrs.colspan)}}for(let o=0;o<s.childCount;o++){const a=s.child(o);r+=a.attrs.colspan,a.attrs.rowspan>1&&(t=!0)}e==-1?e=r:e!=r&&(e=Math.max(e,r))}return e}function P9(n,e,t){n.problems||(n.problems=[]);const i={};for(let s=0;s<n.map.length;s++){const r=n.map[s];if(i[r])continue;i[r]=!0;const o=t.nodeAt(r);if(!o)throw new RangeError(`No cell with offset ${r} found`);let a=null;const l=o.attrs;for(let u=0;u<l.colspan;u++){const d=(s+u)%n.width,f=e[d*2];f!=null&&(!l.colwidth||l.colwidth[u]!=f)&&((a||(a=E9(l)))[u]=f)}a&&n.problems.unshift({type:"colwidth mismatch",pos:r,colwidth:a})}}function E9(n){if(n.colwidth)return n.colwidth.slice();const e=[];for(let t=0;t<n.colspan;t++)e.push(0);return e}function yn(n){let e=n.cached.tableNodeTypes;if(!e){e=n.cached.tableNodeTypes={};for(const t in n.nodes){const i=n.nodes[t],s=i.spec.tableRole;s&&(e[s]=i)}}return e}var Rs=new rn("selectingCells");function ra(n){for(let e=n.depth-1;e>0;e--)if(n.node(e).type.spec.tableRole=="row")return n.node(0).resolve(n.before(e+1));return null}function A9(n){for(let e=n.depth;e>0;e--){const t=n.node(e).type.spec.tableRole;if(t==="cell"||t==="header_cell")return n.node(e)}return null}function xi(n){const e=n.selection.$head;for(let t=e.depth;t>0;t--)if(e.node(t).type.spec.tableRole=="row")return!0;return!1}function Xd(n){const e=n.selection;if("$anchorCell"in e&&e.$anchorCell)return e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell;if("node"in e&&e.node&&e.node.type.spec.tableRole=="cell")return e.$anchor;const t=ra(e.$head)||O9(e.$head);if(t)return t;throw new RangeError(`No cell found around position ${e.head}`)}function O9(n){for(let e=n.nodeAfter,t=n.pos;e;e=e.firstChild,t++){const i=e.type.spec.tableRole;if(i=="cell"||i=="header_cell")return n.doc.resolve(t)}for(let e=n.nodeBefore,t=n.pos;e;e=e.lastChild,t--){const i=e.type.spec.tableRole;if(i=="cell"||i=="header_cell")return n.doc.resolve(t-e.nodeSize)}}function Gp(n){return n.parent.type.spec.tableRole=="row"&&!!n.nodeAfter}function L9(n){return n.node(0).resolve(n.pos+n.nodeAfter.nodeSize)}function wg(n,e){return n.depth==e.depth&&n.pos>=e.start(-1)&&n.pos<=e.end(-1)}function lk(n,e,t){const i=n.node(-1),s=At.get(i),r=n.start(-1),o=s.nextCell(n.pos-r,e,t);return o==null?null:n.node(0).resolve(r+o)}function Xr(n,e,t=1){const i=$e(ce({},n),{colspan:n.colspan-t});return i.colwidth&&(i.colwidth=i.colwidth.slice(),i.colwidth.splice(e,t),i.colwidth.some(s=>s>0)||(i.colwidth=null)),i}function ck(n,e,t=1){const i=$e(ce({},n),{colspan:n.colspan+t});if(i.colwidth){i.colwidth=i.colwidth.slice();for(let s=0;s<t;s++)i.colwidth.splice(e,0,0)}return i}function R9(n,e,t){const i=yn(e.type.schema).header_cell;for(let s=0;s<n.height;s++)if(e.nodeAt(n.map[t+s*n.width]).type!=i)return!1;return!0}var tt=class extends Be{constructor(n,e=n){const t=n.node(-1),i=At.get(t),s=n.start(-1),r=i.rectBetween(n.pos-s,e.pos-s),o=n.node(0),a=i.cellsInRect(r).filter(u=>u!=e.pos-s);a.unshift(e.pos-s);const l=a.map(u=>{const d=t.nodeAt(u);if(!d)throw RangeError(`No cell with offset ${u} found`);const f=s+u+1;return new lw(o.resolve(f),o.resolve(f+d.content.size))});super(l[0].$from,l[0].$to,l),this.$anchorCell=n,this.$headCell=e}map(n,e){const t=n.resolve(e.map(this.$anchorCell.pos)),i=n.resolve(e.map(this.$headCell.pos));if(Gp(t)&&Gp(i)&&wg(t,i)){const s=this.$anchorCell.node(-1)!=t.node(-1);return s&&this.isRowSelection()?tt.rowSelection(t,i):s&&this.isColSelection()?tt.colSelection(t,i):new tt(t,i)}return Fe.between(t,i)}content(){const n=this.$anchorCell.node(-1),e=At.get(n),t=this.$anchorCell.start(-1),i=e.rectBetween(this.$anchorCell.pos-t,this.$headCell.pos-t),s={},r=[];for(let a=i.top;a<i.bottom;a++){const l=[];for(let u=a*e.width+i.left,d=i.left;d<i.right;d++,u++){const f=e.map[u];if(s[f])continue;s[f]=!0;const p=e.findCell(f);let m=n.nodeAt(f);if(!m)throw RangeError(`No cell with offset ${f} found`);const _=i.left-p.left,b=p.right-i.right;if(_>0||b>0){let k=m.attrs;if(_>0&&(k=Xr(k,0,_)),b>0&&(k=Xr(k,k.colspan-b,b)),p.left<i.left){if(m=m.type.createAndFill(k),!m)throw RangeError(`Could not create cell with attrs ${JSON.stringify(k)}`)}else m=m.type.create(k,m.content)}if(p.top<i.top||p.bottom>i.bottom){const k=$e(ce({},m.attrs),{rowspan:Math.min(p.bottom,i.bottom)-Math.max(p.top,i.top)});p.top<i.top?m=m.type.createAndFill(k):m=m.type.create(k,m.content)}l.push(m)}r.push(n.child(a).copy(se.from(l)))}const o=this.isColSelection()&&this.isRowSelection()?n:r;return new _e(se.from(o),1,1)}replace(n,e=_e.empty){const t=n.steps.length,i=this.ranges;for(let r=0;r<i.length;r++){const{$from:o,$to:a}=i[r],l=n.mapping.slice(t);n.replace(l.map(o.pos),l.map(a.pos),r?_e.empty:e)}const s=Be.findFrom(n.doc.resolve(n.mapping.slice(t).map(this.to)),-1);s&&n.setSelection(s)}replaceWith(n,e){this.replace(n,new _e(se.from(e),0,0))}forEachCell(n){const e=this.$anchorCell.node(-1),t=At.get(e),i=this.$anchorCell.start(-1),s=t.cellsInRect(t.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i));for(let r=0;r<s.length;r++)n(e.nodeAt(s[r]),i+s[r])}isColSelection(){const n=this.$anchorCell.index(-1),e=this.$headCell.index(-1);if(Math.min(n,e)>0)return!1;const t=n+this.$anchorCell.nodeAfter.attrs.rowspan,i=e+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(t,i)==this.$headCell.node(-1).childCount}static colSelection(n,e=n){const t=n.node(-1),i=At.get(t),s=n.start(-1),r=i.findCell(n.pos-s),o=i.findCell(e.pos-s),a=n.node(0);return r.top<=o.top?(r.top>0&&(n=a.resolve(s+i.map[r.left])),o.bottom<i.height&&(e=a.resolve(s+i.map[i.width*(i.height-1)+o.right-1]))):(o.top>0&&(e=a.resolve(s+i.map[o.left])),r.bottom<i.height&&(n=a.resolve(s+i.map[i.width*(i.height-1)+r.right-1]))),new tt(n,e)}isRowSelection(){const n=this.$anchorCell.node(-1),e=At.get(n),t=this.$anchorCell.start(-1),i=e.colCount(this.$anchorCell.pos-t),s=e.colCount(this.$headCell.pos-t);if(Math.min(i,s)>0)return!1;const r=i+this.$anchorCell.nodeAfter.attrs.colspan,o=s+this.$headCell.nodeAfter.attrs.colspan;return Math.max(r,o)==e.width}eq(n){return n instanceof tt&&n.$anchorCell.pos==this.$anchorCell.pos&&n.$headCell.pos==this.$headCell.pos}static rowSelection(n,e=n){const t=n.node(-1),i=At.get(t),s=n.start(-1),r=i.findCell(n.pos-s),o=i.findCell(e.pos-s),a=n.node(0);return r.left<=o.left?(r.left>0&&(n=a.resolve(s+i.map[r.top*i.width])),o.right<i.width&&(e=a.resolve(s+i.map[i.width*(o.top+1)-1]))):(o.left>0&&(e=a.resolve(s+i.map[o.top*i.width])),r.right<i.width&&(n=a.resolve(s+i.map[i.width*(r.top+1)-1]))),new tt(n,e)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(n,e){return new tt(n.resolve(e.anchor),n.resolve(e.head))}static create(n,e,t=e){return new tt(n.resolve(e),n.resolve(t))}getBookmark(){return new uk(this.$anchorCell.pos,this.$headCell.pos)}};tt.prototype.visible=!1;Be.jsonID("cell",tt);var uk=class{constructor(n,e){this.anchor=n,this.head=e}map(n){return new uk(n.map(this.anchor),n.map(this.head))}resolve(n){const e=n.resolve(this.anchor),t=n.resolve(this.head);return e.parent.type.spec.tableRole=="row"&&t.parent.type.spec.tableRole=="row"&&e.index()<e.parent.childCount&&t.index()<t.parent.childCount&&wg(e,t)?new tt(e,t):Be.near(t,1)}};function D9(n){if(!(n.selection instanceof tt))return null;const e=[];return n.selection.forEachCell((t,i)=>{e.push(mn.node(i,i+t.nodeSize,{class:"selectedCell"}))}),bt.create(n.doc,e)}function I9({$from:n,$to:e}){if(n.pos==e.pos||n.pos<n.pos-6)return!1;let t=n.pos,i=e.pos,s=n.depth;for(;s>=0&&!(n.after(s+1)<n.end(s));s--,t++);for(let r=e.depth;r>=0&&!(e.before(r+1)>e.start(r));r--,i--);return t==i&&/row|table/.test(n.node(s).type.spec.tableRole)}function j9({$from:n,$to:e}){let t,i;for(let s=n.depth;s>0;s--){const r=n.node(s);if(r.type.spec.tableRole==="cell"||r.type.spec.tableRole==="header_cell"){t=r;break}}for(let s=e.depth;s>0;s--){const r=e.node(s);if(r.type.spec.tableRole==="cell"||r.type.spec.tableRole==="header_cell"){i=r;break}}return t!==i&&e.parentOffset===0}function N9(n,e,t){const i=(e||n).selection,s=(e||n).doc;let r,o;if(i instanceof je&&(o=i.node.type.spec.tableRole)){if(o=="cell"||o=="header_cell")r=tt.create(s,i.from);else if(o=="row"){const a=s.resolve(i.from+1);r=tt.rowSelection(a,a)}else if(!t){const a=At.get(i.node),l=i.from+1,u=l+a.map[a.width*a.height-1];r=tt.create(s,l+1,u)}}else i instanceof Fe&&I9(i)?r=Fe.create(s,i.from):i instanceof Fe&&j9(i)&&(r=Fe.create(s,i.$from.start(),i.$from.end()));return r&&(e||(e=n.tr)).setSelection(r),e}var z9=new rn("fix-tables");function dk(n,e,t,i){const s=n.childCount,r=e.childCount;e:for(let o=0,a=0;o<r;o++){const l=e.child(o);for(let u=a,d=Math.min(s,o+3);u<d;u++)if(n.child(u)==l){a=u+1,t+=l.nodeSize;continue e}i(l,t),a<s&&n.child(a).sameMarkup(l)?dk(n.child(a),l,t+1,i):l.nodesBetween(0,l.content.size,i,t+1),t+=l.nodeSize}}function hk(n,e){let t;const i=(s,r)=>{s.type.spec.tableRole=="table"&&(t=B9(n,s,r,t))};return e?e.doc!=n.doc&&dk(e.doc,n.doc,0,i):n.doc.descendants(i),t}function B9(n,e,t,i){const s=At.get(e);if(!s.problems)return i;i||(i=n.tr);const r=[];for(let l=0;l<s.height;l++)r.push(0);for(let l=0;l<s.problems.length;l++){const u=s.problems[l];if(u.type=="collision"){const d=e.nodeAt(u.pos);if(!d)continue;const f=d.attrs;for(let p=0;p<f.rowspan;p++)r[u.row+p]+=u.n;i.setNodeMarkup(i.mapping.map(t+1+u.pos),null,Xr(f,f.colspan-u.n,u.n))}else if(u.type=="missing")r[u.row]+=u.n;else if(u.type=="overlong_rowspan"){const d=e.nodeAt(u.pos);if(!d)continue;i.setNodeMarkup(i.mapping.map(t+1+u.pos),null,$e(ce({},d.attrs),{rowspan:d.attrs.rowspan-u.n}))}else if(u.type=="colwidth mismatch"){const d=e.nodeAt(u.pos);if(!d)continue;i.setNodeMarkup(i.mapping.map(t+1+u.pos),null,$e(ce({},d.attrs),{colwidth:u.colwidth}))}}let o,a;for(let l=0;l<r.length;l++)r[l]&&(o==null&&(o=l),a=l);for(let l=0,u=t+1;l<s.height;l++){const d=e.child(l),f=u+d.nodeSize,p=r[l];if(p>0){let m="cell";d.firstChild&&(m=d.firstChild.type.spec.tableRole);const _=[];for(let k=0;k<p;k++){const M=yn(n.schema)[m].createAndFill();M&&_.push(M)}const b=(l==0||o==l-1)&&a==l?u+1:f-1;i.insert(i.mapping.map(b),_)}u=f}return i.setMeta(z9,{fixTables:!0})}function F9(n){if(!n.size)return null;let{content:e,openStart:t,openEnd:i}=n;for(;e.childCount==1&&(t>0&&i>0||e.child(0).type.spec.tableRole=="table");)t--,i--,e=e.child(0).content;const s=e.child(0),r=s.type.spec.tableRole,o=s.type.schema,a=[];if(r=="row")for(let l=0;l<e.childCount;l++){let u=e.child(l).content;const d=l?0:Math.max(0,t-1),f=l<e.childCount-1?0:Math.max(0,i-1);(d||f)&&(u=Jp(yn(o).row,new _e(u,d,f)).content),a.push(u)}else if(r=="cell"||r=="header_cell")a.push(t||i?Jp(yn(o).row,new _e(e,t,i)).content:e);else return null;return $9(o,a)}function $9(n,e){const t=[];for(let s=0;s<e.length;s++){const r=e[s];for(let o=r.childCount-1;o>=0;o--){const{rowspan:a,colspan:l}=r.child(o).attrs;for(let u=s;u<s+a;u++)t[u]=(t[u]||0)+l}}let i=0;for(let s=0;s<t.length;s++)i=Math.max(i,t[s]);for(let s=0;s<t.length;s++)if(s>=e.length&&e.push(se.empty),t[s]<i){const r=yn(n).cell.createAndFill(),o=[];for(let a=t[s];a<i;a++)o.push(r);e[s]=e[s].append(se.from(o))}return{height:e.length,width:i,rows:e}}function Jp(n,e){const t=n.createAndFill();return new ig(t).replace(0,t.content.size,e).doc}function H9({width:n,height:e,rows:t},i,s){if(n!=i){const r=[],o=[];for(let a=0;a<t.length;a++){const l=t[a],u=[];for(let d=r[a]||0,f=0;d<i;f++){let p=l.child(f%l.childCount);d+p.attrs.colspan>i&&(p=p.type.createChecked(Xr(p.attrs,p.attrs.colspan,d+p.attrs.colspan-i),p.content)),u.push(p),d+=p.attrs.colspan;for(let m=1;m<p.attrs.rowspan;m++)r[a+m]=(r[a+m]||0)+p.attrs.colspan}o.push(se.from(u))}t=o,n=i}if(e!=s){const r=[];for(let o=0,a=0;o<s;o++,a++){const l=[],u=t[a%e];for(let d=0;d<u.childCount;d++){let f=u.child(d);o+f.attrs.rowspan>s&&(f=f.type.create($e(ce({},f.attrs),{rowspan:Math.max(1,s-f.attrs.rowspan)}),f.content)),l.push(f)}r.push(se.from(l))}t=r,e=s}return{width:n,height:e,rows:t}}function V9(n,e,t,i,s,r,o){const a=n.doc.type.schema,l=yn(a);let u,d;if(s>e.width)for(let f=0,p=0;f<e.height;f++){const m=t.child(f);p+=m.nodeSize;const _=[];let b;m.lastChild==null||m.lastChild.type==l.cell?b=u||(u=l.cell.createAndFill()):b=d||(d=l.header_cell.createAndFill());for(let k=e.width;k<s;k++)_.push(b);n.insert(n.mapping.slice(o).map(p-1+i),_)}if(r>e.height){const f=[];for(let _=0,b=(e.height-1)*e.width;_<Math.max(e.width,s);_++){const k=_>=e.width?!1:t.nodeAt(e.map[b+_]).type==l.header_cell;f.push(k?d||(d=l.header_cell.createAndFill()):u||(u=l.cell.createAndFill()))}const p=l.row.create(null,se.from(f)),m=[];for(let _=e.height;_<r;_++)m.push(p);n.insert(n.mapping.slice(o).map(i+t.nodeSize-2),m)}return!!(u||d)}function yv(n,e,t,i,s,r,o,a){if(o==0||o==e.height)return!1;let l=!1;for(let u=s;u<r;u++){const d=o*e.width+u,f=e.map[d];if(e.map[d-e.width]==f){l=!0;const p=t.nodeAt(f),{top:m,left:_}=e.findCell(f);n.setNodeMarkup(n.mapping.slice(a).map(f+i),null,$e(ce({},p.attrs),{rowspan:o-m})),n.insert(n.mapping.slice(a).map(e.positionAt(o,_,t)),p.type.createAndFill($e(ce({},p.attrs),{rowspan:m+p.attrs.rowspan-o}))),u+=p.attrs.colspan-1}}return l}function _v(n,e,t,i,s,r,o,a){if(o==0||o==e.width)return!1;let l=!1;for(let u=s;u<r;u++){const d=u*e.width+o,f=e.map[d];if(e.map[d-1]==f){l=!0;const p=t.nodeAt(f),m=e.colCount(f),_=n.mapping.slice(a).map(f+i);n.setNodeMarkup(_,null,Xr(p.attrs,o-m,p.attrs.colspan-(o-m))),n.insert(_+p.nodeSize,p.type.createAndFill(Xr(p.attrs,0,o-m))),u+=p.attrs.rowspan-1}}return l}function vv(n,e,t,i,s){let r=t?n.doc.nodeAt(t-1):n.doc;if(!r)throw new Error("No table found");let o=At.get(r);const{top:a,left:l}=i,u=l+s.width,d=a+s.height,f=n.tr;let p=0;function m(){if(r=t?f.doc.nodeAt(t-1):f.doc,!r)throw new Error("No table found");o=At.get(r),p=f.mapping.maps.length}V9(f,o,r,t,u,d,p)&&m(),yv(f,o,r,t,l,u,a,p)&&m(),yv(f,o,r,t,l,u,d,p)&&m(),_v(f,o,r,t,a,d,l,p)&&m(),_v(f,o,r,t,a,d,u,p)&&m();for(let _=a;_<d;_++){const b=o.positionAt(_,l,r),k=o.positionAt(_,u,r);f.replace(f.mapping.slice(p).map(b+t),f.mapping.slice(p).map(k+t),new _e(s.rows[_-a],0,0))}m(),f.setSelection(new tt(f.doc.resolve(t+o.positionAt(a,l,r)),f.doc.resolve(t+o.positionAt(d-1,u-1,r)))),e(f)}var W9=pg({ArrowLeft:Wc("horiz",-1),ArrowRight:Wc("horiz",1),ArrowUp:Wc("vert",-1),ArrowDown:Wc("vert",1),"Shift-ArrowLeft":Uc("horiz",-1),"Shift-ArrowRight":Uc("horiz",1),"Shift-ArrowUp":Uc("vert",-1),"Shift-ArrowDown":Uc("vert",1),Backspace:Zc,"Mod-Backspace":Zc,Delete:Zc,"Mod-Delete":Zc});function xu(n,e,t){return t.eq(n.selection)?!1:(e&&e(n.tr.setSelection(t).scrollIntoView()),!0)}function Wc(n,e){return(t,i,s)=>{if(!s)return!1;const r=t.selection;if(r instanceof tt)return xu(t,i,Be.near(r.$headCell,e));if(n!="horiz"&&!r.empty)return!1;const o=fk(s,n,e);if(o==null)return!1;if(n=="horiz")return xu(t,i,Be.near(t.doc.resolve(r.head+e),e));{const a=t.doc.resolve(o),l=lk(a,n,e);let u;return l?u=Be.near(l,1):e<0?u=Be.near(t.doc.resolve(a.before(-1)),-1):u=Be.near(t.doc.resolve(a.after(-1)),1),xu(t,i,u)}}}function Uc(n,e){return(t,i,s)=>{if(!s)return!1;const r=t.selection;let o;if(r instanceof tt)o=r;else{const l=fk(s,n,e);if(l==null)return!1;o=new tt(t.doc.resolve(l))}const a=lk(o.$headCell,n,e);return a?xu(t,i,new tt(o.$anchorCell,a)):!1}}function Zc(n,e){const t=n.selection;if(!(t instanceof tt))return!1;if(e){const i=n.tr,s=yn(n.schema).cell.createAndFill().content;t.forEachCell((r,o)=>{r.content.eq(s)||i.replace(i.mapping.map(o+1),i.mapping.map(o+r.nodeSize-1),new _e(s,0,0))}),i.docChanged&&e(i)}return!0}function U9(n,e){const t=n.state.doc,i=ra(t.resolve(e));return i?(n.dispatch(n.state.tr.setSelection(new tt(i))),!0):!1}function Z9(n,e,t){if(!xi(n.state))return!1;let i=F9(t);const s=n.state.selection;if(s instanceof tt){i||(i={width:1,height:1,rows:[se.from(Jp(yn(n.state.schema).cell,t))]});const r=s.$anchorCell.node(-1),o=s.$anchorCell.start(-1),a=At.get(r).rectBetween(s.$anchorCell.pos-o,s.$headCell.pos-o);return i=H9(i,a.right-a.left,a.bottom-a.top),vv(n.state,n.dispatch,o,a,i),!0}else if(i){const r=Xd(n.state),o=r.start(-1);return vv(n.state,n.dispatch,o,At.get(r.node(-1)).findCell(r.pos-o),i),!0}else return!1}function K9(n,e){var t;if(e.ctrlKey||e.metaKey)return;const i=bv(n,e.target);let s;if(e.shiftKey&&n.state.selection instanceof tt)r(n.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&i&&(s=ra(n.state.selection.$anchor))!=null&&((t=Nf(n,e))==null?void 0:t.pos)!=s.pos)r(s,e),e.preventDefault();else if(!i)return;function r(l,u){let d=Nf(n,u);const f=Rs.getState(n.state)==null;if(!d||!wg(l,d))if(f)d=l;else return;const p=new tt(l,d);if(f||!n.state.selection.eq(p)){const m=n.state.tr.setSelection(p);f&&m.setMeta(Rs,l.pos),n.dispatch(m)}}function o(){n.root.removeEventListener("mouseup",o),n.root.removeEventListener("dragstart",o),n.root.removeEventListener("mousemove",a),Rs.getState(n.state)!=null&&n.dispatch(n.state.tr.setMeta(Rs,-1))}function a(l){const u=l,d=Rs.getState(n.state);let f;if(d!=null)f=n.state.doc.resolve(d);else if(bv(n,u.target)!=i&&(f=Nf(n,e),!f))return o();f&&r(f,u)}n.root.addEventListener("mouseup",o),n.root.addEventListener("dragstart",o),n.root.addEventListener("mousemove",a)}function fk(n,e,t){if(!(n.state.selection instanceof Fe))return null;const{$head:i}=n.state.selection;for(let s=i.depth-1;s>=0;s--){const r=i.node(s);if((t<0?i.index(s):i.indexAfter(s))!=(t<0?0:r.childCount))return null;if(r.type.spec.tableRole=="cell"||r.type.spec.tableRole=="header_cell"){const a=i.before(s),l=e=="vert"?t>0?"down":"up":t>0?"right":"left";return n.endOfTextblock(l)?a:null}}return null}function bv(n,e){for(;e&&e!=n.dom;e=e.parentNode)if(e.nodeName=="TD"||e.nodeName=="TH")return e;return null}function Nf(n,e){const t=n.posAtCoords({left:e.clientX,top:e.clientY});return t&&t?ra(n.state.doc.resolve(t.pos)):null}var q9=class{constructor(e,t){this.node=e,this.cellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),Yp(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!=this.node.type?!1:(this.node=e,Yp(e,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(e){return e.type=="attributes"&&(e.target==this.table||this.colgroup.contains(e.target))}};function Yp(n,e,t,i,s,r){var o;let a=0,l=!0,u=e.firstChild;const d=n.firstChild;if(d){for(let f=0,p=0;f<d.childCount;f++){const{colspan:m,colwidth:_}=d.child(f).attrs;for(let b=0;b<m;b++,p++){const k=s==p?r:_&&_[b],M=k?k+"px":"";a+=k||i,k||(l=!1),u?(u.style.width!=M&&(u.style.width=M),u=u.nextSibling):e.appendChild(document.createElement("col")).style.width=M}}for(;u;){const f=u.nextSibling;(o=u.parentNode)==null||o.removeChild(u),u=f}l?(t.style.width=a+"px",t.style.minWidth=""):(t.style.width="",t.style.minWidth=a+"px")}}var Qn=new rn("tableColumnResizing");function G9({handleWidth:n=5,cellMinWidth:e=25,View:t=q9,lastColumnResizable:i=!0}={}){const s=new Bt({key:Qn,state:{init(r,o){return s.spec.props.nodeViews[yn(o.schema).table.name]=(a,l)=>new t(a,e,l),new wu(-1,!1)},apply(r,o){return o.apply(r)}},props:{attributes:r=>{const o=Qn.getState(r);return o&&o.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(r,o)=>{J9(r,o,n,e,i)},mouseleave:r=>{Y9(r)},mousedown:(r,o)=>{X9(r,o,e)}},decorations:r=>{const o=Qn.getState(r);if(o&&o.activeHandle>-1)return sB(r,o.activeHandle)},nodeViews:{}}});return s}var wu=class{constructor(n,e){this.activeHandle=n,this.dragging=e}apply(n){const e=this,t=n.getMeta(Qn);if(t&&t.setHandle!=null)return new wu(t.setHandle,!1);if(t&&t.setDragging!==void 0)return new wu(e.activeHandle,t.setDragging);if(e.activeHandle>-1&&n.docChanged){let i=n.mapping.map(e.activeHandle,-1);return Gp(n.doc.resolve(i))||(i=-1),new wu(i,e.dragging)}return e}};function J9(n,e,t,i,s){const r=Qn.getState(n.state);if(r&&!r.dragging){const o=eB(e.target);let a=-1;if(o){const{left:l,right:u}=o.getBoundingClientRect();e.clientX-l<=t?a=xv(n,e,"left"):u-e.clientX<=t&&(a=xv(n,e,"right"))}if(a!=r.activeHandle){if(!s&&a!==-1){const l=n.state.doc.resolve(a),u=l.node(-1),d=At.get(u),f=l.start(-1);if(d.colCount(l.pos-f)+l.nodeAfter.attrs.colspan-1==d.width-1)return}pk(n,a)}}}function Y9(n){const e=Qn.getState(n.state);e&&e.activeHandle>-1&&!e.dragging&&pk(n,-1)}function X9(n,e,t){const i=Qn.getState(n.state);if(!i||i.activeHandle==-1||i.dragging)return!1;const s=n.state.doc.nodeAt(i.activeHandle),r=Q9(n,i.activeHandle,s.attrs);n.dispatch(n.state.tr.setMeta(Qn,{setDragging:{startX:e.clientX,startWidth:r}}));function o(l){window.removeEventListener("mouseup",o),window.removeEventListener("mousemove",a);const u=Qn.getState(n.state);u!=null&&u.dragging&&(tB(n,u.activeHandle,wv(u.dragging,l,t)),n.dispatch(n.state.tr.setMeta(Qn,{setDragging:null})))}function a(l){if(!l.which)return o(l);const u=Qn.getState(n.state);if(u&&u.dragging){const d=wv(u.dragging,l,t);nB(n,u.activeHandle,d,t)}}return window.addEventListener("mouseup",o),window.addEventListener("mousemove",a),e.preventDefault(),!0}function Q9(n,e,{colspan:t,colwidth:i}){const s=i&&i[i.length-1];if(s)return s;const r=n.domAtPos(e);let a=r.node.childNodes[r.offset].offsetWidth,l=t;if(i)for(let u=0;u<t;u++)i[u]&&(a-=i[u],l--);return a/l}function eB(n){for(;n&&n.nodeName!="TD"&&n.nodeName!="TH";)n=n.classList&&n.classList.contains("ProseMirror")?null:n.parentNode;return n}function xv(n,e,t){const i=n.posAtCoords({left:e.clientX,top:e.clientY});if(!i)return-1;const{pos:s}=i,r=ra(n.state.doc.resolve(s));if(!r)return-1;if(t=="right")return r.pos;const o=At.get(r.node(-1)),a=r.start(-1),l=o.map.indexOf(r.pos-a);return l%o.width==0?-1:a+o.map[l-1]}function wv(n,e,t){const i=e.clientX-n.startX;return Math.max(t,n.startWidth+i)}function pk(n,e){n.dispatch(n.state.tr.setMeta(Qn,{setHandle:e}))}function tB(n,e,t){const i=n.state.doc.resolve(e),s=i.node(-1),r=At.get(s),o=i.start(-1),a=r.colCount(i.pos-o)+i.nodeAfter.attrs.colspan-1,l=n.state.tr;for(let u=0;u<r.height;u++){const d=u*r.width+a;if(u&&r.map[d]==r.map[d-r.width])continue;const f=r.map[d],p=s.nodeAt(f).attrs,m=p.colspan==1?0:a-r.colCount(f);if(p.colwidth&&p.colwidth[m]==t)continue;const _=p.colwidth?p.colwidth.slice():iB(p.colspan);_[m]=t,l.setNodeMarkup(o+f,null,$e(ce({},p),{colwidth:_}))}l.docChanged&&n.dispatch(l)}function nB(n,e,t,i){const s=n.state.doc.resolve(e),r=s.node(-1),o=s.start(-1),a=At.get(r).colCount(s.pos-o)+s.nodeAfter.attrs.colspan-1;let l=n.domAtPos(s.start(-1)).node;for(;l&&l.nodeName!="TABLE";)l=l.parentNode;l&&Yp(r,l.firstChild,l,i,a,t)}function iB(n){return Array(n).fill(0)}function sB(n,e){const t=[],i=n.doc.resolve(e),s=i.node(-1);if(!s)return bt.empty;const r=At.get(s),o=i.start(-1),a=r.colCount(i.pos-o)+i.nodeAfter.attrs.colspan;for(let l=0;l<r.height;l++){const u=a+l*r.width-1;if((a==r.width||r.map[u]!=r.map[u+1])&&(l==0||r.map[u-1]!=r.map[u-1-r.width])){const d=r.map[u],f=o+d+s.nodeAt(d).nodeSize-1,p=document.createElement("div");p.className="column-resize-handle",t.push(mn.widget(f,p))}}return bt.create(n.doc,t)}function Wi(n){const e=n.selection,t=Xd(n),i=t.node(-1),s=t.start(-1),r=At.get(i),o=e instanceof tt?r.rectBetween(e.$anchorCell.pos-s,e.$headCell.pos-s):r.findCell(t.pos-s);return $e(ce({},o),{tableStart:s,map:r,table:i})}function mk(n,{map:e,tableStart:t,table:i},s){let r=s>0?-1:0;R9(e,i,s+r)&&(r=s==0||s==e.width?null:0);for(let o=0;o<e.height;o++){const a=o*e.width+s;if(s>0&&s<e.width&&e.map[a-1]==e.map[a]){const l=e.map[a],u=i.nodeAt(l);n.setNodeMarkup(n.mapping.map(t+l),null,ck(u.attrs,s-e.colCount(l))),o+=u.attrs.rowspan-1}else{const l=r==null?yn(i.type.schema).cell:i.nodeAt(e.map[a+r]).type,u=e.positionAt(o,s,i);n.insert(n.mapping.map(t+u),l.createAndFill())}}return n}function rB(n,e){if(!xi(n))return!1;if(e){const t=Wi(n);e(mk(n.tr,t,t.left))}return!0}function oB(n,e){if(!xi(n))return!1;if(e){const t=Wi(n);e(mk(n.tr,t,t.right))}return!0}function aB(n,{map:e,table:t,tableStart:i},s){const r=n.mapping.maps.length;for(let o=0;o<e.height;){const a=o*e.width+s,l=e.map[a],u=t.nodeAt(l),d=u.attrs;if(s>0&&e.map[a-1]==l||s<e.width-1&&e.map[a+1]==l)n.setNodeMarkup(n.mapping.slice(r).map(i+l),null,Xr(d,s-e.colCount(l)));else{const f=n.mapping.slice(r).map(i+l);n.delete(f,f+u.nodeSize)}o+=d.rowspan}}function lB(n,e){if(!xi(n))return!1;if(e){const t=Wi(n),i=n.tr;if(t.left==0&&t.right==t.map.width)return!1;for(let s=t.right-1;aB(i,t,s),s!=t.left;s--){const r=t.tableStart?i.doc.nodeAt(t.tableStart-1):i.doc;if(!r)throw RangeError("No table found");t.table=r,t.map=At.get(r)}e(i)}return!0}function cB(n,e,t){var i;const s=yn(e.type.schema).header_cell;for(let r=0;r<n.width;r++)if(((i=e.nodeAt(n.map[r+t*n.width]))==null?void 0:i.type)!=s)return!1;return!0}function gk(n,{map:e,tableStart:t,table:i},s){var r;let o=t;for(let u=0;u<s;u++)o+=i.child(u).nodeSize;const a=[];let l=s>0?-1:0;cB(e,i,s+l)&&(l=s==0||s==e.height?null:0);for(let u=0,d=e.width*s;u<e.width;u++,d++)if(s>0&&s<e.height&&e.map[d]==e.map[d-e.width]){const f=e.map[d],p=i.nodeAt(f).attrs;n.setNodeMarkup(t+f,null,$e(ce({},p),{rowspan:p.rowspan+1})),u+=p.colspan-1}else{const f=l==null?yn(i.type.schema).cell:(r=i.nodeAt(e.map[d+l*e.width]))==null?void 0:r.type,p=f==null?void 0:f.createAndFill();p&&a.push(p)}return n.insert(o,yn(i.type.schema).row.create(null,a)),n}function uB(n,e){if(!xi(n))return!1;if(e){const t=Wi(n);e(gk(n.tr,t,t.top))}return!0}function dB(n,e){if(!xi(n))return!1;if(e){const t=Wi(n);e(gk(n.tr,t,t.bottom))}return!0}function hB(n,{map:e,table:t,tableStart:i},s){let r=0;for(let l=0;l<s;l++)r+=t.child(l).nodeSize;const o=r+t.child(s).nodeSize,a=n.mapping.maps.length;n.delete(r+i,o+i);for(let l=0,u=s*e.width;l<e.width;l++,u++){const d=e.map[u];if(s>0&&d==e.map[u-e.width]){const f=t.nodeAt(d).attrs;n.setNodeMarkup(n.mapping.slice(a).map(d+i),null,$e(ce({},f),{rowspan:f.rowspan-1})),l+=f.colspan-1}else if(s<e.width&&d==e.map[u+e.width]){const f=t.nodeAt(d),p=f.attrs,m=f.type.create($e(ce({},p),{rowspan:f.attrs.rowspan-1}),f.content),_=e.positionAt(s+1,l,t);n.insert(n.mapping.slice(a).map(i+_),m),l+=p.colspan-1}}}function fB(n,e){if(!xi(n))return!1;if(e){const t=Wi(n),i=n.tr;if(t.top==0&&t.bottom==t.map.height)return!1;for(let s=t.bottom-1;hB(i,t,s),s!=t.top;s--){const r=t.tableStart?i.doc.nodeAt(t.tableStart-1):i.doc;if(!r)throw RangeError("No table found");t.table=r,t.map=At.get(t.table)}e(i)}return!0}function kv(n){const e=n.content;return e.childCount==1&&e.child(0).isTextblock&&e.child(0).childCount==0}function pB({width:n,height:e,map:t},i){let s=i.top*n+i.left,r=s,o=(i.bottom-1)*n+i.left,a=s+(i.right-i.left-1);for(let l=i.top;l<i.bottom;l++){if(i.left>0&&t[r]==t[r-1]||i.right<n&&t[a]==t[a+1])return!0;r+=n,a+=n}for(let l=i.left;l<i.right;l++){if(i.top>0&&t[s]==t[s-n]||i.bottom<e&&t[o]==t[o+n])return!0;s++,o++}return!1}function Sv(n,e){const t=n.selection;if(!(t instanceof tt)||t.$anchorCell.pos==t.$headCell.pos)return!1;const i=Wi(n),{map:s}=i;if(pB(s,i))return!1;if(e){const r=n.tr,o={};let a=se.empty,l,u;for(let d=i.top;d<i.bottom;d++)for(let f=i.left;f<i.right;f++){const p=s.map[d*s.width+f],m=i.table.nodeAt(p);if(!(o[p]||!m))if(o[p]=!0,l==null)l=p,u=m;else{kv(m)||(a=a.append(m.content));const _=r.mapping.map(p+i.tableStart);r.delete(_,_+m.nodeSize)}}if(l==null||u==null)return!0;if(r.setNodeMarkup(l+i.tableStart,null,$e(ce({},ck(u.attrs,u.attrs.colspan,i.right-i.left-u.attrs.colspan)),{rowspan:i.bottom-i.top})),a.size){const d=l+1+u.content.size,f=kv(u)?l+1:d;r.replaceWith(f+i.tableStart,d+i.tableStart,a)}r.setSelection(new tt(r.doc.resolve(l+i.tableStart))),e(r)}return!0}function Mv(n,e){const t=yn(n.schema);return mB(({node:i})=>t[i.type.spec.tableRole])(n,e)}function mB(n){return(e,t)=>{var i;const s=e.selection;let r,o;if(s instanceof tt){if(s.$anchorCell.pos!=s.$headCell.pos)return!1;r=s.$anchorCell.nodeAfter,o=s.$anchorCell.pos}else{if(r=A9(s.$from),!r)return!1;o=(i=ra(s.$from))==null?void 0:i.pos}if(r==null||o==null||r.attrs.colspan==1&&r.attrs.rowspan==1)return!1;if(t){let a=r.attrs;const l=[],u=a.colwidth;a.rowspan>1&&(a=$e(ce({},a),{rowspan:1})),a.colspan>1&&(a=$e(ce({},a),{colspan:1}));const d=Wi(e),f=e.tr;for(let m=0;m<d.right-d.left;m++)l.push(u?$e(ce({},a),{colwidth:u&&u[m]?[u[m]]:null}):a);let p;for(let m=d.top;m<d.bottom;m++){let _=d.map.positionAt(m,d.left,d.table);m==d.top&&(_+=r.nodeSize);for(let b=d.left,k=0;b<d.right;b++,k++)b==d.left&&m==d.top||f.insert(p=f.mapping.map(_+d.tableStart,1),n({node:r,row:m,col:b}).createAndFill(l[k]))}f.setNodeMarkup(o,n({node:r,row:d.top,col:d.left}),l[0]),s instanceof tt&&f.setSelection(new tt(f.doc.resolve(s.$anchorCell.pos),p?f.doc.resolve(p):void 0)),t(f)}return!0}}function gB(n,e){return function(t,i){if(!xi(t))return!1;const s=Xd(t);if(s.nodeAfter.attrs[n]===e)return!1;if(i){const r=t.tr;t.selection instanceof tt?t.selection.forEachCell((o,a)=>{o.attrs[n]!==e&&r.setNodeMarkup(a,null,$e(ce({},o.attrs),{[n]:e}))}):r.setNodeMarkup(s.pos,null,$e(ce({},s.nodeAfter.attrs),{[n]:e})),i(r)}return!0}}function yB(n){return function(e,t){if(!xi(e))return!1;if(t){const i=yn(e.schema),s=Wi(e),r=e.tr,o=s.map.cellsInRect(n=="column"?{left:s.left,top:0,right:s.right,bottom:s.map.height}:n=="row"?{left:0,top:s.top,right:s.map.width,bottom:s.bottom}:s),a=o.map(l=>s.table.nodeAt(l));for(let l=0;l<o.length;l++)a[l].type==i.header_cell&&r.setNodeMarkup(s.tableStart+o[l],i.cell,a[l].attrs);if(r.steps.length==0)for(let l=0;l<o.length;l++)r.setNodeMarkup(s.tableStart+o[l],i.header_cell,a[l].attrs);t(r)}return!0}}function Cv(n,e,t){const i=e.map.cellsInRect({left:0,top:0,right:n=="row"?e.map.width:1,bottom:n=="column"?e.map.height:1});for(let s=0;s<i.length;s++){const r=e.table.nodeAt(i[s]);if(r&&r.type!==t.header_cell)return!1}return!0}function zl(n,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?yB(n):function(t,i){if(!xi(t))return!1;if(i){const s=yn(t.schema),r=Wi(t),o=t.tr,a=Cv("row",r,s),l=Cv("column",r,s),d=(n==="column"?a:n==="row"?l:!1)?1:0,f=n=="column"?{left:0,top:d,right:1,bottom:r.map.height}:n=="row"?{left:d,top:0,right:r.map.width,bottom:1}:r,p=n=="column"?l?s.cell:s.header_cell:n=="row"?a?s.cell:s.header_cell:s.cell;r.map.cellsInRect(f).forEach(m=>{const _=m+r.tableStart,b=o.doc.nodeAt(_);b&&o.setNodeMarkup(_,p,b.attrs)}),i(o)}return!0}}zl("row",{useDeprecatedLogic:!0});zl("column",{useDeprecatedLogic:!0});var _B=zl("cell",{useDeprecatedLogic:!0});function vB(n,e){if(e<0){const t=n.nodeBefore;if(t)return n.pos-t.nodeSize;for(let i=n.index(-1)-1,s=n.before();i>=0;i--){const r=n.node(-1).child(i),o=r.lastChild;if(o)return s-1-o.nodeSize;s-=r.nodeSize}}else{if(n.index()<n.parent.childCount-1)return n.pos+n.nodeAfter.nodeSize;const t=n.node(-1);for(let i=n.indexAfter(-1),s=n.after();i<t.childCount;i++){const r=t.child(i);if(r.childCount)return s+1;s+=r.nodeSize}}return null}function Tv(n){return function(e,t){if(!xi(e))return!1;const i=vB(Xd(e),n);if(i==null)return!1;if(t){const s=e.doc.resolve(i);t(e.tr.setSelection(Fe.between(s,L9(s))).scrollIntoView())}return!0}}function bB(n,e){const t=n.selection.$anchor;for(let i=t.depth;i>0;i--)if(t.node(i).type.spec.tableRole=="table")return e&&e(n.tr.delete(t.before(i),t.after(i)).scrollIntoView()),!0;return!1}function xB({allowTableNodeSelection:n=!1}={}){return new Bt({key:Rs,state:{init(){return null},apply(e,t){const i=e.getMeta(Rs);if(i!=null)return i==-1?null:i;if(t==null||!e.docChanged)return t;const{deleted:s,pos:r}=e.mapping.mapResult(t);return s?null:r}},props:{decorations:D9,handleDOMEvents:{mousedown:K9},createSelectionBetween(e){return Rs.getState(e.state)!=null?e.state.selection:null},handleTripleClick:U9,handleKeyDown:W9,handlePaste:Z9},appendTransaction(e,t,i){return N9(i,hk(i,t),n)}})}function Pv(n,e,t,i,s,r){let o=0,a=!0,l=e.firstChild;const u=n.firstChild;for(let d=0,f=0;d<u.childCount;d+=1){const{colspan:p,colwidth:m}=u.child(d).attrs;for(let _=0;_<p;_+=1,f+=1){const b=s===f?r:m&&m[_],k=b?`${b}px`:"";o+=b||i,b||(a=!1),l?(l.style.width!==k&&(l.style.width=k),l=l.nextSibling):e.appendChild(document.createElement("col")).style.width=k}}for(;l;){const d=l.nextSibling;l.parentNode.removeChild(l),l=d}a?(t.style.width=`${o}px`,t.style.minWidth=""):(t.style.width="",t.style.minWidth=`${o}px`)}class wB{constructor(e,t){this.node=e,this.cellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),Pv(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!==this.node.type?!1:(this.node=e,Pv(e,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(e){return e.type==="attributes"&&(e.target===this.table||this.colgroup.contains(e.target))}}function Ev(n,e){return n.createAndFill()}function kB(n){if(n.cached.tableNodeTypes)return n.cached.tableNodeTypes;const e={};return Object.keys(n.nodes).forEach(t=>{const i=n.nodes[t];i.spec.tableRole&&(e[i.spec.tableRole]=i)}),n.cached.tableNodeTypes=e,e}function SB(n,e,t,i,s){const r=kB(n),o=[],a=[];for(let u=0;u<t;u+=1){const d=Ev(r.cell);if(d&&a.push(d),i){const f=Ev(r.header_cell);f&&o.push(f)}}const l=[];for(let u=0;u<e;u+=1)l.push(r.row.createChecked(null,i&&u===0?o:a));return r.table.createChecked(null,l)}function MB(n){return n instanceof tt}const Kc=({editor:n})=>{const{selection:e}=n.state;if(!MB(e))return!1;let t=0;const i=ek(e.ranges[0].$from,r=>r.type.name==="table");return i==null||i.node.descendants(r=>{if(r.type.name==="table")return!1;["tableCell","tableHeader"].includes(r.type.name)&&(t+=1)}),t===e.ranges.length?(n.commands.deleteTable(),!0):!1},iH=Pt.create({name:"table",addOptions(){return{HTMLAttributes:{},resizable:!1,handleWidth:5,cellMinWidth:25,View:wB,lastColumnResizable:!0,allowTableNodeSelection:!1}},content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({HTMLAttributes:n}){return["table",ct(this.options.HTMLAttributes,n),["tbody",0]]},addCommands(){return{insertTable:({rows:n=3,cols:e=3,withHeaderRow:t=!0}={})=>({tr:i,dispatch:s,editor:r})=>{const o=SB(r.schema,n,e,t);if(s){const a=i.selection.anchor+1;i.replaceSelectionWith(o).scrollIntoView().setSelection(Fe.near(i.doc.resolve(a)))}return!0},addColumnBefore:()=>({state:n,dispatch:e})=>rB(n,e),addColumnAfter:()=>({state:n,dispatch:e})=>oB(n,e),deleteColumn:()=>({state:n,dispatch:e})=>lB(n,e),addRowBefore:()=>({state:n,dispatch:e})=>uB(n,e),addRowAfter:()=>({state:n,dispatch:e})=>dB(n,e),deleteRow:()=>({state:n,dispatch:e})=>fB(n,e),deleteTable:()=>({state:n,dispatch:e})=>bB(n,e),mergeCells:()=>({state:n,dispatch:e})=>Sv(n,e),splitCell:()=>({state:n,dispatch:e})=>Mv(n,e),toggleHeaderColumn:()=>({state:n,dispatch:e})=>zl("column")(n,e),toggleHeaderRow:()=>({state:n,dispatch:e})=>zl("row")(n,e),toggleHeaderCell:()=>({state:n,dispatch:e})=>_B(n,e),mergeOrSplit:()=>({state:n,dispatch:e})=>Sv(n,e)?!0:Mv(n,e),setCellAttribute:(n,e)=>({state:t,dispatch:i})=>gB(n,e)(t,i),goToNextCell:()=>({state:n,dispatch:e})=>Tv(1)(n,e),goToPreviousCell:()=>({state:n,dispatch:e})=>Tv(-1)(n,e),fixTables:()=>({state:n,dispatch:e})=>(e&&hk(n),!0),setCellSelection:n=>({tr:e,dispatch:t})=>{if(t){const i=tt.create(e.doc,n.anchorCell,n.headCell);e.setSelection(i)}return!0}}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.goToNextCell()?!0:this.editor.can().addRowAfter()?this.editor.chain().addRowAfter().goToNextCell().run():!1,"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:Kc,"Mod-Backspace":Kc,Delete:Kc,"Mod-Delete":Kc}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[G9({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],xB({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(n){const e={name:n.name,options:n.options,storage:n.storage};return{tableRole:Ue(Me(n,"tableRole",e))}}}),sH=Pt.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:n=>{const e=n.getAttribute("colwidth");return e?[parseInt(e,10)]:null}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:n}){return["td",ct(this.options.HTMLAttributes,n),0]}}),rH=Pt.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:n=>{const e=n.getAttribute("colwidth");return e?[parseInt(e,10)]:null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:n}){return["th",ct(this.options.HTMLAttributes,n),0]}}),oH=Pt.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:n}){return["tr",ct(this.options.HTMLAttributes,n),0]}}),Av=n=>new Promise(e=>{let t=new FileReader;t.onloadend=()=>{e(t.result)},t.readAsDataURL(n)}),CB=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,aH=Pt.create({name:"image",addOptions(){return{inline:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:"img[src]"}]},renderHTML({HTMLAttributes:n}){return["img",ct(this.options.HTMLAttributes,n)]},addCommands(){return{setImage:n=>({commands:e})=>e.insertContent({type:this.name,attrs:n})}},addInputRules(){return[nk({find:CB,type:this.type,getAttributes:n=>{const[,,e,t,i]=n;return{src:t,alt:e,title:i}}})]},addProseMirrorPlugins(){return[TB()]}}),TB=()=>new Bt({props:{handlePaste(n,e,t){var r;const i=Array.from(((r=e.clipboardData)==null?void 0:r.items)||[]),{schema:s}=n.state;return i.forEach(o=>{const a=o.getAsFile();a&&o.type.indexOf("image")===0&&(e.preventDefault(),Av(a).then(l=>{const u=s.nodes.image.create({src:l}),d=n.state.tr.replaceSelectionWith(u);n.dispatch(d)}))}),!1},handleDOMEvents:{drop:(n,e)=>{var o,a;if(!(e.dataTransfer&&e.dataTransfer.files&&e.dataTransfer.files.length))return!1;const i=Array.from((a=(o=e.dataTransfer)==null?void 0:o.files)!=null?a:[]).filter(l=>/image/i.test(l.type));if(i.length===0)return!1;e.preventDefault();const{schema:s}=n.state,r=n.posAtCoords({left:e.clientX,top:e.clientY});return r?(i.forEach(l=>Ke(void 0,null,function*(){Av(l).then(u=>{const d=s.nodes.image.create({src:u}),f=n.state.tr.insert(r.pos,d);n.dispatch(f)})})),!0):!1}}}}),lH=Pt.create({name:"video",group:"block",selectable:!0,draggable:!0,atom:!0,addAttributes(){return{src:{default:null}}},parseHTML(){return[{tag:"video"}]},renderHTML({HTMLAttributes:n}){return["video",ct(n)]},addNodeView(){return({editor:n,node:e})=>{const t=document.createElement("div");t.className="relative aspect-w-16 aspect-h-9"+(n.isEditable?" cursor-pointer":"");const i=document.createElement("video");if(n.isEditable&&(i.className="pointer-events-none"),i.src=e.attrs.src,!n.isEditable)i.setAttribute("controls","");else{let s=document.createElement("div");s.className="absolute top-0 right-0 text-xs m-2 bg-gray-800 text-white px-2 py-1 rounded-md",s.innerHTML="Video",t.append(s)}return t.append(i),{dom:t}}}}),PB="aaa1rp3barth4b0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0faromeo7ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4vianca6w0s2x0a2z0ure5ba0by2idu3namex3narepublic11d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re2s2c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y0eats7k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking0channel11l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t0isalat7u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0at2delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d0network8tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntdoor4ier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5gtv3iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0eles2s3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1nder2le4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster5ia3d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4de2k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0cys3drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7serati6ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic3tual5v1w1x1y1z2na0b1goya4me2tura4vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rthwesternmutual14on4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9dnavy5lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3ssagens7y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cher3ks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp2w2ell3ia1ksha5oes2p0ping5uji3w0time7i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ffany5ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0channel7ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lkswagen7vo3te1ing3o2yage5u0elos6wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",EB="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5تصالات6رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",ta=(n,e)=>{for(const t in e)n[t]=e[t];return n},Xp="numeric",Qp="ascii",em="alpha",ku="asciinumeric",qc="alphanumeric",tm="domain",yk="emoji",AB="scheme",OB="slashscheme",Ov="whitespace";function LB(n,e){return n in e||(e[n]=[]),e[n]}function Lr(n,e,t){e[Xp]&&(e[ku]=!0,e[qc]=!0),e[Qp]&&(e[ku]=!0,e[em]=!0),e[ku]&&(e[qc]=!0),e[em]&&(e[qc]=!0),e[qc]&&(e[tm]=!0),e[yk]&&(e[tm]=!0);for(const i in e){const s=LB(i,t);s.indexOf(n)<0&&s.push(n)}}function RB(n,e){const t={};for(const i in e)e[i].indexOf(n)>=0&&(t[i]=!0);return t}function On(n){n===void 0&&(n=null),this.j={},this.jr=[],this.jd=null,this.t=n}On.groups={};On.prototype={accepts(){return!!this.t},go(n){const e=this,t=e.j[n];if(t)return t;for(let i=0;i<e.jr.length;i++){const s=e.jr[i][0],r=e.jr[i][1];if(r&&s.test(n))return r}return e.jd},has(n,e){return e===void 0&&(e=!1),e?n in this.j:!!this.go(n)},ta(n,e,t,i){for(let s=0;s<n.length;s++)this.tt(n[s],e,t,i)},tr(n,e,t,i){i=i||On.groups;let s;return e&&e.j?s=e:(s=new On(e),t&&i&&Lr(e,t,i)),this.jr.push([n,s]),s},ts(n,e,t,i){let s=this;const r=n.length;if(!r)return s;for(let o=0;o<r-1;o++)s=s.tt(n[o]);return s.tt(n[r-1],e,t,i)},tt(n,e,t,i){i=i||On.groups;const s=this;if(e&&e.j)return s.j[n]=e,e;const r=e;let o,a=s.go(n);if(a?(o=new On,ta(o.j,a.j),o.jr.push.apply(o.jr,a.jr),o.jd=a.jd,o.t=a.t):o=new On,r){if(i)if(o.t&&typeof o.t=="string"){const l=ta(RB(o.t,i),t);Lr(r,l,i)}else t&&Lr(r,t,i);o.t=r}return s.j[n]=o,o}};const Oe=(n,e,t,i,s)=>n.ta(e,t,i,s),Gn=(n,e,t,i,s)=>n.tr(e,t,i,s),Lv=(n,e,t,i,s)=>n.ts(e,t,i,s),de=(n,e,t,i,s)=>n.tt(e,t,i,s),ts="WORD",nm="UWORD",Bl="LOCALHOST",im="TLD",sm="UTLD",Su="SCHEME",bo="SLASH_SCHEME",kg="NUM",_k="WS",Sg="NL",Mo="OPENBRACE",dl="OPENBRACKET",hl="OPENANGLEBRACKET",fl="OPENPAREN",Pr="CLOSEBRACE",Co="CLOSEBRACKET",To="CLOSEANGLEBRACKET",Er="CLOSEPAREN",sd="AMPERSAND",rd="APOSTROPHE",od="ASTERISK",Os="AT",ad="BACKSLASH",ld="BACKTICK",cd="CARET",Ds="COLON",Mg="COMMA",ud="DOLLAR",Oi="DOT",dd="EQUALS",Cg="EXCLAMATION",Li="HYPHEN",hd="PERCENT",fd="PIPE",pd="PLUS",md="POUND",gd="QUERY",Tg="QUOTE",Pg="SEMI",Ri="SLASH",pl="TILDE",yd="UNDERSCORE",vk="EMOJI",_d="SYM";var bk=Object.freeze({__proto__:null,WORD:ts,UWORD:nm,LOCALHOST:Bl,TLD:im,UTLD:sm,SCHEME:Su,SLASH_SCHEME:bo,NUM:kg,WS:_k,NL:Sg,OPENBRACE:Mo,OPENBRACKET:dl,OPENANGLEBRACKET:hl,OPENPAREN:fl,CLOSEBRACE:Pr,CLOSEBRACKET:Co,CLOSEANGLEBRACKET:To,CLOSEPAREN:Er,AMPERSAND:sd,APOSTROPHE:rd,ASTERISK:od,AT:Os,BACKSLASH:ad,BACKTICK:ld,CARET:cd,COLON:Ds,COMMA:Mg,DOLLAR:ud,DOT:Oi,EQUALS:dd,EXCLAMATION:Cg,HYPHEN:Li,PERCENT:hd,PIPE:fd,PLUS:pd,POUND:md,QUERY:gd,QUOTE:Tg,SEMI:Pg,SLASH:Ri,TILDE:pl,UNDERSCORE:yd,EMOJI:vk,SYM:_d});const mo=/[a-z]/,zf=new RegExp("\\p{L}","u"),Bf=new RegExp("\\p{Emoji}","u"),Ff=/\d/,Rv=/\s/,Dv=`
`,DB="️",IB="‍";let Gc=null,Jc=null;function jB(n){n===void 0&&(n=[]);const e={};On.groups=e;const t=new On;Gc==null&&(Gc=Iv(PB)),Jc==null&&(Jc=Iv(EB)),de(t,"'",rd),de(t,"{",Mo),de(t,"[",dl),de(t,"<",hl),de(t,"(",fl),de(t,"}",Pr),de(t,"]",Co),de(t,">",To),de(t,")",Er),de(t,"&",sd),de(t,"*",od),de(t,"@",Os),de(t,"`",ld),de(t,"^",cd),de(t,":",Ds),de(t,",",Mg),de(t,"$",ud),de(t,".",Oi),de(t,"=",dd),de(t,"!",Cg),de(t,"-",Li),de(t,"%",hd),de(t,"|",fd),de(t,"+",pd),de(t,"#",md),de(t,"?",gd),de(t,'"',Tg),de(t,"/",Ri),de(t,";",Pg),de(t,"~",pl),de(t,"_",yd),de(t,"\\",ad);const i=Gn(t,Ff,kg,{[Xp]:!0});Gn(i,Ff,i);const s=Gn(t,mo,ts,{[Qp]:!0});Gn(s,mo,s);const r=Gn(t,zf,nm,{[em]:!0});Gn(r,mo),Gn(r,zf,r);const o=Gn(t,Rv,_k,{[Ov]:!0});de(t,Dv,Sg,{[Ov]:!0}),de(o,Dv),Gn(o,Rv,o);const a=Gn(t,Bf,vk,{[yk]:!0});Gn(a,Bf,a),de(a,DB,a);const l=de(a,IB);Gn(l,Bf,a);const u=[[mo,s]],d=[[mo,null],[zf,r]];for(let f=0;f<Gc.length;f++)Ss(t,Gc[f],im,ts,u);for(let f=0;f<Jc.length;f++)Ss(t,Jc[f],sm,nm,d);Lr(im,{tld:!0,ascii:!0},e),Lr(sm,{utld:!0,alpha:!0},e),Ss(t,"file",Su,ts,u),Ss(t,"mailto",Su,ts,u),Ss(t,"http",bo,ts,u),Ss(t,"https",bo,ts,u),Ss(t,"ftp",bo,ts,u),Ss(t,"ftps",bo,ts,u),Lr(Su,{scheme:!0,ascii:!0},e),Lr(bo,{slashscheme:!0,ascii:!0},e),n=n.sort((f,p)=>f[0]>p[0]?1:-1);for(let f=0;f<n.length;f++){const p=n[f][0],_=n[f][1]?{[AB]:!0}:{[OB]:!0};p.indexOf("-")>=0?_[tm]=!0:mo.test(p)?Ff.test(p)?_[ku]=!0:_[Qp]=!0:_[Xp]=!0,Lv(t,p,p,_)}return Lv(t,"localhost",Bl,{ascii:!0}),t.jd=new On(_d),{start:t,tokens:ta({groups:e},bk)}}function NB(n,e){const t=zB(e.replace(/[A-Z]/g,a=>a.toLowerCase())),i=t.length,s=[];let r=0,o=0;for(;o<i;){let a=n,l=null,u=0,d=null,f=-1,p=-1;for(;o<i&&(l=a.go(t[o]));)a=l,a.accepts()?(f=0,p=0,d=a):f>=0&&(f+=t[o].length,p++),u+=t[o].length,r+=t[o].length,o++;r-=f,o-=p,u-=f,s.push({t:d.t,v:e.slice(r-u,r),s:r-u,e:r})}return s}function zB(n){const e=[],t=n.length;let i=0;for(;i<t;){let s=n.charCodeAt(i),r,o=s<55296||s>56319||i+1===t||(r=n.charCodeAt(i+1))<56320||r>57343?n[i]:n.slice(i,i+2);e.push(o),i+=o.length}return e}function Ss(n,e,t,i,s){let r;const o=e.length;for(let a=0;a<o-1;a++){const l=e[a];n.j[l]?r=n.j[l]:(r=new On(i),r.jr=s.slice(),n.j[l]=r),n=r}return r=new On(t),r.jr=s.slice(),n.j[e[o-1]]=r,r}function Iv(n){const e=[],t=[];let i=0,s="0123456789";for(;i<n.length;){let r=0;for(;s.indexOf(n[i+r])>=0;)r++;if(r>0){e.push(t.join(""));for(let o=parseInt(n.substring(i,i+r),10);o>0;o--)t.pop();i+=r}else t.push(n[i]),i++}return e}const Fl={defaultProtocol:"http",events:null,format:jv,formatHref:jv,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Eg(n,e){e===void 0&&(e=null);let t=ta({},Fl);n&&(t=ta(t,n instanceof Eg?n.o:n));const i=t.ignoreTags,s=[];for(let r=0;r<i.length;r++)s.push(i[r].toUpperCase());this.o=t,e&&(this.defaultRender=e),this.ignoreTags=s}Eg.prototype={o:Fl,ignoreTags:[],defaultRender(n){return n},check(n){return this.get("validate",n.toString(),n)},get(n,e,t){const i=e!=null;let s=this.o[n];return s&&(typeof s=="object"?(s=t.t in s?s[t.t]:Fl[n],typeof s=="function"&&i&&(s=s(e,t))):typeof s=="function"&&i&&(s=s(e,t.t,t)),s)},getObj(n,e,t){let i=this.o[n];return typeof i=="function"&&e!=null&&(i=i(e,t.t,t)),i},render(n){const e=n.render(this);return(this.get("render",null,n)||this.defaultRender)(e,n.t,n)}};function jv(n){return n}function xk(n,e){this.t="token",this.v=n,this.tk=e}xk.prototype={isLink:!1,toString(){return this.v},toHref(n){return this.toString()},toFormattedString(n){const e=this.toString(),t=n.get("truncate",e,this),i=n.get("format",e,this);return t&&i.length>t?i.substring(0,t)+"…":i},toFormattedHref(n){return n.get("formatHref",this.toHref(n.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(n){return n===void 0&&(n=Fl.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(n),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(n){return{type:this.t,value:this.toFormattedString(n),isLink:this.isLink,href:this.toFormattedHref(n),start:this.startIndex(),end:this.endIndex()}},validate(n){return n.get("validate",this.toString(),this)},render(n){const e=this,t=this.toHref(n.get("defaultProtocol")),i=n.get("formatHref",t,this),s=n.get("tagName",t,e),r=this.toFormattedString(n),o={},a=n.get("className",t,e),l=n.get("target",t,e),u=n.get("rel",t,e),d=n.getObj("attributes",t,e),f=n.getObj("events",t,e);return o.href=i,a&&(o.class=a),l&&(o.target=l),u&&(o.rel=u),d&&ta(o,d),{tagName:s,attributes:o,content:r,eventListeners:f}}};function Qd(n,e){class t extends xk{constructor(s,r){super(s,r),this.t=n}}for(const i in e)t.prototype[i]=e[i];return t.t=n,t}const Nv=Qd("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),zv=Qd("text"),BB=Qd("nl"),xr=Qd("url",{isLink:!0,toHref(n){return n===void 0&&(n=Fl.defaultProtocol),this.hasProtocol()?this.v:`${n}://${this.v}`},hasProtocol(){const n=this.tk;return n.length>=2&&n[0].t!==Bl&&n[1].t===Ds}}),Zt=n=>new On(n);function FB(n){let{groups:e}=n;const t=e.domain.concat([sd,od,Os,ad,ld,cd,ud,dd,Li,kg,hd,fd,pd,md,Ri,_d,pl,yd]),i=[rd,To,Pr,Co,Er,Ds,Mg,Oi,Cg,hl,Mo,dl,fl,gd,Tg,Pg],s=[sd,rd,od,ad,ld,cd,Pr,ud,dd,Li,Mo,hd,fd,pd,md,gd,Ri,_d,pl,yd],r=Zt(),o=de(r,pl);Oe(o,s,o),Oe(o,e.domain,o);const a=Zt(),l=Zt(),u=Zt();Oe(r,e.domain,a),Oe(r,e.scheme,l),Oe(r,e.slashscheme,u),Oe(a,s,o),Oe(a,e.domain,a);const d=de(a,Os);de(o,Os,d),de(l,Os,d),de(u,Os,d);const f=de(o,Oi);Oe(f,s,o),Oe(f,e.domain,o);const p=Zt();Oe(d,e.domain,p),Oe(p,e.domain,p);const m=de(p,Oi);Oe(m,e.domain,p);const _=Zt(Nv);Oe(m,e.tld,_),Oe(m,e.utld,_),de(d,Bl,_);const b=de(p,Li);Oe(b,e.domain,p),Oe(_,e.domain,p),de(_,Oi,m),de(_,Li,b);const k=de(_,Ds);Oe(k,e.numeric,Nv);const M=de(a,Li),E=de(a,Oi);Oe(M,e.domain,a),Oe(E,s,o),Oe(E,e.domain,a);const A=Zt(xr);Oe(E,e.tld,A),Oe(E,e.utld,A),Oe(A,e.domain,a),Oe(A,s,o),de(A,Oi,E),de(A,Li,M),de(A,Os,d);const g=de(A,Ds),w=Zt(xr);Oe(g,e.numeric,w);const v=Zt(xr),S=Zt();Oe(v,t,v),Oe(v,i,S),Oe(S,t,v),Oe(S,i,S),de(A,Ri,v),de(w,Ri,v);const T=de(l,Ds),O=de(u,Ds),I=de(O,Ri),N=de(I,Ri);Oe(l,e.domain,a),de(l,Oi,E),de(l,Li,M),Oe(u,e.domain,a),de(u,Oi,E),de(u,Li,M),Oe(T,e.domain,v),de(T,Ri,v),Oe(N,e.domain,v),Oe(N,t,v),de(N,Ri,v);const B=de(v,Mo),V=de(v,dl),W=de(v,hl),Z=de(v,fl);de(S,Mo,B),de(S,dl,V),de(S,hl,W),de(S,fl,Z),de(B,Pr,v),de(V,Co,v),de(W,To,v),de(Z,Er,v),de(B,Pr,v);const R=Zt(xr),z=Zt(xr),H=Zt(xr),ee=Zt(xr);Oe(B,t,R),Oe(V,t,z),Oe(W,t,H),Oe(Z,t,ee);const G=Zt(),te=Zt(),we=Zt(),Te=Zt();return Oe(B,i),Oe(V,i),Oe(W,i),Oe(Z,i),Oe(R,t,R),Oe(z,t,z),Oe(H,t,H),Oe(ee,t,ee),Oe(R,i,R),Oe(z,i,z),Oe(H,i,H),Oe(ee,i,ee),Oe(G,t,G),Oe(te,t,z),Oe(we,t,H),Oe(Te,t,ee),Oe(G,i,G),Oe(te,i,te),Oe(we,i,we),Oe(Te,i,Te),de(z,Co,v),de(H,To,v),de(ee,Er,v),de(R,Pr,v),de(te,Co,v),de(we,To,v),de(Te,Er,v),de(G,Er,v),de(r,Bl,A),de(r,Sg,BB),{start:r,tokens:bk}}function $B(n,e,t){let i=t.length,s=0,r=[],o=[];for(;s<i;){let a=n,l=null,u=null,d=0,f=null,p=-1;for(;s<i&&!(l=a.go(t[s].t));)o.push(t[s++]);for(;s<i&&(u=l||a.go(t[s].t));)l=null,a=u,a.accepts()?(p=0,f=a):p>=0&&p++,s++,d++;if(p<0)s-=d,s<i&&(o.push(t[s]),s++);else{o.length>0&&(r.push($f(zv,e,o)),o=[]),s-=p,d-=p;const m=f.t,_=t.slice(s-d,s);r.push($f(m,e,_))}}return o.length>0&&r.push($f(zv,e,o)),r}function $f(n,e,t){const i=t[0].s,s=t[t.length-1].e,r=e.slice(i,s);return new n(r,t)}const HB=typeof console!="undefined"&&console&&console.warn||(()=>{}),VB="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Ct={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function WB(){On.groups={},Ct.scanner=null,Ct.parser=null,Ct.tokenQueue=[],Ct.pluginQueue=[],Ct.customSchemes=[],Ct.initialized=!1}function Bv(n,e){if(e===void 0&&(e=!1),Ct.initialized&&HB(`linkifyjs: already initialized - will not register custom scheme "${n}" ${VB}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(n))throw new Error(`linkifyjs: incorrect scheme format.
 1. Must only contain digits, lowercase ASCII letters or "-"
 2. Cannot start or end with "-"
 3. "-" cannot repeat`);Ct.customSchemes.push([n,e])}function UB(){Ct.scanner=jB(Ct.customSchemes);for(let n=0;n<Ct.tokenQueue.length;n++)Ct.tokenQueue[n][1]({scanner:Ct.scanner});Ct.parser=FB(Ct.scanner.tokens);for(let n=0;n<Ct.pluginQueue.length;n++)Ct.pluginQueue[n][1]({scanner:Ct.scanner,parser:Ct.parser});Ct.initialized=!0}function ZB(n){return Ct.initialized||UB(),$B(Ct.parser.start,n,NB(Ct.scanner.start,n))}function rm(n,e,t){if(e===void 0&&(e=null),t===void 0&&(t=null),e&&typeof e=="object"){if(t)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);t=e,e=null}const i=new Eg(t),s=ZB(n),r=[];for(let o=0;o<s.length;o++){const a=s[o];a.isLink&&(!e||a.t===e)&&r.push(a.toFormattedObject(i))}return r}function KB(n){return new Bt({key:new rn("autolink"),appendTransaction:(e,t,i)=>{const s=e.some(u=>u.docChanged)&&!t.doc.eq(i.doc),r=e.some(u=>u.getMeta("preventAutolink"));if(!s||r)return;const{tr:o}=i,a=H7(t.doc,[...e]);if(J7(a).forEach(({newRange:u})=>{const d=W7(i.doc,u,m=>m.isTextblock);let f,p;if(d.length>1?(f=d[0],p=i.doc.textBetween(f.pos,f.pos+f.node.nodeSize,void 0," ")):d.length&&i.doc.textBetween(u.from,u.to," "," ").endsWith(" ")&&(f=d[0],p=i.doc.textBetween(f.pos,u.to,void 0," ")),f&&p){const m=p.split(" ").filter(k=>k!=="");if(m.length<=0)return!1;const _=m[m.length-1],b=f.pos+p.lastIndexOf(_);if(!_)return!1;rm(_).filter(k=>k.isLink).map(k=>$e(ce({},k),{from:b+k.start+1,to:b+k.end+1})).filter(k=>i.schema.marks.code?!i.doc.rangeHasMark(k.from,k.to,i.schema.marks.code):!0).filter(k=>n.validate?n.validate(k.value):!0).forEach(k=>{bg(k.from,k.to,i.doc).some(M=>M.mark.type===n.type)||o.addMark(k.from,k.to,n.type.create({href:k.href}))})}}),!!o.steps.length)return o}})}function qB(n){return new Bt({key:new rn("handleClickLink"),props:{handleClick:(e,t,i)=>{var s,r;if(i.button!==0||i.target.nodeName!=="A")return!1;const a=tk(e.state,n.type.name),l=i.target,u=(s=l==null?void 0:l.href)!==null&&s!==void 0?s:a.href,d=(r=l==null?void 0:l.target)!==null&&r!==void 0?r:a.target;return l&&u?(e.editable&&window.open(u,d),!0):!1}}})}function GB(n){return new Bt({key:new rn("handlePasteLink"),props:{handlePaste:(e,t,i)=>{var s,r;const{state:o}=e,{selection:a}=o;if(o.doc.resolve(a.from).parent.type.spec.code)return!1;let l="";i.content.forEach(E=>{l+=E.textContent});let u=!1;if(i.content.descendants(E=>{E.marks.some(A=>A.type.name===n.type.name)&&(u=!0)}),u)return;const d=rm(l).find(E=>E.isLink&&E.value===l);if(!a.empty&&n.linkOnPaste){const E=(d==null?void 0:d.href)||null;if(E)return n.editor.commands.setMark(n.type,{href:E}),!0}const f=((s=i.content.firstChild)===null||s===void 0?void 0:s.type.name)==="text",p=(r=i.content.firstChild)===null||r===void 0?void 0:r.marks.some(E=>E.type.name===n.type.name);if(f&&p||!n.linkOnPaste)return!1;if(d&&a.empty)return n.editor.commands.insertContent(`<a href="${d.href}">${d.href}</a>`),!0;const{tr:m}=o;let _=!1;a.empty||(_=!0,m.delete(a.from,a.to));let b=a.from,k=[];i.content.forEach(E=>{k=rm(E.textContent),m.insert(b-1,E),k.length>0&&(_=!1,k.forEach(A=>{const g=b+A.start,w=b+A.end;m.doc.rangeHasMark(g,w,n.type)||m.addMark(g,w,n.type.create({href:A.href}))})),b+=E.nodeSize});const M=k.length>0;return m.docChanged&&!_&&M?(n.editor.view.dispatch(m),!0):!1}}})}const cH=Hn.create({name:"link",priority:1e3,keepOnSplit:!1,onCreate(){this.options.protocols.forEach(n=>{if(typeof n=="string"){Bv(n);return}Bv(n.scheme,n.optionalSlashes)})},onDestroy(){WB()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},validate:void 0}},addAttributes(){return{href:{default:null},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:'a[href]:not([href *= "javascript:" i])'}]},renderHTML({HTMLAttributes:n}){return["a",ct(this.options.HTMLAttributes,n),0]},addCommands(){return{setLink:n=>({chain:e})=>e().setMark(this.name,n).setMeta("preventAutolink",!0).run(),toggleLink:n=>({chain:e})=>e().toggleMark(this.name,n,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:n})=>n().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addProseMirrorPlugins(){const n=[];return this.options.autolink&&n.push(KB({type:this.type,validate:this.options.validate})),this.options.openOnClick&&n.push(qB({type:this.type})),n.push(GB({editor:this.editor,type:this.type,linkOnPaste:this.options.linkOnPaste})),n}}),JB=n=>Lt({find:/--$/,replace:n!=null?n:"—"}),YB=n=>Lt({find:/\.\.\.$/,replace:n!=null?n:"…"}),XB=n=>Lt({find:/(?:^|[\s{[(<'"\u2018\u201C])(")$/,replace:n!=null?n:"“"}),QB=n=>Lt({find:/"$/,replace:n!=null?n:"”"}),eF=n=>Lt({find:/(?:^|[\s{[(<'"\u2018\u201C])(')$/,replace:n!=null?n:"‘"}),tF=n=>Lt({find:/'$/,replace:n!=null?n:"’"}),nF=n=>Lt({find:/<-$/,replace:n!=null?n:"←"}),iF=n=>Lt({find:/->$/,replace:n!=null?n:"→"}),sF=n=>Lt({find:/\(c\)$/,replace:n!=null?n:"©"}),rF=n=>Lt({find:/\(tm\)$/,replace:n!=null?n:"™"}),oF=n=>Lt({find:/\(sm\)$/,replace:n!=null?n:"℠"}),aF=n=>Lt({find:/\(r\)$/,replace:n!=null?n:"®"}),lF=n=>Lt({find:/(?:^|\s)(1\/2)$/,replace:n!=null?n:"½"}),cF=n=>Lt({find:/\+\/-$/,replace:n!=null?n:"±"}),uF=n=>Lt({find:/!=$/,replace:n!=null?n:"≠"}),dF=n=>Lt({find:/<<$/,replace:n!=null?n:"«"}),hF=n=>Lt({find:/>>$/,replace:n!=null?n:"»"}),fF=n=>Lt({find:/\d+\s?([*x])\s?\d+$/,replace:n!=null?n:"×"}),pF=n=>Lt({find:/\^2$/,replace:n!=null?n:"²"}),mF=n=>Lt({find:/\^3$/,replace:n!=null?n:"³"}),gF=n=>Lt({find:/(?:^|\s)(1\/4)$/,replace:n!=null?n:"¼"}),yF=n=>Lt({find:/(?:^|\s)(3\/4)$/,replace:n!=null?n:"¾"}),uH=sn.create({name:"typography",addInputRules(){const n=[];return this.options.emDash!==!1&&n.push(JB(this.options.emDash)),this.options.ellipsis!==!1&&n.push(YB(this.options.ellipsis)),this.options.openDoubleQuote!==!1&&n.push(XB(this.options.openDoubleQuote)),this.options.closeDoubleQuote!==!1&&n.push(QB(this.options.closeDoubleQuote)),this.options.openSingleQuote!==!1&&n.push(eF(this.options.openSingleQuote)),this.options.closeSingleQuote!==!1&&n.push(tF(this.options.closeSingleQuote)),this.options.leftArrow!==!1&&n.push(nF(this.options.leftArrow)),this.options.rightArrow!==!1&&n.push(iF(this.options.rightArrow)),this.options.copyright!==!1&&n.push(sF(this.options.copyright)),this.options.trademark!==!1&&n.push(rF(this.options.trademark)),this.options.servicemark!==!1&&n.push(oF(this.options.servicemark)),this.options.registeredTrademark!==!1&&n.push(aF(this.options.registeredTrademark)),this.options.oneHalf!==!1&&n.push(lF(this.options.oneHalf)),this.options.plusMinus!==!1&&n.push(cF(this.options.plusMinus)),this.options.notEqual!==!1&&n.push(uF(this.options.notEqual)),this.options.laquo!==!1&&n.push(dF(this.options.laquo)),this.options.raquo!==!1&&n.push(hF(this.options.raquo)),this.options.multiplication!==!1&&n.push(fF(this.options.multiplication)),this.options.superscriptTwo!==!1&&n.push(pF(this.options.superscriptTwo)),this.options.superscriptThree!==!1&&n.push(mF(this.options.superscriptThree)),this.options.oneQuarter!==!1&&n.push(gF(this.options.oneQuarter)),this.options.threeQuarters!==!1&&n.push(yF(this.options.threeQuarters)),n}}),dH=Hn.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:n=>n.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["span",ct(this.options.HTMLAttributes,n),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:n,commands:e})=>{const t=Ql(n,this.type);return Object.entries(t).some(([,s])=>!!s)?!0:e.unsetMark(this.name)}}}}),_F=/(?:^|\s)((?:==)((?:[^~=]+))(?:==))$/,vF=/(?:^|\s)((?:==)((?:[^~=]+))(?:==))/g,hH=Hn.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:n=>n.getAttribute("data-color")||n.style.backgroundColor,renderHTML:n=>n.color?{"data-color":n.color,style:`background-color: ${n.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:n}){return["mark",ct(this.options.HTMLAttributes,n),0]},addCommands(){return{setHighlight:n=>({commands:e})=>e.setMark(this.name,n),toggleHighlight:n=>({commands:e})=>e.toggleMark(this.name,n),unsetHighlight:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[Jr({find:_F,type:this.type})]},addPasteRules(){return[Yr({find:vF,type:this.type})]}}),fH=sn.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:n=>{var e;return(e=n.style.color)===null||e===void 0?void 0:e.replace(/['"]+/g,"")},renderHTML:n=>n.color?{style:`color: ${n.color}`}:{}}}}]},addCommands(){return{setColor:n=>({chain:e})=>e().setMark("textStyle",{color:n}).run(),unsetColor:()=>({chain:n})=>n().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}});function bF(n){var e;const{char:t,allowSpaces:i,allowedPrefixes:s,startOfLine:r,$position:o}=n,a=Tz(t),l=new RegExp(`\\s${a}$`),u=r?"^":"",d=i?new RegExp(`${u}${a}.*?(?=\\s${a}|$)`,"gm"):new RegExp(`${u}(?:^)?${a}[^\\s${a}]*`,"gm"),f=((e=o.nodeBefore)===null||e===void 0?void 0:e.isText)&&o.nodeBefore.text;if(!f)return null;const p=o.pos-f.length,m=Array.from(f.matchAll(d)).pop();if(!m||m.input===void 0||m.index===void 0)return null;const _=m.input.slice(Math.max(0,m.index-1),m.index),b=new RegExp(`^[${s==null?void 0:s.join("")}\0]?$`).test(_);if(s!==null&&!b)return null;const k=p+m.index;let M=k+m[0].length;return i&&l.test(f.slice(M-1,M+1))&&(m[0]+=" ",M+=1),k<o.pos&&M>=o.pos?{range:{from:k,to:M},query:m[0].slice(t.length),text:m[0]}:null}const xF=new rn("suggestion");function wF({pluginKey:n=xF,editor:e,char:t="@",allowSpaces:i=!1,allowedPrefixes:s=[" "],startOfLine:r=!1,decorationTag:o="span",decorationClass:a="suggestion",command:l=()=>null,items:u=()=>[],render:d=()=>({}),allow:f=()=>!0}){let p;const m=d==null?void 0:d(),_=new Bt({key:n,view(){return{update:(b,k)=>Ke(this,null,function*(){var M,E,A,g,w,v,S;const T=(M=this.key)===null||M===void 0?void 0:M.getState(k),O=(E=this.key)===null||E===void 0?void 0:E.getState(b.state),I=T.active&&O.active&&T.range.from!==O.range.from,N=!T.active&&O.active,B=T.active&&!O.active,V=!N&&!B&&T.query!==O.query,W=N||I,Z=V&&!I,R=B||I;if(!W&&!Z&&!R)return;const z=R&&!W?T:O,H=b.dom.querySelector(`[data-decoration-id="${z.decorationId}"]`);p={editor:e,range:z.range,query:z.query,text:z.text,items:[],command:ee=>{l({editor:e,range:z.range,props:ee})},decorationNode:H,clientRect:H?()=>{var ee;const{decorationId:G}=(ee=this.key)===null||ee===void 0?void 0:ee.getState(e.state),te=b.dom.querySelector(`[data-decoration-id="${G}"]`);return(te==null?void 0:te.getBoundingClientRect())||null}:null},W&&((A=m==null?void 0:m.onBeforeStart)===null||A===void 0||A.call(m,p)),Z&&((g=m==null?void 0:m.onBeforeUpdate)===null||g===void 0||g.call(m,p)),(Z||W)&&(p.items=yield u({editor:e,query:z.query})),R&&((w=m==null?void 0:m.onExit)===null||w===void 0||w.call(m,p)),Z&&((v=m==null?void 0:m.onUpdate)===null||v===void 0||v.call(m,p)),W&&((S=m==null?void 0:m.onStart)===null||S===void 0||S.call(m,p))}),destroy:()=>{var b;p&&((b=m==null?void 0:m.onExit)===null||b===void 0||b.call(m,p))}}},state:{init(){return{active:!1,range:{from:0,to:0},query:null,text:null,composing:!1}},apply(b,k,M,E){const{isEditable:A}=e,{composing:g}=e.view,{selection:w}=b,{empty:v,from:S}=w,T=ce({},k);if(T.composing=g,A&&(v||e.view.composing)){(S<k.range.from||S>k.range.to)&&!g&&!k.composing&&(T.active=!1);const O=bF({char:t,allowSpaces:i,allowedPrefixes:s,startOfLine:r,$position:w.$from}),I=`id_${Math.floor(Math.random()*4294967295)}`;O&&f({editor:e,state:E,range:O.range})?(T.active=!0,T.decorationId=k.decorationId?k.decorationId:I,T.range=O.range,T.query=O.query,T.text=O.text):T.active=!1}else T.active=!1;return T.active||(T.decorationId=null,T.range={from:0,to:0},T.query=null,T.text=null),T}},props:{handleKeyDown(b,k){var M;const{active:E,range:A}=_.getState(b.state);return E&&((M=m==null?void 0:m.onKeyDown)===null||M===void 0?void 0:M.call(m,{view:b,event:k,range:A}))||!1},decorations(b){const{active:k,range:M,decorationId:E}=_.getState(b);return k?bt.create(b.doc,[mn.inline(M.from,M.to,{nodeName:o,class:a,"data-decoration-id":E})]):null}}});return _}const kF=new rn("mention"),pH=Pt.create({name:"mention",addOptions(){return{HTMLAttributes:{},renderLabel({options:n,node:e}){var t;return`${n.suggestion.char}${(t=e.attrs.label)!==null&&t!==void 0?t:e.attrs.id}`},suggestion:{char:"@",pluginKey:kF,command:({editor:n,range:e,props:t})=>{var i,s;const r=n.view.state.selection.$to.nodeAfter;((i=r==null?void 0:r.text)===null||i===void 0?void 0:i.startsWith(" "))&&(e.to+=1),n.chain().focus().insertContentAt(e,[{type:this.name,attrs:t},{type:"text",text:" "}]).run(),(s=window.getSelection())===null||s===void 0||s.collapseToEnd()},allow:({state:n,range:e})=>{const t=n.doc.resolve(e.from),i=n.schema.nodes[this.name];return!!t.parent.type.contentMatch.matchType(i)}}}},group:"inline",inline:!0,selectable:!1,atom:!0,addAttributes(){return{id:{default:null,parseHTML:n=>n.getAttribute("data-id"),renderHTML:n=>n.id?{"data-id":n.id}:{}},label:{default:null,parseHTML:n=>n.getAttribute("data-label"),renderHTML:n=>n.label?{"data-label":n.label}:{}}}},parseHTML(){return[{tag:`span[data-type="${this.name}"]`}]},renderHTML({node:n,HTMLAttributes:e}){return["span",ct({"data-type":this.name},this.options.HTMLAttributes,e),this.options.renderLabel({options:this.options,node:n})]},renderText({node:n}){return this.options.renderLabel({options:this.options,node:n})},addKeyboardShortcuts(){return{Backspace:()=>this.editor.commands.command(({tr:n,state:e})=>{let t=!1;const{selection:i}=e,{empty:s,anchor:r}=i;return s?(e.doc.nodesBetween(r-1,r,(o,a)=>{if(o.type.name===this.name)return t=!0,n.insertText(this.options.suggestion.char||"",a,a+o.nodeSize),!1}),t):!1})}},addProseMirrorPlugins(){return[wF(ce({editor:this.editor},this.options.suggestion))]}});var wk={exports:{}};(function(n){(function(){function e(g){var w={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic 'section-' prefix",type:"string"},rawPrefixHeaderId:{defaultValue:!1,describe:'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',type:"boolean"},ghCompatibleHeaderId:{defaultValue:!1,describe:"Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)",type:"boolean"},rawHeaderId:{defaultValue:!1,describe:`Remove only spaces, ' and " from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids`,type:"boolean"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:!1,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},literalMidWordAsterisks:{defaultValue:!1,describe:"Parse midword asterisks as literal asterisks",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,describe:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,describe:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:!1,describe:"Parses simple line breaks as <br> (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:!1,describe:"Makes adding a space between `#` and the header text mandatory (GFM Style)",type:"boolean"},ghMentions:{defaultValue:!1,describe:"Enables github @mentions",type:"boolean"},ghMentionsLink:{defaultValue:"https://github.com/{u}",describe:"Changes the link generated by @mentions. Only applies if ghMentions option is enabled.",type:"string"},encodeEmails:{defaultValue:!0,describe:"Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities",type:"boolean"},openLinksInNewWindow:{defaultValue:!1,describe:"Open all links in new windows",type:"boolean"},backslashEscapesHTMLTags:{defaultValue:!1,describe:"Support for HTML Tag escaping. ex: <div>foo</div>",type:"boolean"},emoji:{defaultValue:!1,describe:"Enable emoji support. Ex: `this is a :smile: emoji`",type:"boolean"},underline:{defaultValue:!1,describe:"Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`",type:"boolean"},ellipsis:{defaultValue:!0,describe:"Replaces three dots with the ellipsis unicode character",type:"boolean"},completeHTMLDocument:{defaultValue:!1,describe:"Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags",type:"boolean"},metadata:{defaultValue:!1,describe:"Enable support for document metadata (defined at the top of the document between `«««` and `»»»` or between `---` and `---`).",type:"boolean"},splitAdjacentBlockquotes:{defaultValue:!1,describe:"Split adjacent blockquote blocks",type:"boolean"}};if(g===!1)return JSON.parse(JSON.stringify(w));var v={};for(var S in w)w.hasOwnProperty(S)&&(v[S]=w[S].defaultValue);return v}function t(){var g=e(!0),w={};for(var v in g)g.hasOwnProperty(v)&&(w[v]=!0);return w}var i={},s={},r={},o=e(!0),a="vanilla",l={github:{omitExtraWLInCodeBlocks:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghCompatibleHeaderId:!0,ghMentions:!0,backslashEscapesHTMLTags:!0,emoji:!0,splitAdjacentBlockquotes:!0},original:{noHeaderId:!0,ghCodeBlocks:!1},ghost:{omitExtraWLInCodeBlocks:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghMentions:!1,encodeEmails:!0},vanilla:e(!0),allOn:t()};i.helper={},i.extensions={},i.setOption=function(g,w){return o[g]=w,this},i.getOption=function(g){return o[g]},i.getOptions=function(){return o},i.resetOptions=function(){o=e(!0)},i.setFlavor=function(g){if(!l.hasOwnProperty(g))throw Error(g+" flavor was not found");i.resetOptions();var w=l[g];a=g;for(var v in w)w.hasOwnProperty(v)&&(o[v]=w[v])},i.getFlavor=function(){return a},i.getFlavorOptions=function(g){if(l.hasOwnProperty(g))return l[g]},i.getDefaultOptions=function(g){return e(g)},i.subParser=function(g,w){if(i.helper.isString(g))if(typeof w!="undefined")s[g]=w;else{if(s.hasOwnProperty(g))return s[g];throw Error("SubParser named "+g+" not registered!")}},i.extension=function(g,w){if(!i.helper.isString(g))throw Error("Extension 'name' must be a string");if(g=i.helper.stdExtName(g),i.helper.isUndefined(w)){if(!r.hasOwnProperty(g))throw Error("Extension named "+g+" is not registered!");return r[g]}else{typeof w=="function"&&(w=w()),i.helper.isArray(w)||(w=[w]);var v=u(w,g);if(v.valid)r[g]=w;else throw Error(v.error)}},i.getAllExtensions=function(){return r},i.removeExtension=function(g){delete r[g]},i.resetExtensions=function(){r={}};function u(g,w){var v=w?"Error in "+w+" extension->":"Error in unnamed extension",S={valid:!0,error:""};i.helper.isArray(g)||(g=[g]);for(var T=0;T<g.length;++T){var O=v+" sub-extension "+T+": ",I=g[T];if(typeof I!="object")return S.valid=!1,S.error=O+"must be an object, but "+typeof I+" given",S;if(!i.helper.isString(I.type))return S.valid=!1,S.error=O+'property "type" must be a string, but '+typeof I.type+" given",S;var N=I.type=I.type.toLowerCase();if(N==="language"&&(N=I.type="lang"),N==="html"&&(N=I.type="output"),N!=="lang"&&N!=="output"&&N!=="listener")return S.valid=!1,S.error=O+"type "+N+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',S;if(N==="listener"){if(i.helper.isUndefined(I.listeners))return S.valid=!1,S.error=O+'. Extensions of type "listener" must have a property called "listeners"',S}else if(i.helper.isUndefined(I.filter)&&i.helper.isUndefined(I.regex))return S.valid=!1,S.error=O+N+' extensions must define either a "regex" property or a "filter" method',S;if(I.listeners){if(typeof I.listeners!="object")return S.valid=!1,S.error=O+'"listeners" property must be an object but '+typeof I.listeners+" given",S;for(var B in I.listeners)if(I.listeners.hasOwnProperty(B)&&typeof I.listeners[B]!="function")return S.valid=!1,S.error=O+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+B+" must be a function but "+typeof I.listeners[B]+" given",S}if(I.filter){if(typeof I.filter!="function")return S.valid=!1,S.error=O+'"filter" must be a function, but '+typeof I.filter+" given",S}else if(I.regex){if(i.helper.isString(I.regex)&&(I.regex=new RegExp(I.regex,"g")),!(I.regex instanceof RegExp))return S.valid=!1,S.error=O+'"regex" property must either be a string or a RegExp object, but '+typeof I.regex+" given",S;if(i.helper.isUndefined(I.replace))return S.valid=!1,S.error=O+'"regex" extensions must implement a replace string or function',S}}return S}i.validateExtension=function(g){var w=u(g,null);return w.valid?!0:(console.warn(w.error),!1)},i.hasOwnProperty("helper")||(i.helper={}),i.helper.isString=function(g){return typeof g=="string"||g instanceof String},i.helper.isFunction=function(g){var w={};return g&&w.toString.call(g)==="[object Function]"},i.helper.isArray=function(g){return Array.isArray(g)},i.helper.isUndefined=function(g){return typeof g=="undefined"},i.helper.forEach=function(g,w){if(i.helper.isUndefined(g))throw new Error("obj param is required");if(i.helper.isUndefined(w))throw new Error("callback param is required");if(!i.helper.isFunction(w))throw new Error("callback param must be a function/closure");if(typeof g.forEach=="function")g.forEach(w);else if(i.helper.isArray(g))for(var v=0;v<g.length;v++)w(g[v],v,g);else if(typeof g=="object")for(var S in g)g.hasOwnProperty(S)&&w(g[S],S,g);else throw new Error("obj does not seem to be an array or an iterable object")},i.helper.stdExtName=function(g){return g.replace(/[_?*+\/\\.^-]/g,"").replace(/\s/g,"").toLowerCase()};function d(g,w){var v=w.charCodeAt(0);return"¨E"+v+"E"}i.helper.escapeCharactersCallback=d,i.helper.escapeCharacters=function(g,w,v){var S="(["+w.replace(/([\[\]\\])/g,"\\$1")+"])";v&&(S="\\\\"+S);var T=new RegExp(S,"g");return g=g.replace(T,d),g},i.helper.unescapeHTMLEntities=function(g){return g.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")};var f=function(g,w,v,S){var T=S||"",O=T.indexOf("g")>-1,I=new RegExp(w+"|"+v,"g"+T.replace(/g/g,"")),N=new RegExp(w,T.replace(/g/g,"")),B=[],V,W,Z,R,z;do for(V=0;Z=I.exec(g);)if(N.test(Z[0]))V++||(W=I.lastIndex,R=W-Z[0].length);else if(V&&!--V){z=Z.index+Z[0].length;var H={left:{start:R,end:W},match:{start:W,end:Z.index},right:{start:Z.index,end:z},wholeMatch:{start:R,end:z}};if(B.push(H),!O)return B}while(V&&(I.lastIndex=W));return B};i.helper.matchRecursiveRegExp=function(g,w,v,S){for(var T=f(g,w,v,S),O=[],I=0;I<T.length;++I)O.push([g.slice(T[I].wholeMatch.start,T[I].wholeMatch.end),g.slice(T[I].match.start,T[I].match.end),g.slice(T[I].left.start,T[I].left.end),g.slice(T[I].right.start,T[I].right.end)]);return O},i.helper.replaceRecursiveRegExp=function(g,w,v,S,T){if(!i.helper.isFunction(w)){var O=w;w=function(){return O}}var I=f(g,v,S,T),N=g,B=I.length;if(B>0){var V=[];I[0].wholeMatch.start!==0&&V.push(g.slice(0,I[0].wholeMatch.start));for(var W=0;W<B;++W)V.push(w(g.slice(I[W].wholeMatch.start,I[W].wholeMatch.end),g.slice(I[W].match.start,I[W].match.end),g.slice(I[W].left.start,I[W].left.end),g.slice(I[W].right.start,I[W].right.end))),W<B-1&&V.push(g.slice(I[W].wholeMatch.end,I[W+1].wholeMatch.start));I[B-1].wholeMatch.end<g.length&&V.push(g.slice(I[B-1].wholeMatch.end)),N=V.join("")}return N},i.helper.regexIndexOf=function(g,w,v){if(!i.helper.isString(g))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";if(!(w instanceof RegExp))throw"InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp";var S=g.substring(v||0).search(w);return S>=0?S+(v||0):S},i.helper.splitAtIndex=function(g,w){if(!i.helper.isString(g))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";return[g.substring(0,w),g.substring(w)]},i.helper.encodeEmailAddress=function(g){var w=[function(v){return"&#"+v.charCodeAt(0)+";"},function(v){return"&#x"+v.charCodeAt(0).toString(16)+";"},function(v){return v}];return g=g.replace(/./g,function(v){if(v==="@")v=w[Math.floor(Math.random()*2)](v);else{var S=Math.random();v=S>.9?w[2](v):S>.45?w[1](v):w[0](v)}return v}),g},i.helper.padEnd=function(w,v,S){return v=v>>0,S=String(S||" "),w.length>v?String(w):(v=v-w.length,v>S.length&&(S+=S.repeat(v/S.length)),String(w)+S.slice(0,v))},typeof console=="undefined"&&(console={warn:function(g){alert(g)},log:function(g){alert(g)},error:function(g){throw g}}),i.helper.regexes={asteriskDashAndColon:/([*_:~])/g},i.helper.emojis={"+1":"👍","-1":"👎",100:"💯",1234:"🔢","1st_place_medal":"🥇","2nd_place_medal":"🥈","3rd_place_medal":"🥉","8ball":"🎱",a:"🅰️",ab:"🆎",abc:"🔤",abcd:"🔡",accept:"🉑",aerial_tramway:"🚡",airplane:"✈️",alarm_clock:"⏰",alembic:"⚗️",alien:"👽",ambulance:"🚑",amphora:"🏺",anchor:"⚓️",angel:"👼",anger:"💢",angry:"😠",anguished:"😧",ant:"🐜",apple:"🍎",aquarius:"♒️",aries:"♈️",arrow_backward:"◀️",arrow_double_down:"⏬",arrow_double_up:"⏫",arrow_down:"⬇️",arrow_down_small:"🔽",arrow_forward:"▶️",arrow_heading_down:"⤵️",arrow_heading_up:"⤴️",arrow_left:"⬅️",arrow_lower_left:"↙️",arrow_lower_right:"↘️",arrow_right:"➡️",arrow_right_hook:"↪️",arrow_up:"⬆️",arrow_up_down:"↕️",arrow_up_small:"🔼",arrow_upper_left:"↖️",arrow_upper_right:"↗️",arrows_clockwise:"🔃",arrows_counterclockwise:"🔄",art:"🎨",articulated_lorry:"🚛",artificial_satellite:"🛰",astonished:"😲",athletic_shoe:"👟",atm:"🏧",atom_symbol:"⚛️",avocado:"🥑",b:"🅱️",baby:"👶",baby_bottle:"🍼",baby_chick:"🐤",baby_symbol:"🚼",back:"🔙",bacon:"🥓",badminton:"🏸",baggage_claim:"🛄",baguette_bread:"🥖",balance_scale:"⚖️",balloon:"🎈",ballot_box:"🗳",ballot_box_with_check:"☑️",bamboo:"🎍",banana:"🍌",bangbang:"‼️",bank:"🏦",bar_chart:"📊",barber:"💈",baseball:"⚾️",basketball:"🏀",basketball_man:"⛹️",basketball_woman:"⛹️&zwj;♀️",bat:"🦇",bath:"🛀",bathtub:"🛁",battery:"🔋",beach_umbrella:"🏖",bear:"🐻",bed:"🛏",bee:"🐝",beer:"🍺",beers:"🍻",beetle:"🐞",beginner:"🔰",bell:"🔔",bellhop_bell:"🛎",bento:"🍱",biking_man:"🚴",bike:"🚲",biking_woman:"🚴&zwj;♀️",bikini:"👙",biohazard:"☣️",bird:"🐦",birthday:"🎂",black_circle:"⚫️",black_flag:"🏴",black_heart:"🖤",black_joker:"🃏",black_large_square:"⬛️",black_medium_small_square:"◾️",black_medium_square:"◼️",black_nib:"✒️",black_small_square:"▪️",black_square_button:"🔲",blonde_man:"👱",blonde_woman:"👱&zwj;♀️",blossom:"🌼",blowfish:"🐡",blue_book:"📘",blue_car:"🚙",blue_heart:"💙",blush:"😊",boar:"🐗",boat:"⛵️",bomb:"💣",book:"📖",bookmark:"🔖",bookmark_tabs:"📑",books:"📚",boom:"💥",boot:"👢",bouquet:"💐",bowing_man:"🙇",bow_and_arrow:"🏹",bowing_woman:"🙇&zwj;♀️",bowling:"🎳",boxing_glove:"🥊",boy:"👦",bread:"🍞",bride_with_veil:"👰",bridge_at_night:"🌉",briefcase:"💼",broken_heart:"💔",bug:"🐛",building_construction:"🏗",bulb:"💡",bullettrain_front:"🚅",bullettrain_side:"🚄",burrito:"🌯",bus:"🚌",business_suit_levitating:"🕴",busstop:"🚏",bust_in_silhouette:"👤",busts_in_silhouette:"👥",butterfly:"🦋",cactus:"🌵",cake:"🍰",calendar:"📆",call_me_hand:"🤙",calling:"📲",camel:"🐫",camera:"📷",camera_flash:"📸",camping:"🏕",cancer:"♋️",candle:"🕯",candy:"🍬",canoe:"🛶",capital_abcd:"🔠",capricorn:"♑️",car:"🚗",card_file_box:"🗃",card_index:"📇",card_index_dividers:"🗂",carousel_horse:"🎠",carrot:"🥕",cat:"🐱",cat2:"🐈",cd:"💿",chains:"⛓",champagne:"🍾",chart:"💹",chart_with_downwards_trend:"📉",chart_with_upwards_trend:"📈",checkered_flag:"🏁",cheese:"🧀",cherries:"🍒",cherry_blossom:"🌸",chestnut:"🌰",chicken:"🐔",children_crossing:"🚸",chipmunk:"🐿",chocolate_bar:"🍫",christmas_tree:"🎄",church:"⛪️",cinema:"🎦",circus_tent:"🎪",city_sunrise:"🌇",city_sunset:"🌆",cityscape:"🏙",cl:"🆑",clamp:"🗜",clap:"👏",clapper:"🎬",classical_building:"🏛",clinking_glasses:"🥂",clipboard:"📋",clock1:"🕐",clock10:"🕙",clock1030:"🕥",clock11:"🕚",clock1130:"🕦",clock12:"🕛",clock1230:"🕧",clock130:"🕜",clock2:"🕑",clock230:"🕝",clock3:"🕒",clock330:"🕞",clock4:"🕓",clock430:"🕟",clock5:"🕔",clock530:"🕠",clock6:"🕕",clock630:"🕡",clock7:"🕖",clock730:"🕢",clock8:"🕗",clock830:"🕣",clock9:"🕘",clock930:"🕤",closed_book:"📕",closed_lock_with_key:"🔐",closed_umbrella:"🌂",cloud:"☁️",cloud_with_lightning:"🌩",cloud_with_lightning_and_rain:"⛈",cloud_with_rain:"🌧",cloud_with_snow:"🌨",clown_face:"🤡",clubs:"♣️",cocktail:"🍸",coffee:"☕️",coffin:"⚰️",cold_sweat:"😰",comet:"☄️",computer:"💻",computer_mouse:"🖱",confetti_ball:"🎊",confounded:"😖",confused:"😕",congratulations:"㊗️",construction:"🚧",construction_worker_man:"👷",construction_worker_woman:"👷&zwj;♀️",control_knobs:"🎛",convenience_store:"🏪",cookie:"🍪",cool:"🆒",policeman:"👮",copyright:"©️",corn:"🌽",couch_and_lamp:"🛋",couple:"👫",couple_with_heart_woman_man:"💑",couple_with_heart_man_man:"👨&zwj;❤️&zwj;👨",couple_with_heart_woman_woman:"👩&zwj;❤️&zwj;👩",couplekiss_man_man:"👨&zwj;❤️&zwj;💋&zwj;👨",couplekiss_man_woman:"💏",couplekiss_woman_woman:"👩&zwj;❤️&zwj;💋&zwj;👩",cow:"🐮",cow2:"🐄",cowboy_hat_face:"🤠",crab:"🦀",crayon:"🖍",credit_card:"💳",crescent_moon:"🌙",cricket:"🏏",crocodile:"🐊",croissant:"🥐",crossed_fingers:"🤞",crossed_flags:"🎌",crossed_swords:"⚔️",crown:"👑",cry:"😢",crying_cat_face:"😿",crystal_ball:"🔮",cucumber:"🥒",cupid:"💘",curly_loop:"➰",currency_exchange:"💱",curry:"🍛",custard:"🍮",customs:"🛃",cyclone:"🌀",dagger:"🗡",dancer:"💃",dancing_women:"👯",dancing_men:"👯&zwj;♂️",dango:"🍡",dark_sunglasses:"🕶",dart:"🎯",dash:"💨",date:"📅",deciduous_tree:"🌳",deer:"🦌",department_store:"🏬",derelict_house:"🏚",desert:"🏜",desert_island:"🏝",desktop_computer:"🖥",male_detective:"🕵️",diamond_shape_with_a_dot_inside:"💠",diamonds:"♦️",disappointed:"😞",disappointed_relieved:"😥",dizzy:"💫",dizzy_face:"😵",do_not_litter:"🚯",dog:"🐶",dog2:"🐕",dollar:"💵",dolls:"🎎",dolphin:"🐬",door:"🚪",doughnut:"🍩",dove:"🕊",dragon:"🐉",dragon_face:"🐲",dress:"👗",dromedary_camel:"🐪",drooling_face:"🤤",droplet:"💧",drum:"🥁",duck:"🦆",dvd:"📀","e-mail":"📧",eagle:"🦅",ear:"👂",ear_of_rice:"🌾",earth_africa:"🌍",earth_americas:"🌎",earth_asia:"🌏",egg:"🥚",eggplant:"🍆",eight_pointed_black_star:"✴️",eight_spoked_asterisk:"✳️",electric_plug:"🔌",elephant:"🐘",email:"✉️",end:"🔚",envelope_with_arrow:"📩",euro:"💶",european_castle:"🏰",european_post_office:"🏤",evergreen_tree:"🌲",exclamation:"❗️",expressionless:"😑",eye:"👁",eye_speech_bubble:"👁&zwj;🗨",eyeglasses:"👓",eyes:"👀",face_with_head_bandage:"🤕",face_with_thermometer:"🤒",fist_oncoming:"👊",factory:"🏭",fallen_leaf:"🍂",family_man_woman_boy:"👪",family_man_boy:"👨&zwj;👦",family_man_boy_boy:"👨&zwj;👦&zwj;👦",family_man_girl:"👨&zwj;👧",family_man_girl_boy:"👨&zwj;👧&zwj;👦",family_man_girl_girl:"👨&zwj;👧&zwj;👧",family_man_man_boy:"👨&zwj;👨&zwj;👦",family_man_man_boy_boy:"👨&zwj;👨&zwj;👦&zwj;👦",family_man_man_girl:"👨&zwj;👨&zwj;👧",family_man_man_girl_boy:"👨&zwj;👨&zwj;👧&zwj;👦",family_man_man_girl_girl:"👨&zwj;👨&zwj;👧&zwj;👧",family_man_woman_boy_boy:"👨&zwj;👩&zwj;👦&zwj;👦",family_man_woman_girl:"👨&zwj;👩&zwj;👧",family_man_woman_girl_boy:"👨&zwj;👩&zwj;👧&zwj;👦",family_man_woman_girl_girl:"👨&zwj;👩&zwj;👧&zwj;👧",family_woman_boy:"👩&zwj;👦",family_woman_boy_boy:"👩&zwj;👦&zwj;👦",family_woman_girl:"👩&zwj;👧",family_woman_girl_boy:"👩&zwj;👧&zwj;👦",family_woman_girl_girl:"👩&zwj;👧&zwj;👧",family_woman_woman_boy:"👩&zwj;👩&zwj;👦",family_woman_woman_boy_boy:"👩&zwj;👩&zwj;👦&zwj;👦",family_woman_woman_girl:"👩&zwj;👩&zwj;👧",family_woman_woman_girl_boy:"👩&zwj;👩&zwj;👧&zwj;👦",family_woman_woman_girl_girl:"👩&zwj;👩&zwj;👧&zwj;👧",fast_forward:"⏩",fax:"📠",fearful:"😨",feet:"🐾",female_detective:"🕵️&zwj;♀️",ferris_wheel:"🎡",ferry:"⛴",field_hockey:"🏑",file_cabinet:"🗄",file_folder:"📁",film_projector:"📽",film_strip:"🎞",fire:"🔥",fire_engine:"🚒",fireworks:"🎆",first_quarter_moon:"🌓",first_quarter_moon_with_face:"🌛",fish:"🐟",fish_cake:"🍥",fishing_pole_and_fish:"🎣",fist_raised:"✊",fist_left:"🤛",fist_right:"🤜",flags:"🎏",flashlight:"🔦",fleur_de_lis:"⚜️",flight_arrival:"🛬",flight_departure:"🛫",floppy_disk:"💾",flower_playing_cards:"🎴",flushed:"😳",fog:"🌫",foggy:"🌁",football:"🏈",footprints:"👣",fork_and_knife:"🍴",fountain:"⛲️",fountain_pen:"🖋",four_leaf_clover:"🍀",fox_face:"🦊",framed_picture:"🖼",free:"🆓",fried_egg:"🍳",fried_shrimp:"🍤",fries:"🍟",frog:"🐸",frowning:"😦",frowning_face:"☹️",frowning_man:"🙍&zwj;♂️",frowning_woman:"🙍",middle_finger:"🖕",fuelpump:"⛽️",full_moon:"🌕",full_moon_with_face:"🌝",funeral_urn:"⚱️",game_die:"🎲",gear:"⚙️",gem:"💎",gemini:"♊️",ghost:"👻",gift:"🎁",gift_heart:"💝",girl:"👧",globe_with_meridians:"🌐",goal_net:"🥅",goat:"🐐",golf:"⛳️",golfing_man:"🏌️",golfing_woman:"🏌️&zwj;♀️",gorilla:"🦍",grapes:"🍇",green_apple:"🍏",green_book:"📗",green_heart:"💚",green_salad:"🥗",grey_exclamation:"❕",grey_question:"❔",grimacing:"😬",grin:"😁",grinning:"😀",guardsman:"💂",guardswoman:"💂&zwj;♀️",guitar:"🎸",gun:"🔫",haircut_woman:"💇",haircut_man:"💇&zwj;♂️",hamburger:"🍔",hammer:"🔨",hammer_and_pick:"⚒",hammer_and_wrench:"🛠",hamster:"🐹",hand:"✋",handbag:"👜",handshake:"🤝",hankey:"💩",hatched_chick:"🐥",hatching_chick:"🐣",headphones:"🎧",hear_no_evil:"🙉",heart:"❤️",heart_decoration:"💟",heart_eyes:"😍",heart_eyes_cat:"😻",heartbeat:"💓",heartpulse:"💗",hearts:"♥️",heavy_check_mark:"✔️",heavy_division_sign:"➗",heavy_dollar_sign:"💲",heavy_heart_exclamation:"❣️",heavy_minus_sign:"➖",heavy_multiplication_x:"✖️",heavy_plus_sign:"➕",helicopter:"🚁",herb:"🌿",hibiscus:"🌺",high_brightness:"🔆",high_heel:"👠",hocho:"🔪",hole:"🕳",honey_pot:"🍯",horse:"🐴",horse_racing:"🏇",hospital:"🏥",hot_pepper:"🌶",hotdog:"🌭",hotel:"🏨",hotsprings:"♨️",hourglass:"⌛️",hourglass_flowing_sand:"⏳",house:"🏠",house_with_garden:"🏡",houses:"🏘",hugs:"🤗",hushed:"😯",ice_cream:"🍨",ice_hockey:"🏒",ice_skate:"⛸",icecream:"🍦",id:"🆔",ideograph_advantage:"🉐",imp:"👿",inbox_tray:"📥",incoming_envelope:"📨",tipping_hand_woman:"💁",information_source:"ℹ️",innocent:"😇",interrobang:"⁉️",iphone:"📱",izakaya_lantern:"🏮",jack_o_lantern:"🎃",japan:"🗾",japanese_castle:"🏯",japanese_goblin:"👺",japanese_ogre:"👹",jeans:"👖",joy:"😂",joy_cat:"😹",joystick:"🕹",kaaba:"🕋",key:"🔑",keyboard:"⌨️",keycap_ten:"🔟",kick_scooter:"🛴",kimono:"👘",kiss:"💋",kissing:"😗",kissing_cat:"😽",kissing_closed_eyes:"😚",kissing_heart:"😘",kissing_smiling_eyes:"😙",kiwi_fruit:"🥝",koala:"🐨",koko:"🈁",label:"🏷",large_blue_circle:"🔵",large_blue_diamond:"🔷",large_orange_diamond:"🔶",last_quarter_moon:"🌗",last_quarter_moon_with_face:"🌜",latin_cross:"✝️",laughing:"😆",leaves:"🍃",ledger:"📒",left_luggage:"🛅",left_right_arrow:"↔️",leftwards_arrow_with_hook:"↩️",lemon:"🍋",leo:"♌️",leopard:"🐆",level_slider:"🎚",libra:"♎️",light_rail:"🚈",link:"🔗",lion:"🦁",lips:"👄",lipstick:"💄",lizard:"🦎",lock:"🔒",lock_with_ink_pen:"🔏",lollipop:"🍭",loop:"➿",loud_sound:"🔊",loudspeaker:"📢",love_hotel:"🏩",love_letter:"💌",low_brightness:"🔅",lying_face:"🤥",m:"Ⓜ️",mag:"🔍",mag_right:"🔎",mahjong:"🀄️",mailbox:"📫",mailbox_closed:"📪",mailbox_with_mail:"📬",mailbox_with_no_mail:"📭",man:"👨",man_artist:"👨&zwj;🎨",man_astronaut:"👨&zwj;🚀",man_cartwheeling:"🤸&zwj;♂️",man_cook:"👨&zwj;🍳",man_dancing:"🕺",man_facepalming:"🤦&zwj;♂️",man_factory_worker:"👨&zwj;🏭",man_farmer:"👨&zwj;🌾",man_firefighter:"👨&zwj;🚒",man_health_worker:"👨&zwj;⚕️",man_in_tuxedo:"🤵",man_judge:"👨&zwj;⚖️",man_juggling:"🤹&zwj;♂️",man_mechanic:"👨&zwj;🔧",man_office_worker:"👨&zwj;💼",man_pilot:"👨&zwj;✈️",man_playing_handball:"🤾&zwj;♂️",man_playing_water_polo:"🤽&zwj;♂️",man_scientist:"👨&zwj;🔬",man_shrugging:"🤷&zwj;♂️",man_singer:"👨&zwj;🎤",man_student:"👨&zwj;🎓",man_teacher:"👨&zwj;🏫",man_technologist:"👨&zwj;💻",man_with_gua_pi_mao:"👲",man_with_turban:"👳",tangerine:"🍊",mans_shoe:"👞",mantelpiece_clock:"🕰",maple_leaf:"🍁",martial_arts_uniform:"🥋",mask:"😷",massage_woman:"💆",massage_man:"💆&zwj;♂️",meat_on_bone:"🍖",medal_military:"🎖",medal_sports:"🏅",mega:"📣",melon:"🍈",memo:"📝",men_wrestling:"🤼&zwj;♂️",menorah:"🕎",mens:"🚹",metal:"🤘",metro:"🚇",microphone:"🎤",microscope:"🔬",milk_glass:"🥛",milky_way:"🌌",minibus:"🚐",minidisc:"💽",mobile_phone_off:"📴",money_mouth_face:"🤑",money_with_wings:"💸",moneybag:"💰",monkey:"🐒",monkey_face:"🐵",monorail:"🚝",moon:"🌔",mortar_board:"🎓",mosque:"🕌",motor_boat:"🛥",motor_scooter:"🛵",motorcycle:"🏍",motorway:"🛣",mount_fuji:"🗻",mountain:"⛰",mountain_biking_man:"🚵",mountain_biking_woman:"🚵&zwj;♀️",mountain_cableway:"🚠",mountain_railway:"🚞",mountain_snow:"🏔",mouse:"🐭",mouse2:"🐁",movie_camera:"🎥",moyai:"🗿",mrs_claus:"🤶",muscle:"💪",mushroom:"🍄",musical_keyboard:"🎹",musical_note:"🎵",musical_score:"🎼",mute:"🔇",nail_care:"💅",name_badge:"📛",national_park:"🏞",nauseated_face:"🤢",necktie:"👔",negative_squared_cross_mark:"❎",nerd_face:"🤓",neutral_face:"😐",new:"🆕",new_moon:"🌑",new_moon_with_face:"🌚",newspaper:"📰",newspaper_roll:"🗞",next_track_button:"⏭",ng:"🆖",no_good_man:"🙅&zwj;♂️",no_good_woman:"🙅",night_with_stars:"🌃",no_bell:"🔕",no_bicycles:"🚳",no_entry:"⛔️",no_entry_sign:"🚫",no_mobile_phones:"📵",no_mouth:"😶",no_pedestrians:"🚷",no_smoking:"🚭","non-potable_water":"🚱",nose:"👃",notebook:"📓",notebook_with_decorative_cover:"📔",notes:"🎶",nut_and_bolt:"🔩",o:"⭕️",o2:"🅾️",ocean:"🌊",octopus:"🐙",oden:"🍢",office:"🏢",oil_drum:"🛢",ok:"🆗",ok_hand:"👌",ok_man:"🙆&zwj;♂️",ok_woman:"🙆",old_key:"🗝",older_man:"👴",older_woman:"👵",om:"🕉",on:"🔛",oncoming_automobile:"🚘",oncoming_bus:"🚍",oncoming_police_car:"🚔",oncoming_taxi:"🚖",open_file_folder:"📂",open_hands:"👐",open_mouth:"😮",open_umbrella:"☂️",ophiuchus:"⛎",orange_book:"📙",orthodox_cross:"☦️",outbox_tray:"📤",owl:"🦉",ox:"🐂",package:"📦",page_facing_up:"📄",page_with_curl:"📃",pager:"📟",paintbrush:"🖌",palm_tree:"🌴",pancakes:"🥞",panda_face:"🐼",paperclip:"📎",paperclips:"🖇",parasol_on_ground:"⛱",parking:"🅿️",part_alternation_mark:"〽️",partly_sunny:"⛅️",passenger_ship:"🛳",passport_control:"🛂",pause_button:"⏸",peace_symbol:"☮️",peach:"🍑",peanuts:"🥜",pear:"🍐",pen:"🖊",pencil2:"✏️",penguin:"🐧",pensive:"😔",performing_arts:"🎭",persevere:"😣",person_fencing:"🤺",pouting_woman:"🙎",phone:"☎️",pick:"⛏",pig:"🐷",pig2:"🐖",pig_nose:"🐽",pill:"💊",pineapple:"🍍",ping_pong:"🏓",pisces:"♓️",pizza:"🍕",place_of_worship:"🛐",plate_with_cutlery:"🍽",play_or_pause_button:"⏯",point_down:"👇",point_left:"👈",point_right:"👉",point_up:"☝️",point_up_2:"👆",police_car:"🚓",policewoman:"👮&zwj;♀️",poodle:"🐩",popcorn:"🍿",post_office:"🏣",postal_horn:"📯",postbox:"📮",potable_water:"🚰",potato:"🥔",pouch:"👝",poultry_leg:"🍗",pound:"💷",rage:"😡",pouting_cat:"😾",pouting_man:"🙎&zwj;♂️",pray:"🙏",prayer_beads:"📿",pregnant_woman:"🤰",previous_track_button:"⏮",prince:"🤴",princess:"👸",printer:"🖨",purple_heart:"💜",purse:"👛",pushpin:"📌",put_litter_in_its_place:"🚮",question:"❓",rabbit:"🐰",rabbit2:"🐇",racehorse:"🐎",racing_car:"🏎",radio:"📻",radio_button:"🔘",radioactive:"☢️",railway_car:"🚃",railway_track:"🛤",rainbow:"🌈",rainbow_flag:"🏳️&zwj;🌈",raised_back_of_hand:"🤚",raised_hand_with_fingers_splayed:"🖐",raised_hands:"🙌",raising_hand_woman:"🙋",raising_hand_man:"🙋&zwj;♂️",ram:"🐏",ramen:"🍜",rat:"🐀",record_button:"⏺",recycle:"♻️",red_circle:"🔴",registered:"®️",relaxed:"☺️",relieved:"😌",reminder_ribbon:"🎗",repeat:"🔁",repeat_one:"🔂",rescue_worker_helmet:"⛑",restroom:"🚻",revolving_hearts:"💞",rewind:"⏪",rhinoceros:"🦏",ribbon:"🎀",rice:"🍚",rice_ball:"🍙",rice_cracker:"🍘",rice_scene:"🎑",right_anger_bubble:"🗯",ring:"💍",robot:"🤖",rocket:"🚀",rofl:"🤣",roll_eyes:"🙄",roller_coaster:"🎢",rooster:"🐓",rose:"🌹",rosette:"🏵",rotating_light:"🚨",round_pushpin:"📍",rowing_man:"🚣",rowing_woman:"🚣&zwj;♀️",rugby_football:"🏉",running_man:"🏃",running_shirt_with_sash:"🎽",running_woman:"🏃&zwj;♀️",sa:"🈂️",sagittarius:"♐️",sake:"🍶",sandal:"👡",santa:"🎅",satellite:"📡",saxophone:"🎷",school:"🏫",school_satchel:"🎒",scissors:"✂️",scorpion:"🦂",scorpius:"♏️",scream:"😱",scream_cat:"🙀",scroll:"📜",seat:"💺",secret:"㊙️",see_no_evil:"🙈",seedling:"🌱",selfie:"🤳",shallow_pan_of_food:"🥘",shamrock:"☘️",shark:"🦈",shaved_ice:"🍧",sheep:"🐑",shell:"🐚",shield:"🛡",shinto_shrine:"⛩",ship:"🚢",shirt:"👕",shopping:"🛍",shopping_cart:"🛒",shower:"🚿",shrimp:"🦐",signal_strength:"📶",six_pointed_star:"🔯",ski:"🎿",skier:"⛷",skull:"💀",skull_and_crossbones:"☠️",sleeping:"😴",sleeping_bed:"🛌",sleepy:"😪",slightly_frowning_face:"🙁",slightly_smiling_face:"🙂",slot_machine:"🎰",small_airplane:"🛩",small_blue_diamond:"🔹",small_orange_diamond:"🔸",small_red_triangle:"🔺",small_red_triangle_down:"🔻",smile:"😄",smile_cat:"😸",smiley:"😃",smiley_cat:"😺",smiling_imp:"😈",smirk:"😏",smirk_cat:"😼",smoking:"🚬",snail:"🐌",snake:"🐍",sneezing_face:"🤧",snowboarder:"🏂",snowflake:"❄️",snowman:"⛄️",snowman_with_snow:"☃️",sob:"😭",soccer:"⚽️",soon:"🔜",sos:"🆘",sound:"🔉",space_invader:"👾",spades:"♠️",spaghetti:"🍝",sparkle:"❇️",sparkler:"🎇",sparkles:"✨",sparkling_heart:"💖",speak_no_evil:"🙊",speaker:"🔈",speaking_head:"🗣",speech_balloon:"💬",speedboat:"🚤",spider:"🕷",spider_web:"🕸",spiral_calendar:"🗓",spiral_notepad:"🗒",spoon:"🥄",squid:"🦑",stadium:"🏟",star:"⭐️",star2:"🌟",star_and_crescent:"☪️",star_of_david:"✡️",stars:"🌠",station:"🚉",statue_of_liberty:"🗽",steam_locomotive:"🚂",stew:"🍲",stop_button:"⏹",stop_sign:"🛑",stopwatch:"⏱",straight_ruler:"📏",strawberry:"🍓",stuck_out_tongue:"😛",stuck_out_tongue_closed_eyes:"😝",stuck_out_tongue_winking_eye:"😜",studio_microphone:"🎙",stuffed_flatbread:"🥙",sun_behind_large_cloud:"🌥",sun_behind_rain_cloud:"🌦",sun_behind_small_cloud:"🌤",sun_with_face:"🌞",sunflower:"🌻",sunglasses:"😎",sunny:"☀️",sunrise:"🌅",sunrise_over_mountains:"🌄",surfing_man:"🏄",surfing_woman:"🏄&zwj;♀️",sushi:"🍣",suspension_railway:"🚟",sweat:"😓",sweat_drops:"💦",sweat_smile:"😅",sweet_potato:"🍠",swimming_man:"🏊",swimming_woman:"🏊&zwj;♀️",symbols:"🔣",synagogue:"🕍",syringe:"💉",taco:"🌮",tada:"🎉",tanabata_tree:"🎋",taurus:"♉️",taxi:"🚕",tea:"🍵",telephone_receiver:"📞",telescope:"🔭",tennis:"🎾",tent:"⛺️",thermometer:"🌡",thinking:"🤔",thought_balloon:"💭",ticket:"🎫",tickets:"🎟",tiger:"🐯",tiger2:"🐅",timer_clock:"⏲",tipping_hand_man:"💁&zwj;♂️",tired_face:"😫",tm:"™️",toilet:"🚽",tokyo_tower:"🗼",tomato:"🍅",tongue:"👅",top:"🔝",tophat:"🎩",tornado:"🌪",trackball:"🖲",tractor:"🚜",traffic_light:"🚥",train:"🚋",train2:"🚆",tram:"🚊",triangular_flag_on_post:"🚩",triangular_ruler:"📐",trident:"🔱",triumph:"😤",trolleybus:"🚎",trophy:"🏆",tropical_drink:"🍹",tropical_fish:"🐠",truck:"🚚",trumpet:"🎺",tulip:"🌷",tumbler_glass:"🥃",turkey:"🦃",turtle:"🐢",tv:"📺",twisted_rightwards_arrows:"🔀",two_hearts:"💕",two_men_holding_hands:"👬",two_women_holding_hands:"👭",u5272:"🈹",u5408:"🈴",u55b6:"🈺",u6307:"🈯️",u6708:"🈷️",u6709:"🈶",u6e80:"🈵",u7121:"🈚️",u7533:"🈸",u7981:"🈲",u7a7a:"🈳",umbrella:"☔️",unamused:"😒",underage:"🔞",unicorn:"🦄",unlock:"🔓",up:"🆙",upside_down_face:"🙃",v:"✌️",vertical_traffic_light:"🚦",vhs:"📼",vibration_mode:"📳",video_camera:"📹",video_game:"🎮",violin:"🎻",virgo:"♍️",volcano:"🌋",volleyball:"🏐",vs:"🆚",vulcan_salute:"🖖",walking_man:"🚶",walking_woman:"🚶&zwj;♀️",waning_crescent_moon:"🌘",waning_gibbous_moon:"🌖",warning:"⚠️",wastebasket:"🗑",watch:"⌚️",water_buffalo:"🐃",watermelon:"🍉",wave:"👋",wavy_dash:"〰️",waxing_crescent_moon:"🌒",wc:"🚾",weary:"😩",wedding:"💒",weight_lifting_man:"🏋️",weight_lifting_woman:"🏋️&zwj;♀️",whale:"🐳",whale2:"🐋",wheel_of_dharma:"☸️",wheelchair:"♿️",white_check_mark:"✅",white_circle:"⚪️",white_flag:"🏳️",white_flower:"💮",white_large_square:"⬜️",white_medium_small_square:"◽️",white_medium_square:"◻️",white_small_square:"▫️",white_square_button:"🔳",wilted_flower:"🥀",wind_chime:"🎐",wind_face:"🌬",wine_glass:"🍷",wink:"😉",wolf:"🐺",woman:"👩",woman_artist:"👩&zwj;🎨",woman_astronaut:"👩&zwj;🚀",woman_cartwheeling:"🤸&zwj;♀️",woman_cook:"👩&zwj;🍳",woman_facepalming:"🤦&zwj;♀️",woman_factory_worker:"👩&zwj;🏭",woman_farmer:"👩&zwj;🌾",woman_firefighter:"👩&zwj;🚒",woman_health_worker:"👩&zwj;⚕️",woman_judge:"👩&zwj;⚖️",woman_juggling:"🤹&zwj;♀️",woman_mechanic:"👩&zwj;🔧",woman_office_worker:"👩&zwj;💼",woman_pilot:"👩&zwj;✈️",woman_playing_handball:"🤾&zwj;♀️",woman_playing_water_polo:"🤽&zwj;♀️",woman_scientist:"👩&zwj;🔬",woman_shrugging:"🤷&zwj;♀️",woman_singer:"👩&zwj;🎤",woman_student:"👩&zwj;🎓",woman_teacher:"👩&zwj;🏫",woman_technologist:"👩&zwj;💻",woman_with_turban:"👳&zwj;♀️",womans_clothes:"👚",womans_hat:"👒",women_wrestling:"🤼&zwj;♀️",womens:"🚺",world_map:"🗺",worried:"😟",wrench:"🔧",writing_hand:"✍️",x:"❌",yellow_heart:"💛",yen:"💴",yin_yang:"☯️",yum:"😋",zap:"⚡️",zipper_mouth_face:"🤐",zzz:"💤",octocat:'<img alt=":octocat:" height="20" width="20" align="absmiddle" src="https://assets-cdn.github.com/images/icons/emoji/octocat.png">',showdown:`<span style="font-family: 'Anonymous Pro', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;">S</span>`},i.Converter=function(g){var w={},v=[],S=[],T={},O=a,I={parsed:{},raw:"",format:""};N();function N(){g=g||{};for(var R in o)o.hasOwnProperty(R)&&(w[R]=o[R]);if(typeof g=="object")for(var z in g)g.hasOwnProperty(z)&&(w[z]=g[z]);else throw Error("Converter expects the passed parameter to be an object, but "+typeof g+" was passed instead.");w.extensions&&i.helper.forEach(w.extensions,B)}function B(R,z){if(z=z||null,i.helper.isString(R))if(R=i.helper.stdExtName(R),z=R,i.extensions[R]){console.warn("DEPRECATION WARNING: "+R+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),V(i.extensions[R],R);return}else if(!i.helper.isUndefined(r[R]))R=r[R];else throw Error('Extension "'+R+'" could not be loaded. It was either not found or is not a valid extension.');typeof R=="function"&&(R=R()),i.helper.isArray(R)||(R=[R]);var H=u(R,z);if(!H.valid)throw Error(H.error);for(var ee=0;ee<R.length;++ee){switch(R[ee].type){case"lang":v.push(R[ee]);break;case"output":S.push(R[ee]);break}if(R[ee].hasOwnProperty("listeners"))for(var G in R[ee].listeners)R[ee].listeners.hasOwnProperty(G)&&W(G,R[ee].listeners[G])}}function V(R,z){typeof R=="function"&&(R=R(new i.Converter)),i.helper.isArray(R)||(R=[R]);var H=u(R,z);if(!H.valid)throw Error(H.error);for(var ee=0;ee<R.length;++ee)switch(R[ee].type){case"lang":v.push(R[ee]);break;case"output":S.push(R[ee]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}function W(R,z){if(!i.helper.isString(R))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof R+" given");if(typeof z!="function")throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof z+" given");T.hasOwnProperty(R)||(T[R]=[]),T[R].push(z)}function Z(R){var z=R.match(/^\s*/)[0].length,H=new RegExp("^\\s{0,"+z+"}","gm");return R.replace(H,"")}this._dispatch=function(z,H,ee,G){if(T.hasOwnProperty(z))for(var te=0;te<T[z].length;++te){var we=T[z][te](z,H,this,ee,G);we&&typeof we!="undefined"&&(H=we)}return H},this.listen=function(R,z){return W(R,z),this},this.makeHtml=function(R){if(!R)return R;var z={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:v,outputModifiers:S,converter:this,ghCodeBlocks:[],metadata:{parsed:{},raw:"",format:""}};return R=R.replace(/¨/g,"¨T"),R=R.replace(/\$/g,"¨D"),R=R.replace(/\r\n/g,`
`),R=R.replace(/\r/g,`
`),R=R.replace(/\u00A0/g,"&nbsp;"),w.smartIndentationFix&&(R=Z(R)),R=`

`+R+`

`,R=i.subParser("detab")(R,w,z),R=R.replace(/^[ \t]+$/mg,""),i.helper.forEach(v,function(H){R=i.subParser("runExtension")(H,R,w,z)}),R=i.subParser("metadata")(R,w,z),R=i.subParser("hashPreCodeTags")(R,w,z),R=i.subParser("githubCodeBlocks")(R,w,z),R=i.subParser("hashHTMLBlocks")(R,w,z),R=i.subParser("hashCodeTags")(R,w,z),R=i.subParser("stripLinkDefinitions")(R,w,z),R=i.subParser("blockGamut")(R,w,z),R=i.subParser("unhashHTMLSpans")(R,w,z),R=i.subParser("unescapeSpecialChars")(R,w,z),R=R.replace(/¨D/g,"$$"),R=R.replace(/¨T/g,"¨"),R=i.subParser("completeHTMLDocument")(R,w,z),i.helper.forEach(S,function(H){R=i.subParser("runExtension")(H,R,w,z)}),I=z.metadata,R},this.makeMarkdown=this.makeMd=function(R,z){if(R=R.replace(/\r\n/g,`
`),R=R.replace(/\r/g,`
`),R=R.replace(/>[ \t]+</,">¨NBSP;<"),!z)if(window&&window.document)z=window.document;else throw new Error("HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM");var H=z.createElement("div");H.innerHTML=R;var ee={preList:Ee(H)};Te(H);for(var G=H.childNodes,te="",we=0;we<G.length;we++)te+=i.subParser("makeMarkdown.node")(G[we],ee);function Te(Ce){for(var be=0;be<Ce.childNodes.length;++be){var X=Ce.childNodes[be];X.nodeType===3?!/\S/.test(X.nodeValue)&&!/^[ ]+$/.test(X.nodeValue)?(Ce.removeChild(X),--be):(X.nodeValue=X.nodeValue.split(`
`).join(" "),X.nodeValue=X.nodeValue.replace(/(\s)+/g,"$1")):X.nodeType===1&&Te(X)}}function Ee(Ce){for(var be=Ce.querySelectorAll("pre"),X=[],ue=0;ue<be.length;++ue)if(be[ue].childElementCount===1&&be[ue].firstChild.tagName.toLowerCase()==="code"){var me=be[ue].firstChild.innerHTML.trim(),Q=be[ue].firstChild.getAttribute("data-language")||"";if(Q==="")for(var ie=be[ue].firstChild.className.split(" "),he=0;he<ie.length;++he){var j=ie[he].match(/^language-(.+)$/);if(j!==null){Q=j[1];break}}me=i.helper.unescapeHTMLEntities(me),X.push(me),be[ue].outerHTML='<precode language="'+Q+'" precodenum="'+ue.toString()+'"></precode>'}else X.push(be[ue].innerHTML),be[ue].innerHTML="",be[ue].setAttribute("prenum",ue.toString());return X}return te},this.setOption=function(R,z){w[R]=z},this.getOption=function(R){return w[R]},this.getOptions=function(){return w},this.addExtension=function(R,z){z=z||null,B(R,z)},this.useExtension=function(R){B(R)},this.setFlavor=function(R){if(!l.hasOwnProperty(R))throw Error(R+" flavor was not found");var z=l[R];O=R;for(var H in z)z.hasOwnProperty(H)&&(w[H]=z[H])},this.getFlavor=function(){return O},this.removeExtension=function(R){i.helper.isArray(R)||(R=[R]);for(var z=0;z<R.length;++z){for(var H=R[z],ee=0;ee<v.length;++ee)v[ee]===H&&v.splice(ee,1);for(var G=0;G<S.length;++G)S[G]===H&&S.splice(G,1)}},this.getAllExtensions=function(){return{language:v,output:S}},this.getMetadata=function(R){return R?I.raw:I.parsed},this.getMetadataFormat=function(){return I.format},this._setMetadataPair=function(R,z){I.parsed[R]=z},this._setMetadataFormat=function(R){I.format=R},this._setMetadataRaw=function(R){I.raw=R}},i.subParser("anchors",function(g,w,v){g=v.converter._dispatch("anchors.before",g,w,v);var S=function(T,O,I,N,B,V,W){if(i.helper.isUndefined(W)&&(W=""),I=I.toLowerCase(),T.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)N="";else if(!N)if(I||(I=O.toLowerCase().replace(/ ?\n/g," ")),N="#"+I,!i.helper.isUndefined(v.gUrls[I]))N=v.gUrls[I],i.helper.isUndefined(v.gTitles[I])||(W=v.gTitles[I]);else return T;N=N.replace(i.helper.regexes.asteriskDashAndColon,i.helper.escapeCharactersCallback);var Z='<a href="'+N+'"';return W!==""&&W!==null&&(W=W.replace(/"/g,"&quot;"),W=W.replace(i.helper.regexes.asteriskDashAndColon,i.helper.escapeCharactersCallback),Z+=' title="'+W+'"'),w.openLinksInNewWindow&&!/^#/.test(N)&&(Z+=' rel="noopener noreferrer" target="¨E95Eblank"'),Z+=">"+O+"</a>",Z};return g=g.replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g,S),g=g.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,S),g=g.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,S),g=g.replace(/\[([^\[\]]+)]()()()()()/g,S),w.ghMentions&&(g=g.replace(/(^|\s)(\\)?(@([a-z\d]+(?:[a-z\d.-]+?[a-z\d]+)*))/gmi,function(T,O,I,N,B){if(I==="\\")return O+N;if(!i.helper.isString(w.ghMentionsLink))throw new Error("ghMentionsLink option must be a string");var V=w.ghMentionsLink.replace(/\{u}/g,B),W="";return w.openLinksInNewWindow&&(W=' rel="noopener noreferrer" target="¨E95Eblank"'),O+'<a href="'+V+'"'+W+">"+N+"</a>"})),g=v.converter._dispatch("anchors.after",g,w,v),g});var p=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi,m=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi,_=/()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi,b=/(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gmi,k=/<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,M=function(g){return function(w,v,S,T,O,I,N){S=S.replace(i.helper.regexes.asteriskDashAndColon,i.helper.escapeCharactersCallback);var B=S,V="",W="",Z=v||"",R=N||"";return/^www\./i.test(S)&&(S=S.replace(/^www\./i,"http://www.")),g.excludeTrailingPunctuationFromURLs&&I&&(V=I),g.openLinksInNewWindow&&(W=' rel="noopener noreferrer" target="¨E95Eblank"'),Z+'<a href="'+S+'"'+W+">"+B+"</a>"+V+R}},E=function(g,w){return function(v,S,T){var O="mailto:";return S=S||"",T=i.subParser("unescapeSpecialChars")(T,g,w),g.encodeEmails?(O=i.helper.encodeEmailAddress(O+T),T=i.helper.encodeEmailAddress(T)):O=O+T,S+'<a href="'+O+'">'+T+"</a>"}};i.subParser("autoLinks",function(g,w,v){return g=v.converter._dispatch("autoLinks.before",g,w,v),g=g.replace(_,M(w)),g=g.replace(k,E(w,v)),g=v.converter._dispatch("autoLinks.after",g,w,v),g}),i.subParser("simplifiedAutoLinks",function(g,w,v){return w.simplifiedAutoLink&&(g=v.converter._dispatch("simplifiedAutoLinks.before",g,w,v),w.excludeTrailingPunctuationFromURLs?g=g.replace(m,M(w)):g=g.replace(p,M(w)),g=g.replace(b,E(w,v)),g=v.converter._dispatch("simplifiedAutoLinks.after",g,w,v)),g}),i.subParser("blockGamut",function(g,w,v){return g=v.converter._dispatch("blockGamut.before",g,w,v),g=i.subParser("blockQuotes")(g,w,v),g=i.subParser("headers")(g,w,v),g=i.subParser("horizontalRule")(g,w,v),g=i.subParser("lists")(g,w,v),g=i.subParser("codeBlocks")(g,w,v),g=i.subParser("tables")(g,w,v),g=i.subParser("hashHTMLBlocks")(g,w,v),g=i.subParser("paragraphs")(g,w,v),g=v.converter._dispatch("blockGamut.after",g,w,v),g}),i.subParser("blockQuotes",function(g,w,v){g=v.converter._dispatch("blockQuotes.before",g,w,v),g=g+`

`;var S=/(^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+/gm;return w.splitAdjacentBlockquotes&&(S=/^ {0,3}>[\s\S]*?(?:\n\n)/gm),g=g.replace(S,function(T){return T=T.replace(/^[ \t]*>[ \t]?/gm,""),T=T.replace(/¨0/g,""),T=T.replace(/^[ \t]+$/gm,""),T=i.subParser("githubCodeBlocks")(T,w,v),T=i.subParser("blockGamut")(T,w,v),T=T.replace(/(^|\n)/g,"$1  "),T=T.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(O,I){var N=I;return N=N.replace(/^  /mg,"¨0"),N=N.replace(/¨0/g,""),N}),i.subParser("hashBlock")(`<blockquote>
`+T+`
</blockquote>`,w,v)}),g=v.converter._dispatch("blockQuotes.after",g,w,v),g}),i.subParser("codeBlocks",function(g,w,v){g=v.converter._dispatch("codeBlocks.before",g,w,v),g+="¨0";var S=/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=¨0))/g;return g=g.replace(S,function(T,O,I){var N=O,B=I,V=`
`;return N=i.subParser("outdent")(N,w,v),N=i.subParser("encodeCode")(N,w,v),N=i.subParser("detab")(N,w,v),N=N.replace(/^\n+/g,""),N=N.replace(/\n+$/g,""),w.omitExtraWLInCodeBlocks&&(V=""),N="<pre><code>"+N+V+"</code></pre>",i.subParser("hashBlock")(N,w,v)+B}),g=g.replace(/¨0/,""),g=v.converter._dispatch("codeBlocks.after",g,w,v),g}),i.subParser("codeSpans",function(g,w,v){return g=v.converter._dispatch("codeSpans.before",g,w,v),typeof g=="undefined"&&(g=""),g=g.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(S,T,O,I){var N=I;return N=N.replace(/^([ \t]*)/g,""),N=N.replace(/[ \t]*$/g,""),N=i.subParser("encodeCode")(N,w,v),N=T+"<code>"+N+"</code>",N=i.subParser("hashHTMLSpans")(N,w,v),N}),g=v.converter._dispatch("codeSpans.after",g,w,v),g}),i.subParser("completeHTMLDocument",function(g,w,v){if(!w.completeHTMLDocument)return g;g=v.converter._dispatch("completeHTMLDocument.before",g,w,v);var S="html",T=`<!DOCTYPE HTML>
`,O="",I=`<meta charset="utf-8">
`,N="",B="";typeof v.metadata.parsed.doctype!="undefined"&&(T="<!DOCTYPE "+v.metadata.parsed.doctype+`>
`,S=v.metadata.parsed.doctype.toString().toLowerCase(),(S==="html"||S==="html5")&&(I='<meta charset="utf-8">'));for(var V in v.metadata.parsed)if(v.metadata.parsed.hasOwnProperty(V))switch(V.toLowerCase()){case"doctype":break;case"title":O="<title>"+v.metadata.parsed.title+`</title>
`;break;case"charset":S==="html"||S==="html5"?I='<meta charset="'+v.metadata.parsed.charset+`">
`:I='<meta name="charset" content="'+v.metadata.parsed.charset+`">
`;break;case"language":case"lang":N=' lang="'+v.metadata.parsed[V]+'"',B+='<meta name="'+V+'" content="'+v.metadata.parsed[V]+`">
`;break;default:B+='<meta name="'+V+'" content="'+v.metadata.parsed[V]+`">
`}return g=T+"<html"+N+`>
<head>
`+O+I+B+`</head>
<body>
`+g.trim()+`
</body>
</html>`,g=v.converter._dispatch("completeHTMLDocument.after",g,w,v),g}),i.subParser("detab",function(g,w,v){return g=v.converter._dispatch("detab.before",g,w,v),g=g.replace(/\t(?=\t)/g,"    "),g=g.replace(/\t/g,"¨A¨B"),g=g.replace(/¨B(.+?)¨A/g,function(S,T){for(var O=T,I=4-O.length%4,N=0;N<I;N++)O+=" ";return O}),g=g.replace(/¨A/g,"    "),g=g.replace(/¨B/g,""),g=v.converter._dispatch("detab.after",g,w,v),g}),i.subParser("ellipsis",function(g,w,v){return w.ellipsis&&(g=v.converter._dispatch("ellipsis.before",g,w,v),g=g.replace(/\.\.\./g,"…"),g=v.converter._dispatch("ellipsis.after",g,w,v)),g}),i.subParser("emoji",function(g,w,v){if(!w.emoji)return g;g=v.converter._dispatch("emoji.before",g,w,v);var S=/:([\S]+?):/g;return g=g.replace(S,function(T,O){return i.helper.emojis.hasOwnProperty(O)?i.helper.emojis[O]:T}),g=v.converter._dispatch("emoji.after",g,w,v),g}),i.subParser("encodeAmpsAndAngles",function(g,w,v){return g=v.converter._dispatch("encodeAmpsAndAngles.before",g,w,v),g=g.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),g=g.replace(/<(?![a-z\/?$!])/gi,"&lt;"),g=g.replace(/</g,"&lt;"),g=g.replace(/>/g,"&gt;"),g=v.converter._dispatch("encodeAmpsAndAngles.after",g,w,v),g}),i.subParser("encodeBackslashEscapes",function(g,w,v){return g=v.converter._dispatch("encodeBackslashEscapes.before",g,w,v),g=g.replace(/\\(\\)/g,i.helper.escapeCharactersCallback),g=g.replace(/\\([`*_{}\[\]()>#+.!~=|:-])/g,i.helper.escapeCharactersCallback),g=v.converter._dispatch("encodeBackslashEscapes.after",g,w,v),g}),i.subParser("encodeCode",function(g,w,v){return g=v.converter._dispatch("encodeCode.before",g,w,v),g=g.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/([*_{}\[\]\\=~-])/g,i.helper.escapeCharactersCallback),g=v.converter._dispatch("encodeCode.after",g,w,v),g}),i.subParser("escapeSpecialCharsWithinTagAttributes",function(g,w,v){g=v.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before",g,w,v);var S=/<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi,T=/<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi;return g=g.replace(S,function(O){return O.replace(/(.)<\/?code>(?=.)/g,"$1`").replace(/([\\`*_~=|])/g,i.helper.escapeCharactersCallback)}),g=g.replace(T,function(O){return O.replace(/([\\`*_~=|])/g,i.helper.escapeCharactersCallback)}),g=v.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after",g,w,v),g}),i.subParser("githubCodeBlocks",function(g,w,v){return w.ghCodeBlocks?(g=v.converter._dispatch("githubCodeBlocks.before",g,w,v),g+="¨0",g=g.replace(/(?:^|\n)(?: {0,3})(```+|~~~+)(?: *)([^\s`~]*)\n([\s\S]*?)\n(?: {0,3})\1/g,function(S,T,O,I){var N=w.omitExtraWLInCodeBlocks?"":`
`;return I=i.subParser("encodeCode")(I,w,v),I=i.subParser("detab")(I,w,v),I=I.replace(/^\n+/g,""),I=I.replace(/\n+$/g,""),I="<pre><code"+(O?' class="'+O+" language-"+O+'"':"")+">"+I+N+"</code></pre>",I=i.subParser("hashBlock")(I,w,v),`

¨G`+(v.ghCodeBlocks.push({text:S,codeblock:I})-1)+`G

`}),g=g.replace(/¨0/,""),v.converter._dispatch("githubCodeBlocks.after",g,w,v)):g}),i.subParser("hashBlock",function(g,w,v){return g=v.converter._dispatch("hashBlock.before",g,w,v),g=g.replace(/(^\n+|\n+$)/g,""),g=`

¨K`+(v.gHtmlBlocks.push(g)-1)+`K

`,g=v.converter._dispatch("hashBlock.after",g,w,v),g}),i.subParser("hashCodeTags",function(g,w,v){g=v.converter._dispatch("hashCodeTags.before",g,w,v);var S=function(T,O,I,N){var B=I+i.subParser("encodeCode")(O,w,v)+N;return"¨C"+(v.gHtmlSpans.push(B)-1)+"C"};return g=i.helper.replaceRecursiveRegExp(g,S,"<code\\b[^>]*>","</code>","gim"),g=v.converter._dispatch("hashCodeTags.after",g,w,v),g}),i.subParser("hashElement",function(g,w,v){return function(S,T){var O=T;return O=O.replace(/\n\n/g,`
`),O=O.replace(/^\n/,""),O=O.replace(/\n+$/g,""),O=`

¨K`+(v.gHtmlBlocks.push(O)-1)+`K

`,O}}),i.subParser("hashHTMLBlocks",function(g,w,v){g=v.converter._dispatch("hashHTMLBlocks.before",g,w,v);var S=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],T=function(R,z,H,ee){var G=R;return H.search(/\bmarkdown\b/)!==-1&&(G=H+v.converter.makeHtml(z)+ee),`

¨K`+(v.gHtmlBlocks.push(G)-1)+`K

`};w.backslashEscapesHTMLTags&&(g=g.replace(/\\<(\/?[^>]+?)>/g,function(R,z){return"&lt;"+z+"&gt;"}));for(var O=0;O<S.length;++O)for(var I,N=new RegExp("^ {0,3}(<"+S[O]+"\\b[^>]*>)","im"),B="<"+S[O]+"\\b[^>]*>",V="</"+S[O]+">";(I=i.helper.regexIndexOf(g,N))!==-1;){var W=i.helper.splitAtIndex(g,I),Z=i.helper.replaceRecursiveRegExp(W[1],T,B,V,"im");if(Z===W[1])break;g=W[0].concat(Z)}return g=g.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,i.subParser("hashElement")(g,w,v)),g=i.helper.replaceRecursiveRegExp(g,function(R){return`

¨K`+(v.gHtmlBlocks.push(R)-1)+`K

`},"^ {0,3}<!--","-->","gm"),g=g.replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,i.subParser("hashElement")(g,w,v)),g=v.converter._dispatch("hashHTMLBlocks.after",g,w,v),g}),i.subParser("hashHTMLSpans",function(g,w,v){g=v.converter._dispatch("hashHTMLSpans.before",g,w,v);function S(T){return"¨C"+(v.gHtmlSpans.push(T)-1)+"C"}return g=g.replace(/<[^>]+?\/>/gi,function(T){return S(T)}),g=g.replace(/<([^>]+?)>[\s\S]*?<\/\1>/g,function(T){return S(T)}),g=g.replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g,function(T){return S(T)}),g=g.replace(/<[^>]+?>/gi,function(T){return S(T)}),g=v.converter._dispatch("hashHTMLSpans.after",g,w,v),g}),i.subParser("unhashHTMLSpans",function(g,w,v){g=v.converter._dispatch("unhashHTMLSpans.before",g,w,v);for(var S=0;S<v.gHtmlSpans.length;++S){for(var T=v.gHtmlSpans[S],O=0;/¨C(\d+)C/.test(T);){var I=RegExp.$1;if(T=T.replace("¨C"+I+"C",v.gHtmlSpans[I]),O===10){console.error("maximum nesting of 10 spans reached!!!");break}++O}g=g.replace("¨C"+S+"C",T)}return g=v.converter._dispatch("unhashHTMLSpans.after",g,w,v),g}),i.subParser("hashPreCodeTags",function(g,w,v){g=v.converter._dispatch("hashPreCodeTags.before",g,w,v);var S=function(T,O,I,N){var B=I+i.subParser("encodeCode")(O,w,v)+N;return`

¨G`+(v.ghCodeBlocks.push({text:T,codeblock:B})-1)+`G

`};return g=i.helper.replaceRecursiveRegExp(g,S,"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim"),g=v.converter._dispatch("hashPreCodeTags.after",g,w,v),g}),i.subParser("headers",function(g,w,v){g=v.converter._dispatch("headers.before",g,w,v);var S=isNaN(parseInt(w.headerLevelStart))?1:parseInt(w.headerLevelStart),T=w.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,O=w.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;g=g.replace(T,function(B,V){var W=i.subParser("spanGamut")(V,w,v),Z=w.noHeaderId?"":' id="'+N(V)+'"',R=S,z="<h"+R+Z+">"+W+"</h"+R+">";return i.subParser("hashBlock")(z,w,v)}),g=g.replace(O,function(B,V){var W=i.subParser("spanGamut")(V,w,v),Z=w.noHeaderId?"":' id="'+N(V)+'"',R=S+1,z="<h"+R+Z+">"+W+"</h"+R+">";return i.subParser("hashBlock")(z,w,v)});var I=w.requireSpaceBeforeHeadingText?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm;g=g.replace(I,function(B,V,W){var Z=W;w.customizedHeaderId&&(Z=W.replace(/\s?\{([^{]+?)}\s*$/,""));var R=i.subParser("spanGamut")(Z,w,v),z=w.noHeaderId?"":' id="'+N(W)+'"',H=S-1+V.length,ee="<h"+H+z+">"+R+"</h"+H+">";return i.subParser("hashBlock")(ee,w,v)});function N(B){var V,W;if(w.customizedHeaderId){var Z=B.match(/\{([^{]+?)}\s*$/);Z&&Z[1]&&(B=Z[1])}return V=B,i.helper.isString(w.prefixHeaderId)?W=w.prefixHeaderId:w.prefixHeaderId===!0?W="section-":W="",w.rawPrefixHeaderId||(V=W+V),w.ghCompatibleHeaderId?V=V.replace(/ /g,"-").replace(/&amp;/g,"").replace(/¨T/g,"").replace(/¨D/g,"").replace(/[&+$,\/:;=?@"#{}|^¨~\[\]`\\*)(%.!'<>]/g,"").toLowerCase():w.rawHeaderId?V=V.replace(/ /g,"-").replace(/&amp;/g,"&").replace(/¨T/g,"¨").replace(/¨D/g,"$").replace(/["']/g,"-").toLowerCase():V=V.replace(/[^\w]/g,"").toLowerCase(),w.rawPrefixHeaderId&&(V=W+V),v.hashLinkCounts[V]?V=V+"-"+v.hashLinkCounts[V]++:v.hashLinkCounts[V]=1,V}return g=v.converter._dispatch("headers.after",g,w,v),g}),i.subParser("horizontalRule",function(g,w,v){g=v.converter._dispatch("horizontalRule.before",g,w,v);var S=i.subParser("hashBlock")("<hr />",w,v);return g=g.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,S),g=g.replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,S),g=g.replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,S),g=v.converter._dispatch("horizontalRule.after",g,w,v),g}),i.subParser("images",function(g,w,v){g=v.converter._dispatch("images.before",g,w,v);var S=/!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,T=/!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,O=/!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,I=/!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,N=/!\[([^\[\]]+)]()()()()()/g;function B(W,Z,R,z,H,ee,G,te){return z=z.replace(/\s/g,""),V(W,Z,R,z,H,ee,G,te)}function V(W,Z,R,z,H,ee,G,te){var we=v.gUrls,Te=v.gTitles,Ee=v.gDimensions;if(R=R.toLowerCase(),te||(te=""),W.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)z="";else if(z===""||z===null)if((R===""||R===null)&&(R=Z.toLowerCase().replace(/ ?\n/g," ")),z="#"+R,!i.helper.isUndefined(we[R]))z=we[R],i.helper.isUndefined(Te[R])||(te=Te[R]),i.helper.isUndefined(Ee[R])||(H=Ee[R].width,ee=Ee[R].height);else return W;Z=Z.replace(/"/g,"&quot;").replace(i.helper.regexes.asteriskDashAndColon,i.helper.escapeCharactersCallback),z=z.replace(i.helper.regexes.asteriskDashAndColon,i.helper.escapeCharactersCallback);var Ce='<img src="'+z+'" alt="'+Z+'"';return te&&i.helper.isString(te)&&(te=te.replace(/"/g,"&quot;").replace(i.helper.regexes.asteriskDashAndColon,i.helper.escapeCharactersCallback),Ce+=' title="'+te+'"'),H&&ee&&(H=H==="*"?"auto":H,ee=ee==="*"?"auto":ee,Ce+=' width="'+H+'"',Ce+=' height="'+ee+'"'),Ce+=" />",Ce}return g=g.replace(I,V),g=g.replace(O,B),g=g.replace(T,V),g=g.replace(S,V),g=g.replace(N,V),g=v.converter._dispatch("images.after",g,w,v),g}),i.subParser("italicsAndBold",function(g,w,v){g=v.converter._dispatch("italicsAndBold.before",g,w,v);function S(T,O,I){return O+T+I}return w.literalMidWordUnderscores?(g=g.replace(/\b___(\S[\s\S]*?)___\b/g,function(T,O){return S(O,"<strong><em>","</em></strong>")}),g=g.replace(/\b__(\S[\s\S]*?)__\b/g,function(T,O){return S(O,"<strong>","</strong>")}),g=g.replace(/\b_(\S[\s\S]*?)_\b/g,function(T,O){return S(O,"<em>","</em>")})):(g=g.replace(/___(\S[\s\S]*?)___/g,function(T,O){return/\S$/.test(O)?S(O,"<strong><em>","</em></strong>"):T}),g=g.replace(/__(\S[\s\S]*?)__/g,function(T,O){return/\S$/.test(O)?S(O,"<strong>","</strong>"):T}),g=g.replace(/_([^\s_][\s\S]*?)_/g,function(T,O){return/\S$/.test(O)?S(O,"<em>","</em>"):T})),w.literalMidWordAsterisks?(g=g.replace(/([^*]|^)\B\*\*\*(\S[\s\S]*?)\*\*\*\B(?!\*)/g,function(T,O,I){return S(I,O+"<strong><em>","</em></strong>")}),g=g.replace(/([^*]|^)\B\*\*(\S[\s\S]*?)\*\*\B(?!\*)/g,function(T,O,I){return S(I,O+"<strong>","</strong>")}),g=g.replace(/([^*]|^)\B\*(\S[\s\S]*?)\*\B(?!\*)/g,function(T,O,I){return S(I,O+"<em>","</em>")})):(g=g.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g,function(T,O){return/\S$/.test(O)?S(O,"<strong><em>","</em></strong>"):T}),g=g.replace(/\*\*(\S[\s\S]*?)\*\*/g,function(T,O){return/\S$/.test(O)?S(O,"<strong>","</strong>"):T}),g=g.replace(/\*([^\s*][\s\S]*?)\*/g,function(T,O){return/\S$/.test(O)?S(O,"<em>","</em>"):T})),g=v.converter._dispatch("italicsAndBold.after",g,w,v),g}),i.subParser("lists",function(g,w,v){function S(I,N){v.gListLevel++,I=I.replace(/\n{2,}$/,`
`),I+="¨0";var B=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(¨0| {0,3}([*+-]|\d+[.])[ \t]+))/gm,V=/\n[ \t]*\n(?!¨0)/.test(I);return w.disableForced4SpacesIndentedSublists&&(B=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(¨0|\2([*+-]|\d+[.])[ \t]+))/gm),I=I.replace(B,function(W,Z,R,z,H,ee,G){G=G&&G.trim()!=="";var te=i.subParser("outdent")(H,w,v),we="";return ee&&w.tasklists&&(we=' class="task-list-item" style="list-style-type: none;"',te=te.replace(/^[ \t]*\[(x|X| )?]/m,function(){var Te='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return G&&(Te+=" checked"),Te+=">",Te})),te=te.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,function(Te){return"¨A"+Te}),Z||te.search(/\n{2,}/)>-1?(te=i.subParser("githubCodeBlocks")(te,w,v),te=i.subParser("blockGamut")(te,w,v)):(te=i.subParser("lists")(te,w,v),te=te.replace(/\n$/,""),te=i.subParser("hashHTMLBlocks")(te,w,v),te=te.replace(/\n\n+/g,`

`),V?te=i.subParser("paragraphs")(te,w,v):te=i.subParser("spanGamut")(te,w,v)),te=te.replace("¨A",""),te="<li"+we+">"+te+`</li>
`,te}),I=I.replace(/¨0/g,""),v.gListLevel--,N&&(I=I.replace(/\s+$/,"")),I}function T(I,N){if(N==="ol"){var B=I.match(/^ *(\d+)\./);if(B&&B[1]!=="1")return' start="'+B[1]+'"'}return""}function O(I,N,B){var V=w.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,W=w.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,Z=N==="ul"?V:W,R="";if(I.search(Z)!==-1)(function H(ee){var G=ee.search(Z),te=T(I,N);G!==-1?(R+=`

<`+N+te+`>
`+S(ee.slice(0,G),!!B)+"</"+N+`>
`,N=N==="ul"?"ol":"ul",Z=N==="ul"?V:W,H(ee.slice(G))):R+=`

<`+N+te+`>
`+S(ee,!!B)+"</"+N+`>
`})(I);else{var z=T(I,N);R=`

<`+N+z+`>
`+S(I,!!B)+"</"+N+`>
`}return R}return g=v.converter._dispatch("lists.before",g,w,v),g+="¨0",v.gListLevel?g=g.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(I,N,B){var V=B.search(/[*+-]/g)>-1?"ul":"ol";return O(N,V,!0)}):g=g.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(I,N,B,V){var W=V.search(/[*+-]/g)>-1?"ul":"ol";return O(B,W,!1)}),g=g.replace(/¨0/,""),g=v.converter._dispatch("lists.after",g,w,v),g}),i.subParser("metadata",function(g,w,v){if(!w.metadata)return g;g=v.converter._dispatch("metadata.before",g,w,v);function S(T){v.metadata.raw=T,T=T.replace(/&/g,"&amp;").replace(/"/g,"&quot;"),T=T.replace(/\n {4}/g," "),T.replace(/^([\S ]+): +([\s\S]+?)$/gm,function(O,I,N){return v.metadata.parsed[I]=N,""})}return g=g.replace(/^\s*«««+(\S*?)\n([\s\S]+?)\n»»»+\n/,function(T,O,I){return S(I),"¨M"}),g=g.replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/,function(T,O,I){return O&&(v.metadata.format=O),S(I),"¨M"}),g=g.replace(/¨M/g,""),g=v.converter._dispatch("metadata.after",g,w,v),g}),i.subParser("outdent",function(g,w,v){return g=v.converter._dispatch("outdent.before",g,w,v),g=g.replace(/^(\t|[ ]{1,4})/gm,"¨0"),g=g.replace(/¨0/g,""),g=v.converter._dispatch("outdent.after",g,w,v),g}),i.subParser("paragraphs",function(g,w,v){g=v.converter._dispatch("paragraphs.before",g,w,v),g=g.replace(/^\n+/g,""),g=g.replace(/\n+$/g,"");for(var S=g.split(/\n{2,}/g),T=[],O=S.length,I=0;I<O;I++){var N=S[I];N.search(/¨(K|G)(\d+)\1/g)>=0?T.push(N):N.search(/\S/)>=0&&(N=i.subParser("spanGamut")(N,w,v),N=N.replace(/^([ \t]*)/g,"<p>"),N+="</p>",T.push(N))}for(O=T.length,I=0;I<O;I++){for(var B="",V=T[I],W=!1;/¨(K|G)(\d+)\1/.test(V);){var Z=RegExp.$1,R=RegExp.$2;Z==="K"?B=v.gHtmlBlocks[R]:W?B=i.subParser("encodeCode")(v.ghCodeBlocks[R].text,w,v):B=v.ghCodeBlocks[R].codeblock,B=B.replace(/\$/g,"$$$$"),V=V.replace(/(\n\n)?¨(K|G)\d+\2(\n\n)?/,B),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(V)&&(W=!0)}T[I]=V}return g=T.join(`
`),g=g.replace(/^\n+/g,""),g=g.replace(/\n+$/g,""),v.converter._dispatch("paragraphs.after",g,w,v)}),i.subParser("runExtension",function(g,w,v,S){if(g.filter)w=g.filter(w,S.converter,v);else if(g.regex){var T=g.regex;T instanceof RegExp||(T=new RegExp(T,"g")),w=w.replace(T,g.replace)}return w}),i.subParser("spanGamut",function(g,w,v){return g=v.converter._dispatch("spanGamut.before",g,w,v),g=i.subParser("codeSpans")(g,w,v),g=i.subParser("escapeSpecialCharsWithinTagAttributes")(g,w,v),g=i.subParser("encodeBackslashEscapes")(g,w,v),g=i.subParser("images")(g,w,v),g=i.subParser("anchors")(g,w,v),g=i.subParser("autoLinks")(g,w,v),g=i.subParser("simplifiedAutoLinks")(g,w,v),g=i.subParser("emoji")(g,w,v),g=i.subParser("underline")(g,w,v),g=i.subParser("italicsAndBold")(g,w,v),g=i.subParser("strikethrough")(g,w,v),g=i.subParser("ellipsis")(g,w,v),g=i.subParser("hashHTMLSpans")(g,w,v),g=i.subParser("encodeAmpsAndAngles")(g,w,v),w.simpleLineBreaks?/\n\n¨K/.test(g)||(g=g.replace(/\n+/g,`<br />
`)):g=g.replace(/  +\n/g,`<br />
`),g=v.converter._dispatch("spanGamut.after",g,w,v),g}),i.subParser("strikethrough",function(g,w,v){function S(T){return w.simplifiedAutoLink&&(T=i.subParser("simplifiedAutoLinks")(T,w,v)),"<del>"+T+"</del>"}return w.strikethrough&&(g=v.converter._dispatch("strikethrough.before",g,w,v),g=g.replace(/(?:~){2}([\s\S]+?)(?:~){2}/g,function(T,O){return S(O)}),g=v.converter._dispatch("strikethrough.after",g,w,v)),g}),i.subParser("stripLinkDefinitions",function(g,w,v){var S=/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=¨0))/gm,T=/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=¨0)|(?=\n\[))/gm;g+="¨0";var O=function(I,N,B,V,W,Z,R){return N=N.toLowerCase(),g.toLowerCase().split(N).length-1<2?I:(B.match(/^data:.+?\/.+?;base64,/)?v.gUrls[N]=B.replace(/\s/g,""):v.gUrls[N]=i.subParser("encodeAmpsAndAngles")(B,w,v),Z?Z+R:(R&&(v.gTitles[N]=R.replace(/"|'/g,"&quot;")),w.parseImgDimensions&&V&&W&&(v.gDimensions[N]={width:V,height:W}),""))};return g=g.replace(T,O),g=g.replace(S,O),g=g.replace(/¨0/,""),g}),i.subParser("tables",function(g,w,v){if(!w.tables)return g;var S=/^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|¨0)/gm,T=/^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|¨0)/gm;function O(W){return/^:[ \t]*--*$/.test(W)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(W)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(W)?' style="text-align:center;"':""}function I(W,Z){var R="";return W=W.trim(),(w.tablesHeaderId||w.tableHeaderId)&&(R=' id="'+W.replace(/ /g,"_").toLowerCase()+'"'),W=i.subParser("spanGamut")(W,w,v),"<th"+R+Z+">"+W+`</th>
`}function N(W,Z){var R=i.subParser("spanGamut")(W,w,v);return"<td"+Z+">"+R+`</td>
`}function B(W,Z){for(var R=`<table>
<thead>
<tr>
`,z=W.length,H=0;H<z;++H)R+=W[H];for(R+=`</tr>
</thead>
<tbody>
`,H=0;H<Z.length;++H){R+=`<tr>
`;for(var ee=0;ee<z;++ee)R+=Z[H][ee];R+=`</tr>
`}return R+=`</tbody>
</table>
`,R}function V(W){var Z,R=W.split(`
`);for(Z=0;Z<R.length;++Z)/^ {0,3}\|/.test(R[Z])&&(R[Z]=R[Z].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(R[Z])&&(R[Z]=R[Z].replace(/\|[ \t]*$/,"")),R[Z]=i.subParser("codeSpans")(R[Z],w,v);var z=R[0].split("|").map(function(Ce){return Ce.trim()}),H=R[1].split("|").map(function(Ce){return Ce.trim()}),ee=[],G=[],te=[],we=[];for(R.shift(),R.shift(),Z=0;Z<R.length;++Z)R[Z].trim()!==""&&ee.push(R[Z].split("|").map(function(Ce){return Ce.trim()}));if(z.length<H.length)return W;for(Z=0;Z<H.length;++Z)te.push(O(H[Z]));for(Z=0;Z<z.length;++Z)i.helper.isUndefined(te[Z])&&(te[Z]=""),G.push(I(z[Z],te[Z]));for(Z=0;Z<ee.length;++Z){for(var Te=[],Ee=0;Ee<G.length;++Ee)i.helper.isUndefined(ee[Z][Ee]),Te.push(N(ee[Z][Ee],te[Ee]));we.push(Te)}return B(G,we)}return g=v.converter._dispatch("tables.before",g,w,v),g=g.replace(/\\(\|)/g,i.helper.escapeCharactersCallback),g=g.replace(S,V),g=g.replace(T,V),g=v.converter._dispatch("tables.after",g,w,v),g}),i.subParser("underline",function(g,w,v){return w.underline&&(g=v.converter._dispatch("underline.before",g,w,v),w.literalMidWordUnderscores?(g=g.replace(/\b___(\S[\s\S]*?)___\b/g,function(S,T){return"<u>"+T+"</u>"}),g=g.replace(/\b__(\S[\s\S]*?)__\b/g,function(S,T){return"<u>"+T+"</u>"})):(g=g.replace(/___(\S[\s\S]*?)___/g,function(S,T){return/\S$/.test(T)?"<u>"+T+"</u>":S}),g=g.replace(/__(\S[\s\S]*?)__/g,function(S,T){return/\S$/.test(T)?"<u>"+T+"</u>":S})),g=g.replace(/(_)/g,i.helper.escapeCharactersCallback),g=v.converter._dispatch("underline.after",g,w,v)),g}),i.subParser("unescapeSpecialChars",function(g,w,v){return g=v.converter._dispatch("unescapeSpecialChars.before",g,w,v),g=g.replace(/¨E(\d+)E/g,function(S,T){var O=parseInt(T);return String.fromCharCode(O)}),g=v.converter._dispatch("unescapeSpecialChars.after",g,w,v),g}),i.subParser("makeMarkdown.blockquote",function(g,w){var v="";if(g.hasChildNodes())for(var S=g.childNodes,T=S.length,O=0;O<T;++O){var I=i.subParser("makeMarkdown.node")(S[O],w);I!==""&&(v+=I)}return v=v.trim(),v="> "+v.split(`
`).join(`
> `),v}),i.subParser("makeMarkdown.codeBlock",function(g,w){var v=g.getAttribute("language"),S=g.getAttribute("precodenum");return"```"+v+`
`+w.preList[S]+"\n```"}),i.subParser("makeMarkdown.codeSpan",function(g){return"`"+g.innerHTML+"`"}),i.subParser("makeMarkdown.emphasis",function(g,w){var v="";if(g.hasChildNodes()){v+="*";for(var S=g.childNodes,T=S.length,O=0;O<T;++O)v+=i.subParser("makeMarkdown.node")(S[O],w);v+="*"}return v}),i.subParser("makeMarkdown.header",function(g,w,v){var S=new Array(v+1).join("#"),T="";if(g.hasChildNodes()){T=S+" ";for(var O=g.childNodes,I=O.length,N=0;N<I;++N)T+=i.subParser("makeMarkdown.node")(O[N],w)}return T}),i.subParser("makeMarkdown.hr",function(){return"---"}),i.subParser("makeMarkdown.image",function(g){var w="";return g.hasAttribute("src")&&(w+="!["+g.getAttribute("alt")+"](",w+="<"+g.getAttribute("src")+">",g.hasAttribute("width")&&g.hasAttribute("height")&&(w+=" ="+g.getAttribute("width")+"x"+g.getAttribute("height")),g.hasAttribute("title")&&(w+=' "'+g.getAttribute("title")+'"'),w+=")"),w}),i.subParser("makeMarkdown.links",function(g,w){var v="";if(g.hasChildNodes()&&g.hasAttribute("href")){var S=g.childNodes,T=S.length;v="[";for(var O=0;O<T;++O)v+=i.subParser("makeMarkdown.node")(S[O],w);v+="](",v+="<"+g.getAttribute("href")+">",g.hasAttribute("title")&&(v+=' "'+g.getAttribute("title")+'"'),v+=")"}return v}),i.subParser("makeMarkdown.list",function(g,w,v){var S="";if(!g.hasChildNodes())return"";for(var T=g.childNodes,O=T.length,I=g.getAttribute("start")||1,N=0;N<O;++N)if(!(typeof T[N].tagName=="undefined"||T[N].tagName.toLowerCase()!=="li")){var B="";v==="ol"?B=I.toString()+". ":B="- ",S+=B+i.subParser("makeMarkdown.listItem")(T[N],w),++I}return S+=`
<!-- -->
`,S.trim()}),i.subParser("makeMarkdown.listItem",function(g,w){for(var v="",S=g.childNodes,T=S.length,O=0;O<T;++O)v+=i.subParser("makeMarkdown.node")(S[O],w);return/\n$/.test(v)?v=v.split(`
`).join(`
    `).replace(/^ {4}$/gm,"").replace(/\n\n+/g,`

`):v+=`
`,v}),i.subParser("makeMarkdown.node",function(g,w,v){v=v||!1;var S="";if(g.nodeType===3)return i.subParser("makeMarkdown.txt")(g,w);if(g.nodeType===8)return"<!--"+g.data+`-->

`;if(g.nodeType!==1)return"";var T=g.tagName.toLowerCase();switch(T){case"h1":v||(S=i.subParser("makeMarkdown.header")(g,w,1)+`

`);break;case"h2":v||(S=i.subParser("makeMarkdown.header")(g,w,2)+`

`);break;case"h3":v||(S=i.subParser("makeMarkdown.header")(g,w,3)+`

`);break;case"h4":v||(S=i.subParser("makeMarkdown.header")(g,w,4)+`

`);break;case"h5":v||(S=i.subParser("makeMarkdown.header")(g,w,5)+`

`);break;case"h6":v||(S=i.subParser("makeMarkdown.header")(g,w,6)+`

`);break;case"p":v||(S=i.subParser("makeMarkdown.paragraph")(g,w)+`

`);break;case"blockquote":v||(S=i.subParser("makeMarkdown.blockquote")(g,w)+`

`);break;case"hr":v||(S=i.subParser("makeMarkdown.hr")(g,w)+`

`);break;case"ol":v||(S=i.subParser("makeMarkdown.list")(g,w,"ol")+`

`);break;case"ul":v||(S=i.subParser("makeMarkdown.list")(g,w,"ul")+`

`);break;case"precode":v||(S=i.subParser("makeMarkdown.codeBlock")(g,w)+`

`);break;case"pre":v||(S=i.subParser("makeMarkdown.pre")(g,w)+`

`);break;case"table":v||(S=i.subParser("makeMarkdown.table")(g,w)+`

`);break;case"code":S=i.subParser("makeMarkdown.codeSpan")(g,w);break;case"em":case"i":S=i.subParser("makeMarkdown.emphasis")(g,w);break;case"strong":case"b":S=i.subParser("makeMarkdown.strong")(g,w);break;case"del":S=i.subParser("makeMarkdown.strikethrough")(g,w);break;case"a":S=i.subParser("makeMarkdown.links")(g,w);break;case"img":S=i.subParser("makeMarkdown.image")(g,w);break;default:S=g.outerHTML+`

`}return S}),i.subParser("makeMarkdown.paragraph",function(g,w){var v="";if(g.hasChildNodes())for(var S=g.childNodes,T=S.length,O=0;O<T;++O)v+=i.subParser("makeMarkdown.node")(S[O],w);return v=v.trim(),v}),i.subParser("makeMarkdown.pre",function(g,w){var v=g.getAttribute("prenum");return"<pre>"+w.preList[v]+"</pre>"}),i.subParser("makeMarkdown.strikethrough",function(g,w){var v="";if(g.hasChildNodes()){v+="~~";for(var S=g.childNodes,T=S.length,O=0;O<T;++O)v+=i.subParser("makeMarkdown.node")(S[O],w);v+="~~"}return v}),i.subParser("makeMarkdown.strong",function(g,w){var v="";if(g.hasChildNodes()){v+="**";for(var S=g.childNodes,T=S.length,O=0;O<T;++O)v+=i.subParser("makeMarkdown.node")(S[O],w);v+="**"}return v}),i.subParser("makeMarkdown.table",function(g,w){var v="",S=[[],[]],T=g.querySelectorAll("thead>tr>th"),O=g.querySelectorAll("tbody>tr"),I,N;for(I=0;I<T.length;++I){var B=i.subParser("makeMarkdown.tableCell")(T[I],w),V="---";if(T[I].hasAttribute("style")){var W=T[I].getAttribute("style").toLowerCase().replace(/\s/g,"");switch(W){case"text-align:left;":V=":---";break;case"text-align:right;":V="---:";break;case"text-align:center;":V=":---:";break}}S[0][I]=B.trim(),S[1][I]=V}for(I=0;I<O.length;++I){var Z=S.push([])-1,R=O[I].getElementsByTagName("td");for(N=0;N<T.length;++N){var z=" ";typeof R[N]!="undefined"&&(z=i.subParser("makeMarkdown.tableCell")(R[N],w)),S[Z].push(z)}}var H=3;for(I=0;I<S.length;++I)for(N=0;N<S[I].length;++N){var ee=S[I][N].length;ee>H&&(H=ee)}for(I=0;I<S.length;++I){for(N=0;N<S[I].length;++N)I===1?S[I][N].slice(-1)===":"?S[I][N]=i.helper.padEnd(S[I][N].slice(-1),H-1,"-")+":":S[I][N]=i.helper.padEnd(S[I][N],H,"-"):S[I][N]=i.helper.padEnd(S[I][N],H);v+="| "+S[I].join(" | ")+` |
`}return v.trim()}),i.subParser("makeMarkdown.tableCell",function(g,w){var v="";if(!g.hasChildNodes())return"";for(var S=g.childNodes,T=S.length,O=0;O<T;++O)v+=i.subParser("makeMarkdown.node")(S[O],w,!0);return v.trim()}),i.subParser("makeMarkdown.txt",function(g){var w=g.nodeValue;return w=w.replace(/ +/g," "),w=w.replace(/¨NBSP;/g," "),w=i.helper.unescapeHTMLEntities(w),w=w.replace(/([*_~|`])/g,"\\$1"),w=w.replace(/^(\s*)>/g,"\\$1>"),w=w.replace(/^#/gm,"\\#"),w=w.replace(/^(\s*)([-=]{3,})(\s*)$/,"$1\\$2$3"),w=w.replace(/^( {0,3}\d+)\./gm,"$1\\."),w=w.replace(/^( {0,3})([+-])/gm,"$1\\$2"),w=w.replace(/]([\s]*)\(/g,"\\]$1\\("),w=w.replace(/^ {0,3}\[([\S \t]*?)]:/gm,"\\[$1]:"),w});var A=this;n.exports?n.exports=i:A.showdown=i}).call(Dm)})(wk);var SF=wk.exports;const mH=Im(SF);pe([]);let Hf=document.querySelector('link[rel="icon"]');Hf==null||Hf.href;function kk(n){let e=Object.assign({},n);if(!e.url)throw new Error("[request] options.url is required");e.transformRequest&&(e=e.transformRequest(n)),e.responseType||(e.responseType="json"),e.method||(e.method="GET");let t=e.url,i;if(e.params)if(e.method==="GET"){let s=new URLSearchParams;for(let r in e.params)s.append(r,e.params[r]);t=e.url+"?"+s.toString()}else i=JSON.stringify(e.params);return fetch(t,{method:e.method||"GET",headers:e.headers,body:i}).then(s=>{if(e.transformResponse)return e.transformResponse(s,e);if(s.status>=200&&s.status<300)return e.responseType==="json"?s.json():s;{let r=new Error(s.statusText);throw r.response=s,r}}).catch(s=>{if(e.transformError)return e.transformError(s);throw s})}function eh(n){return new Promise((e,t)=>{n.oncomplete=n.onsuccess=()=>e(n.result),n.onabort=n.onerror=()=>t(n.error)})}function MF(n,e){const t=indexedDB.open(n);t.onupgradeneeded=()=>t.result.createObjectStore(e);const i=eh(t);return(s,r)=>i.then(o=>r(o.transaction(e,s).objectStore(e)))}let Vf;function Ag(){return Vf||(Vf=MF("keyval-store","keyval")),Vf}function CF(n,e=Ag()){return e("readonly",t=>eh(t.get(n)))}function TF(n,e,t=Ag()){return t("readwrite",i=>(i.put(e,n),eh(i.transaction)))}function PF(n,e=Ag()){return e("readwrite",t=>(t.delete(n),eh(t.transaction)))}function Og(n,e){return typeof indexedDB=="undefined"?Promise.resolve(null):n?TF(n,JSON.stringify(e)):Promise.resolve()}function EF(n){return typeof indexedDB=="undefined"?Promise.resolve(null):n?PF(n):Promise.resolve()}function Lg(n){return typeof indexedDB=="undefined"?Promise.resolve(null):CF(n).then(e=>e&&JSON.parse(e))}let Sk={};function AF(n,e){Sk[n]=e}function ci(n){return Sk[n]||null}let Mu={};function Bn(n,e){let t=null;if(n.cache){t=oa(n.cache);let f=Mu[t];if(f)return f.auto&&f.reload(),f}typeof n=="string"&&(n={url:n,auto:!0});let i=n.debounce?Dx(r,n.debounce):r,s=Vi({method:n.method,url:n.url,data:n.initialData||null,previousData:null,loading:!1,fetched:!1,error:null,promise:null,auto:n.auto,params:null,fetch:i,reload:i,submit:i,reset:a,update:o,setData:u});function r(m){return Ke(this,arguments,function*(f,p={}){let _=n.resourceFetcher||ci("resourceFetcher")||kk;f instanceof Event&&(f=null),f=f||s.params,n.makeParams&&(f=n.makeParams.call(e,f)),s.params=f,s.previousData=s.data?JSON.parse(JSON.stringify(s.data)):null,s.loading=!0,s.error=null,n.onFetch&&n.onFetch.call(e,s.params);let b=[n.beforeSubmit,p.beforeSubmit];for(let g of b)g&&g.call(e,s.params);let k=p.validate||n.validate,M=[n.onError,p.onError],E=[n.onSuccess,p.onSuccess],A=[n.onData,p.onData];if(k){let g;try{if(g=yield k.call(e,s.params),g&&typeof g=="string")throw new Error(g)}catch(w){l(w,M);return}}try{s.promise=_($e(ce({},n),{params:f||n.params}));let g=yield s.promise;Og(t,g),s.data=d(g),s.fetched=!0;for(let w of E)w&&w.call(e,g);for(let w of A)w&&w.call(e,g)}catch(g){l(g,M)}return s.loading=!1,s.data})}function o({method:f,url:p,params:m,auto:_}){f&&f!==n.method&&(s.method=f),p&&p!==n.url&&(s.url=p),m&&m!==n.params&&(s.params=m),_!==void 0&&_!==s.auto&&(s.auto=_)}function a(){s.data=n.initialData||null,s.previousData=null,s.loading=!1,s.fetched=!1,s.error=null,s.params=null,s.auto=n.auto}function l(f,p){s.loading=!1,s.previousData&&(s.data=s.previousData),s.error=f;for(let m of p)m&&m.call(e,f);if(p.every(m=>m==null)){let m=ci("fallbackErrorHandler");if(m)try{m(f)}catch(_){console.warn("Error in fallbackErrorHandler",_)}}throw f}function u(f){typeof f=="function"&&(f=f.call(e,s.data)),s.data=d(f)}function d(f){if(n.transform){let p=n.transform.call(e,f);if(p!=null)return p}return f}return t&&!Mu[t]&&(Mu[t]=s,Lg(t).then(f=>{var p;(s.loading||!s.fetched)&&f&&(u(f),(p=n.onData)==null||p.call(e,f))})),n.auto&&s.fetch(),s}function oa(n){return n?(typeof n=="string"&&(n=[n]),JSON.stringify(n)):null}function OF(n){return n=oa(n),Mu[n]||null}function Mk(n,e,t){LF(n,e),n.on("list_update",i=>{i.doctype==e&&t(i.name)})}let Fv={};function LF(n,e){Fv[e]||(n.emit("doctype_subscribe",e),Fv[e]=!0)}let om=Vi({}),Ho={};function RF(n,e){var M,E,A,g,w;if(!n.doctype)throw new Error("List resource requires doctype");let t=oa(n.cache);if(t){let v=om[t];if(v)return v.auto&&v.reload(),v}let i=ci("defaultListUrl")||"frappe.client.get_list",s=ci("defaultDocInsertUrl")||"frappe.client.insert",r=ci("defaultDocUpdateUrl")||"frappe.client.set_value",o=ci("defaultDocDeleteUrl")||"frappe.client.delete",a=ci("defaultRunDocMethodUrl")||"run_doc_method",l=Vi({doctype:n.doctype,fields:n.fields,filters:n.filters,orFilters:n.orFilters,orderBy:n.orderBy,start:n.start||0,pageLength:n.pageLength||20,groupBy:n.groupBy,parent:n.parent,debug:n.debug||0,originalData:null,dataMap:{},data:null,previous:_,hasPreviousPage:!1,next:b,hasNextPage:!0,auto:n.auto,list:Bn({url:n.url||i,makeParams(){return{doctype:l.doctype,fields:l.fields,filters:l.filters,or_filters:l.orFilters,order_by:l.orderBy,start:l.start,limit:l.pageLength,limit_start:l.start,limit_page_length:l.pageLength,group_by:l.groupBy,parent:l.parent,debug:l.debug}},onSuccess(v){var T;l.hasPreviousPage=!!l.start,l.hasNextPage=!(v.length<l.pageLength);let S;!l.start||l.start==0?S=v:l.start>0&&(S=l.originalData.concat(v)),Og(t,S),m(S),(T=n.onSuccess)==null||T.call(e,l.data)},onError:n.onError},e),fetchOne:Bn({url:n.url||i,makeParams(v){return{doctype:l.doctype,fields:l.fields||"*",filters:{name:v}}},onSuccess(v){var S,T;if(v.length>0&&l.originalData){let O=v[0];ml(l.doctype,O)}(T=(S=n.fetchOne)==null?void 0:S.onSuccess)==null||T.call(e,l.data)},onError:(M=n.fetchOne)==null?void 0:M.onError},e),insert:Bn({url:s,makeParams(v){return{doc:ce({doctype:l.doctype},v)}},onSuccess(v){var S,T;l.list.fetch(),(T=(S=n.insert)==null?void 0:S.onSuccess)==null||T.call(e,v)},onError:(E=n.insert)==null?void 0:E.onError},e),setValue:Bn({url:r,makeParams(v){let O=v,{name:S}=O,T=wa(O,["name"]);return{doctype:l.doctype,name:S,fieldname:T}},onSuccess(v){var S,T;ml(l.doctype,v),(T=(S=n.setValue)==null?void 0:S.onSuccess)==null||T.call(e,v)},onError:(A=n.setValue)==null?void 0:A.onError},e),delete:Bn({url:o,makeParams(v){return{doctype:l.doctype,name:v}},onSuccess(v){var S,T;l.list.fetch(),(T=(S=n.delete)==null?void 0:S.onSuccess)==null||T.call(e,v)},onError:(g=n.delete)==null?void 0:g.onError},e),runDocMethod:Bn({url:a,makeParams(O){var I=O,{method:v,name:S}=I,T=wa(I,["method","name"]);return{dt:l.doctype,dn:S,method:v,args:T}},onSuccess(v){var S,T;if(v.docs)for(let O of v.docs)ml(O.doctype,O);(T=(S=n.runDocMethod)==null?void 0:S.onSuccess)==null||T.call(e,v)},onError:(w=n.runDocMethod)==null?void 0:w.onError},e),update:u,fetch:p,reload:f,setData:m,transform:d,getRow:k});function u(v){Object.assign(l,v)}function d(v){if(n.transform){let S=n.transform.call(e,v);if(S!=null)return S}return v}function f(){let v=l.start,S=l.pageLength;return l.start>0&&(l.start=0,l.pageLength=l.originalData.length),l.list.fetch().finally(()=>{l.start=v,l.pageLength=S})}function p(){f()}function m(v){if(l.originalData=v,typeof v=="function"&&(v=v.call(e,l.data)),l.data=d(v),Array.isArray(l.data)){l.dataMap={};for(let S of l.data){if(!S.name)continue;let T=S.name.toString();l.dataMap[T]=S}}}function _(){l.start=l.start-l.pageLength,l.list.fetch()}function b(){l.start=l.start+l.pageLength,l.list.fetch()}function k(v){let S=v.toString();return l.dataMap[S]}return n.realtime&&(e!=null&&e.$socket)&&Mk(e.$socket,l.doctype,v=>{var S;(S=l.originalData)!=null&&S.find(T=>T.name===v)&&l.fetchOne.submit(v)}),t&&(om[t]=l,Lg(t).then(v=>{var S;(l.list.loading||!l.list.fetched)&&v&&(m(v),(S=n.onData)==null||S.call(e,v))})),n.auto&&l.list.fetch(),Ho[l.doctype]=Ho[l.doctype]||[],Ho[l.doctype].push(l),l}function DF(n){return n=oa(n),om[n]||null}function ml(n,e){if(!e.name)return;let t=Ho[n]||[];for(let i of t)if(i.originalData){for(let s of i.originalData)if(s.name&&s.name==e.name){delete s._previousData;let r=JSON.stringify(s);for(let o in s)o in e&&(s[o]=e[o]);s._previousData=r}i.data=i.transform(i.originalData)}}function IF(n,e){let t=Ho[n]||[];for(let i of t)i.originalData&&(i.originalData=i.originalData.filter(s=>s.name.toString()!==e.toString()),i.data=i.transform(i.originalData))}function jF(n,e){let t=Ho[n]||[];for(let i of t)if(i.originalData){for(let s of i.originalData)if(s.name&&s.name==e.name){let r=JSON.parse(s._previousData);for(let o in s)s[o]=r[o];delete s._previousData}i.data=i.transform(i.originalData)}}let am=Vi({});function NF(n,e){var _;if(!(n.doctype&&n.name))return;let t=oa([n.doctype,n.name]),i=am[t];if(i)return i.auto&&i.reload(),i;let s=ci("defaultDocGetUrl")||"frappe.client.get",r=ci("defaultDocUpdateUrl")||"frappe.client.set_value",o=ci("defaultDocDeleteUrl")||"frappe.client.delete",a=ci("defaultRunDocMethodUrl")||"run_doc_method",l={url:r,makeParams(k){return{doctype:d.doctype,name:d.name,fieldname:k}},beforeSubmit(k){d.previousDoc=JSON.stringify(d.doc),Object.assign(d.doc,k.fieldname||{}),ml(d.doctype,d.doc)},onSuccess(k){var M,E;d.doc=m(k),d.originalDoc=JSON.parse(JSON.stringify(d.doc)),(E=(M=n.setValue)==null?void 0:M.onSuccess)==null||E.call(e,k)},onError(k){var M,E;d.doc=JSON.parse(d.previousDoc),(E=(M=n.setValue)==null?void 0:M.onError)==null||E.call(e,k),jF(d.doctype,d.doc)}};const u=n.auto!==void 0;let d=Vi({doctype:n.doctype,name:n.name,doc:null,originalDoc:null,isDirty:!1,auto:u?n.auto:!0,get:Bn({url:s,makeParams(){return{doctype:d.doctype,name:d.name}},onSuccess(k){var M;Og(t,k),d.doc=m(k),d.originalDoc=JSON.parse(JSON.stringify(d.doc)),(M=n.onSuccess)==null||M.call(e,d.doc)},onError(k){var M;EF(t),d.doc=null,d.originalDoc=null,(M=n.onError)==null||M.call(e,k)}},e),setValue:Bn(l,e),setValueDebounced:Bn($e(ce({},l),{debounce:n.debounce||500}),e),save:Bn($e(ce({},l),{makeParams(){let k=JSON.parse(JSON.stringify(d.doc));return delete k.doctype,delete k.name,{doctype:d.doctype,name:d.name,fieldname:k}}}),e),delete:Bn({url:o,makeParams(){return{doctype:d.doctype,name:d.name}},onSuccess(){var k,M;d.doc=null,(M=(k=n.delete)==null?void 0:k.onSuccess)==null||M.call(e),IF(d.doctype,d.name)},onError:(_=n.delete)==null?void 0:_.onError},e),reload:f,setDoc:p});fi(()=>d.doc,()=>{d.isDirty=JSON.stringify(d.doc)!==JSON.stringify(d.originalDoc)},{deep:!0});for(let k in n.whitelistedMethods){let M=n.whitelistedMethods[k];typeof M=="string"&&(M={method:M});let b=M,{method:E,onSuccess:A,makeParams:g,transform:w}=b,v=wa(b,["method","onSuccess","makeParams","transform"]);d[k]=Bn(ce({url:a,makeParams(S){return S=g?g.call(e,S):S,{dt:d.doctype,dn:d.name,method:E,args:S}},transform(S){if(w){let T=w.call(e,S.message);if(T!=null)return T}return S.message},onSuccess(S){if(S.docs){for(let T of S.docs)if(T.doctype===d.doctype&&T.name.toString()===d.name.toString()){d.doc=m(T),ml(d.doctype,d.doc);break}}A==null||A.call(e,S.message)}},v),e)}function f(){return d.get.fetch()}function p(k){typeof k=="function"&&(k=k.call(e,d.doc)),d.doc=m(k)}function m(k){if(n.transform){let M=n.transform.call(e,k);if(typeof M=="object")return M}return k}return n.realtime&&e.$socket&&Mk(e.$socket,d.doctype,k=>{k==d.name&&d.get.fetch()}),am[t]=d,Lg(t).then(k=>{(d.get.loading||!d.get.fetched)&&k&&(d.doc=m(k))}),d.auto&&d.get.fetch(),d}function zF(n,e){let t=oa([n,e]);return am[t]||null}let BF=n=>({created(){if(this.$options.resources){this._resources=Vi({});for(let e in this.$options.resources){let t=this.$options.resources[e];if(typeof t=="function")fi(()=>{let i=null;try{i=t.call(this)}catch(s){console.warn(`Failed to get resource options

`,s),i=null}return i},(i,s)=>{!i||!(!s||JSON.stringify(i)!==JSON.stringify(s))||(this._resources[e]=$v(i,this))},{immediate:!0,deep:!0});else{let i=$v(t,this);this._resources[e]=i}}}},methods:{$getResource(e){return OF(e)},$getDocumentResource(e,t){return zF(e,t)},$getDoc(e,t){let i=this.$getDocumentResource(e,t);return i?i.doc:null},$getListResource(e){return DF(e)},$refetchResource(e){let t=this.$getResource(e);t&&t.fetch()}},computed:{$resources(){return this._resources}}});function $v(n,e){return n.type==="document"?NF(n,e):n.type==="list"?RF(n,e):Bn(n,e)}const FF={install(n,e){let t=BF();n.mixin(t)}};function $F(n){return kk($e(ce({},n),{transformRequest:(e={})=>{if(!e.url)throw new Error("[frappeRequest] options.url is required");let t=Object.assign({Accept:"application/json","Content-Type":"application/json; charset=utf-8","X-Frappe-Site-Name":window.location.hostname},e.headers||{});return window.csrf_token&&window.csrf_token!=="{{ csrf_token }}"&&(t["X-Frappe-CSRF-Token"]=window.csrf_token),!e.url.startsWith("/")&&!e.url.startsWith("http")&&(e.url="/api/method/"+e.url),$e(ce({},e),{method:e.method||"POST",headers:t})},transformResponse:(e,t)=>Ke(this,null,function*(){let i=t.url;if(e.ok){const s=yield e.json();if(s.docs||i==="/api/method/login")return s;if(s.exc)try{console.groupCollapsed(i),console.log(t);let r=JSON.parse(s.exc);for(let o of r)console.log(o);console.groupEnd()}catch(r){console.warn("Error printing debug messages",r)}return s.message}else{let s=yield e.text(),r,o;try{r=JSON.parse(s)}catch(u){}let a=[[t.url,r.exc_type,r._error_message].filter(Boolean).join(" ")];if(r.exc){o=r.exc;try{o=JSON.parse(o)[0],console.log(o)}catch(u){}}let l=new Error(a.join(`
`));throw l.exc_type=r.exc_type,l.exc=o,l.response=e,l.status=s.status,l.messages=r._server_messages?JSON.parse(r._server_messages):[],l.messages=l.messages.concat(r.message),l.messages=l.messages.map(u=>{try{return JSON.parse(u).message}catch(d){return u}}),l.messages=l.messages.filter(Boolean),l.messages.length||(l.messages=r._error_message?[r._error_message]:["Internal Server Error"]),t.onError&&t.onError(l),l}}),transformError:e=>{throw n.onError&&n.onError(e),e}}))}const Hi=Object.create(null);Hi.open="0";Hi.close="1";Hi.ping="2";Hi.pong="3";Hi.message="4";Hi.upgrade="5";Hi.noop="6";const Cu=Object.create(null);Object.keys(Hi).forEach(n=>{Cu[Hi[n]]=n});const HF={type:"error",data:"parser error"},VF=typeof Blob=="function"||typeof Blob!="undefined"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",WF=typeof ArrayBuffer=="function",UF=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,Ck=({type:n,data:e},t,i)=>VF&&e instanceof Blob?t?i(e):Hv(e,i):WF&&(e instanceof ArrayBuffer||UF(e))?t?i(e):Hv(new Blob([e]),i):i(Hi[n]+(e||"")),Hv=(n,e)=>{const t=new FileReader;return t.onload=function(){const i=t.result.split(",")[1];e("b"+(i||""))},t.readAsDataURL(n)},Vv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ka=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(let n=0;n<Vv.length;n++)Ka[Vv.charCodeAt(n)]=n;const ZF=n=>{let e=n.length*.75,t=n.length,i,s=0,r,o,a,l;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);const u=new ArrayBuffer(e),d=new Uint8Array(u);for(i=0;i<t;i+=4)r=Ka[n.charCodeAt(i)],o=Ka[n.charCodeAt(i+1)],a=Ka[n.charCodeAt(i+2)],l=Ka[n.charCodeAt(i+3)],d[s++]=r<<2|o>>4,d[s++]=(o&15)<<4|a>>2,d[s++]=(a&3)<<6|l&63;return u},KF=typeof ArrayBuffer=="function",Tk=(n,e)=>{if(typeof n!="string")return{type:"message",data:Pk(n,e)};const t=n.charAt(0);return t==="b"?{type:"message",data:qF(n.substring(1),e)}:Cu[t]?n.length>1?{type:Cu[t],data:n.substring(1)}:{type:Cu[t]}:HF},qF=(n,e)=>{if(KF){const t=ZF(n);return Pk(t,e)}else return{base64:!0,data:n}},Pk=(n,e)=>{switch(e){case"blob":return n instanceof ArrayBuffer?new Blob([n]):n;case"arraybuffer":default:return n}},Ek="",GF=(n,e)=>{const t=n.length,i=new Array(t);let s=0;n.forEach((r,o)=>{Ck(r,!1,a=>{i[o]=a,++s===t&&e(i.join(Ek))})})},JF=(n,e)=>{const t=n.split(Ek),i=[];for(let s=0;s<t.length;s++){const r=Tk(t[s],e);if(i.push(r),r.type==="error")break}return i},Ak=4;function Nt(n){if(n)return YF(n)}function YF(n){for(var e in Nt.prototype)n[e]=Nt.prototype[e];return n}Nt.prototype.on=Nt.prototype.addEventListener=function(n,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(e),this};Nt.prototype.once=function(n,e){function t(){this.off(n,t),e.apply(this,arguments)}return t.fn=e,this.on(n,t),this};Nt.prototype.off=Nt.prototype.removeListener=Nt.prototype.removeAllListeners=Nt.prototype.removeEventListener=function(n,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+n];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var i,s=0;s<t.length;s++)if(i=t[s],i===e||i.fn===e){t.splice(s,1);break}return t.length===0&&delete this._callbacks["$"+n],this};Nt.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+n],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(t){t=t.slice(0);for(var i=0,s=t.length;i<s;++i)t[i].apply(this,e)}return this};Nt.prototype.emitReserved=Nt.prototype.emit;Nt.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]};Nt.prototype.hasListeners=function(n){return!!this.listeners(n).length};const Yn=typeof self!="undefined"?self:typeof window!="undefined"?window:Function("return this")();function Ok(n,...e){return e.reduce((t,i)=>(n.hasOwnProperty(i)&&(t[i]=n[i]),t),{})}const XF=Yn.setTimeout,QF=Yn.clearTimeout;function th(n,e){e.useNativeTimers?(n.setTimeoutFn=XF.bind(Yn),n.clearTimeoutFn=QF.bind(Yn)):(n.setTimeoutFn=Yn.setTimeout.bind(Yn),n.clearTimeoutFn=Yn.clearTimeout.bind(Yn))}const e$=1.33;function t$(n){return typeof n=="string"?n$(n):Math.ceil((n.byteLength||n.size)*e$)}function n$(n){let e=0,t=0;for(let i=0,s=n.length;i<s;i++)e=n.charCodeAt(i),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(i++,t+=4);return t}class i$ extends Error{constructor(e,t,i){super(e),this.description=t,this.context=i,this.type="TransportError"}}class Lk extends Nt{constructor(e){super(),this.writable=!1,th(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,t,i){return super.emitReserved("error",new i$(e,t,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=Tk(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}}const Rk="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),lm=64,s$={};let Wv=0,Yc=0,Uv;function Zv(n){let e="";do e=Rk[n%lm]+e,n=Math.floor(n/lm);while(n>0);return e}function Dk(){const n=Zv(+new Date);return n!==Uv?(Wv=0,Uv=n):n+"."+Zv(Wv++)}for(;Yc<lm;Yc++)s$[Rk[Yc]]=Yc;function Ik(n){let e="";for(let t in n)n.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return e}function r$(n){let e={},t=n.split("&");for(let i=0,s=t.length;i<s;i++){let r=t[i].split("=");e[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return e}let jk=!1;try{jk=typeof XMLHttpRequest!="undefined"&&"withCredentials"in new XMLHttpRequest}catch(n){}const o$=jk;function Nk(n){const e=n.xdomain;try{if(typeof XMLHttpRequest!="undefined"&&(!e||o$))return new XMLHttpRequest}catch(t){}if(!e)try{return new Yn[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(t){}}function a$(){}const l$=function(){return new Nk({xdomain:!1}).responseType!=null}();class c$ extends Lk{constructor(e){if(super(e),this.polling=!1,typeof location!="undefined"){const i=location.protocol==="https:";let s=location.port;s||(s=i?"443":"80"),this.xd=typeof location!="undefined"&&e.hostname!==location.hostname||s!==e.port,this.xs=e.secure!==i}const t=e&&e.forceBase64;this.supportsBinary=l$&&!t}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let i=0;this.polling&&(i++,this.once("pollComplete",function(){--i||t()})),this.writable||(i++,this.once("drain",function(){--i||t()}))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const t=i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)};JF(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,GF(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.query||{};const t=this.opts.secure?"https":"http";let i="";this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=Dk()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.opts.port&&(t==="https"&&Number(this.opts.port)!==443||t==="http"&&Number(this.opts.port)!==80)&&(i=":"+this.opts.port);const s=Ik(e),r=this.opts.hostname.indexOf(":")!==-1;return t+"://"+(r?"["+this.opts.hostname+"]":this.opts.hostname)+i+this.opts.path+(s.length?"?"+s:"")}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new Fi(this.uri(),e)}doWrite(e,t){const i=this.request({method:"POST",data:e});i.on("success",t),i.on("error",(s,r)=>{this.onError("xhr post error",s,r)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,i)=>{this.onError("xhr poll error",t,i)}),this.pollXhr=e}}class Fi extends Nt{constructor(e,t){super(),th(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.async=t.async!==!1,this.data=t.data!==void 0?t.data:null,this.create()}create(){const e=Ok(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;const t=this.xhr=new Nk(e);try{t.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0);for(let i in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&t.setRequestHeader(i,this.opts.extraHeaders[i])}}catch(i){}if(this.method==="POST")try{t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(i){}try{t.setRequestHeader("Accept","*/*")}catch(i){}"withCredentials"in t&&(t.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(t.timeout=this.opts.requestTimeout),t.onreadystatechange=()=>{t.readyState===4&&(t.status===200||t.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof t.status=="number"?t.status:0)},0))},t.send(this.data)}catch(i){this.setTimeoutFn(()=>{this.onError(i)},0);return}typeof document!="undefined"&&(this.index=Fi.requestsCount++,Fi.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr=="undefined"||this.xhr===null)){if(this.xhr.onreadystatechange=a$,e)try{this.xhr.abort()}catch(t){}typeof document!="undefined"&&delete Fi.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}Fi.requestsCount=0;Fi.requests={};if(typeof document!="undefined"){if(typeof attachEvent=="function")attachEvent("onunload",Kv);else if(typeof addEventListener=="function"){const n="onpagehide"in Yn?"pagehide":"unload";addEventListener(n,Kv,!1)}}function Kv(){for(let n in Fi.requests)Fi.requests.hasOwnProperty(n)&&Fi.requests[n].abort()}const zk=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Xc=Yn.WebSocket||Yn.MozWebSocket,qv=!0,u$="arraybuffer",Gv=typeof navigator!="undefined"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class d$ extends Lk{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,i=Gv?{}:Ok(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=qv&&!Gv?t?new Xc(e,t):new Xc(e):new Xc(e,t,i)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType||u$,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const i=e[t],s=t===e.length-1;Ck(i,this.supportsBinary,r=>{const o={};try{qv&&this.ws.send(r)}catch(a){}s&&zk(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws!="undefined"&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{};const t=this.opts.secure?"wss":"ws";let i="";this.opts.port&&(t==="wss"&&Number(this.opts.port)!==443||t==="ws"&&Number(this.opts.port)!==80)&&(i=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=Dk()),this.supportsBinary||(e.b64=1);const s=Ik(e),r=this.opts.hostname.indexOf(":")!==-1;return t+"://"+(r?"["+this.opts.hostname+"]":this.opts.hostname)+i+this.opts.path+(s.length?"?"+s:"")}check(){return!!Xc}}const h$={websocket:d$,polling:c$},f$=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,p$=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function cm(n){const e=n,t=n.indexOf("["),i=n.indexOf("]");t!=-1&&i!=-1&&(n=n.substring(0,t)+n.substring(t,i).replace(/:/g,";")+n.substring(i,n.length));let s=f$.exec(n||""),r={},o=14;for(;o--;)r[p$[o]]=s[o]||"";return t!=-1&&i!=-1&&(r.source=e,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r.pathNames=m$(r,r.path),r.queryKey=g$(r,r.query),r}function m$(n,e){const t=/\/{2,9}/g,i=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&i.splice(0,1),e.slice(-1)=="/"&&i.splice(i.length-1,1),i}function g$(n,e){const t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,s,r){s&&(t[s]=r)}),t}let Bk=class xo extends Nt{constructor(e,t={}){super(),this.writeBuffer=[],e&&typeof e=="object"&&(t=e,e=null),e?(e=cm(e),t.hostname=e.host,t.secure=e.protocol==="https"||e.protocol==="wss",t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=cm(t.host).host),th(this,t),this.secure=t.secure!=null?t.secure:typeof location!="undefined"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location!="undefined"?location.hostname:"localhost"),this.port=t.port||(typeof location!="undefined"&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=r$(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=Ak,t.transport=e,this.id&&(t.sid=this.id);const i=Object.assign({},this.opts.transportOptions[e],this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new h$[e](i)}open(){let e;if(this.opts.rememberUpgrade&&xo.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch(t){this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",t=>this.onClose("transport close",t))}probe(e){let t=this.createTransport(e),i=!1;xo.priorWebsocketSuccess=!1;const s=()=>{i||(t.send([{type:"ping",data:"probe"}]),t.once("packet",f=>{if(!i)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;xo.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(d(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const p=new Error("probe error");p.transport=t.name,this.emitReserved("upgradeError",p)}}))};function r(){i||(i=!0,d(),t.close(),t=null)}const o=f=>{const p=new Error("probe error: "+f);p.transport=t.name,r(),this.emitReserved("upgradeError",p)};function a(){o("transport closed")}function l(){o("socket closed")}function u(f){t&&f.name!==t.name&&r()}const d=()=>{t.removeListener("open",s),t.removeListener("error",o),t.removeListener("close",a),this.off("close",l),this.off("upgrading",u)};t.once("open",s),t.once("error",o),t.once("close",a),this.once("close",l),this.once("upgrading",u),t.open()}onOpen(){if(this.readyState="open",xo.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let e=0;const t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let i=0;i<this.writeBuffer.length;i++){const s=this.writeBuffer[i].data;if(s&&(t+=t$(s)),i>0&&t>this.maxPayload)return this.writeBuffer.slice(0,i);t+=2}return this.writeBuffer}write(e,t,i){return this.sendPacket("message",e,t,i),this}send(e,t,i){return this.sendPacket("message",e,t,i),this}sendPacket(e,t,i,s){if(typeof t=="function"&&(s=t,t=void 0),typeof i=="function"&&(s=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;const r={type:e,data:t,options:i};this.emitReserved("packetCreate",r),this.writeBuffer.push(r),s&&this.once("flush",s),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},i=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():e()}):this.upgrading?i():e()),this}onError(e){xo.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,t){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const t=[];let i=0;const s=e.length;for(;i<s;i++)~this.transports.indexOf(e[i])&&t.push(e[i]);return t}};Bk.protocol=Ak;function y$(n,e="",t){let i=n;t=t||typeof location!="undefined"&&location,n==null&&(n=t.protocol+"//"+t.host),typeof n=="string"&&(n.charAt(0)==="/"&&(n.charAt(1)==="/"?n=t.protocol+n:n=t.host+n),/^(https?|wss?):\/\//.test(n)||(typeof t!="undefined"?n=t.protocol+"//"+n:n="https://"+n),i=cm(n)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const r=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+r+":"+i.port+e,i.href=i.protocol+"://"+r+(t&&t.port===i.port?"":":"+i.port),i}const _$=typeof ArrayBuffer=="function",v$=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,Fk=Object.prototype.toString,b$=typeof Blob=="function"||typeof Blob!="undefined"&&Fk.call(Blob)==="[object BlobConstructor]",x$=typeof File=="function"||typeof File!="undefined"&&Fk.call(File)==="[object FileConstructor]";function Rg(n){return _$&&(n instanceof ArrayBuffer||v$(n))||b$&&n instanceof Blob||x$&&n instanceof File}function Tu(n,e){if(!n||typeof n!="object")return!1;if(Array.isArray(n)){for(let t=0,i=n.length;t<i;t++)if(Tu(n[t]))return!0;return!1}if(Rg(n))return!0;if(n.toJSON&&typeof n.toJSON=="function"&&arguments.length===1)return Tu(n.toJSON(),!0);for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&Tu(n[t]))return!0;return!1}function w$(n){const e=[],t=n.data,i=n;return i.data=um(t,e),i.attachments=e.length,{packet:i,buffers:e}}function um(n,e){if(!n)return n;if(Rg(n)){const t={_placeholder:!0,num:e.length};return e.push(n),t}else if(Array.isArray(n)){const t=new Array(n.length);for(let i=0;i<n.length;i++)t[i]=um(n[i],e);return t}else if(typeof n=="object"&&!(n instanceof Date)){const t={};for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=um(n[i],e));return t}return n}function k$(n,e){return n.data=dm(n.data,e),delete n.attachments,n}function dm(n,e){if(!n)return n;if(n&&n._placeholder===!0){if(typeof n.num=="number"&&n.num>=0&&n.num<e.length)return e[n.num];throw new Error("illegal attachments")}else if(Array.isArray(n))for(let t=0;t<n.length;t++)n[t]=dm(n[t],e);else if(typeof n=="object")for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&(n[t]=dm(n[t],e));return n}const S$=5;var Qe;(function(n){n[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK"})(Qe||(Qe={}));class M${constructor(e){this.replacer=e}encode(e){return(e.type===Qe.EVENT||e.type===Qe.ACK)&&Tu(e)?this.encodeAsBinary({type:e.type===Qe.EVENT?Qe.BINARY_EVENT:Qe.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===Qe.BINARY_EVENT||e.type===Qe.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=w$(e),i=this.encodeAsString(t.packet),s=t.buffers;return s.unshift(i),s}}class Dg extends Nt{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const i=t.type===Qe.BINARY_EVENT;i||t.type===Qe.BINARY_ACK?(t.type=i?Qe.EVENT:Qe.ACK,this.reconstructor=new C$(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(Rg(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0;const i={type:Number(e.charAt(0))};if(Qe[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===Qe.BINARY_EVENT||i.type===Qe.BINARY_ACK){const r=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);const o=e.substring(r,t);if(o!=Number(o)||e.charAt(t)!=="-")throw new Error("Illegal attachments");i.attachments=Number(o)}if(e.charAt(t+1)==="/"){const r=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););i.nsp=e.substring(r,t)}else i.nsp="/";const s=e.charAt(t+1);if(s!==""&&Number(s)==s){const r=t+1;for(;++t;){const o=e.charAt(t);if(o==null||Number(o)!=o){--t;break}if(t===e.length)break}i.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){const r=this.tryParse(e.substr(t));if(Dg.isPayloadValid(i.type,r))i.data=r;else throw new Error("invalid payload")}return i}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(t){return!1}}static isPayloadValid(e,t){switch(e){case Qe.CONNECT:return typeof t=="object";case Qe.DISCONNECT:return t===void 0;case Qe.CONNECT_ERROR:return typeof t=="string"||typeof t=="object";case Qe.EVENT:case Qe.BINARY_EVENT:return Array.isArray(t)&&t.length>0;case Qe.ACK:case Qe.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class C${constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const t=k$(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const T$=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Dg,Encoder:M$,get PacketType(){return Qe},protocol:S$},Symbol.toStringTag,{value:"Module"}));function oi(n,e,t){return n.on(e,t),function(){n.off(e,t)}}const P$=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class $k extends Nt{constructor(e,t,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[oi(e,"open",this.onopen.bind(this)),oi(e,"packet",this.onpacket.bind(this)),oi(e,"error",this.onerror.bind(this)),oi(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(P$.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const i={type:Qe.EVENT,data:t};if(i.options={},i.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){const o=this.ids++,a=t.pop();this._registerAckCallback(o,a),i.id=o}const s=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!s||!this.connected)||(this.connected?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}_registerAckCallback(e,t){var i;const s=(i=this.flags.timeout)!==null&&i!==void 0?i:this._opts.ackTimeout;if(s===void 0){this.acks[e]=t;return}const r=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===e&&this.sendBuffer.splice(o,1);t.call(this,new Error("operation has timed out"))},s);this.acks[e]=(...o)=>{this.io.clearTimeoutFn(r),t.apply(this,[null,...o])}}emitWithAck(e,...t){const i=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((s,r)=>{t.push((o,a)=>i?o?r(o):s(a):s(o)),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((s,...r)=>i!==this._queue[0]?void 0:(s!==null?i.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(s)):(this._queue.shift(),t&&t(null,...r)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Qe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Qe.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Qe.EVENT:case Qe.BINARY_EVENT:this.onevent(e);break;case Qe.ACK:case Qe.BINARY_ACK:this.onack(e);break;case Qe.DISCONNECT:this.ondisconnect();break;case Qe.CONNECT_ERROR:this.destroy();const i=new Error(e.data.message);i.data=e.data.data,this.emitReserved("connect_error",i);break}}onevent(e){const t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const i of t)i.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let i=!1;return function(...s){i||(i=!0,t.packet({type:Qe.ACK,id:e,data:s}))}}onack(e){const t=this.acks[e.id];typeof t=="function"&&(t.apply(this,e.data),delete this.acks[e.id])}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Qe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let i=0;i<t.length;i++)if(e===t[i])return t.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let i=0;i<t.length;i++)if(e===t[i])return t.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const i of t)i.apply(this,e.data)}}}function aa(n){n=n||{},this.ms=n.min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}aa.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*n);n=Math.floor(e*10)&1?n+t:n-t}return Math.min(n,this.max)|0};aa.prototype.reset=function(){this.attempts=0};aa.prototype.setMin=function(n){this.ms=n};aa.prototype.setMax=function(n){this.max=n};aa.prototype.setJitter=function(n){this.jitter=n};class hm extends Nt{constructor(e,t){var i;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,th(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((i=t.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new aa({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;const s=t.parser||T$;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Bk(this.uri,this.opts);const t=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const s=oi(t,"open",function(){i.onopen(),e&&e()}),r=oi(t,"error",o=>{i.cleanup(),i._readyState="closed",this.emitReserved("error",o),e?e(o):i.maybeReconnectOnOpen()});if(this._timeout!==!1){const o=this._timeout;o===0&&s();const a=this.setTimeoutFn(()=>{s(),t.close(),t.emit("error",new Error("timeout"))},o);this.opts.autoUnref&&a.unref(),this.subs.push(function(){clearTimeout(a)})}return this.subs.push(s),this.subs.push(r),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(oi(e,"ping",this.onping.bind(this)),oi(e,"data",this.ondata.bind(this)),oi(e,"error",this.onerror.bind(this)),oi(e,"close",this.onclose.bind(this)),oi(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){zk(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let i=this.nsps[e];return i?this._autoConnect&&!i.active&&i.connect():(i=new $k(this,e,t),this.nsps[e]=i),i}_destroy(e){const t=Object.keys(this.nsps);for(const i of t)if(this.nsps[i].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let i=0;i<t.length;i++)this.engine.write(t[i],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(s=>{s?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",s)):e.onreconnect()}))},t);this.opts.autoUnref&&i.unref(),this.subs.push(function(){clearTimeout(i)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Ia={};function Wf(n,e){typeof n=="object"&&(e=n,n=void 0),e=e||{};const t=y$(n,e.path||"/socket.io"),i=t.source,s=t.id,r=t.path,o=Ia[s]&&r in Ia[s].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let l;return a?l=new hm(i,e):(Ia[s]||(Ia[s]=new hm(i,e)),l=Ia[s]),t.query&&!e.query&&(e.query=t.queryKey),l.socket(t.path,e)}Object.assign(Wf,{Manager:hm,Socket:$k,io:Wf,connect:Wf});let la=zC(uD);AF("resourceFetcher",$F);la.use(Ox);la.use(FF);la.component("Button",gD);la.component("Card",LD);la.component("Input",$D);la.mount("#app");"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(n=>{console.log("✅ Service Worker registered...:",n.scope)}).catch(n=>{console.error("❌ Service Worker registration failed:",n)})});export{Sm as $,z$ as A,gD as B,yu as C,ia as D,xe as E,xt as F,Ae as G,Ws as H,jo as I,DC as J,V$ as K,Tt as L,_M as M,Dx as N,Ht as O,$$ as P,Bt as Q,rn as R,sn as S,i1 as T,Yw as U,G$ as V,J$ as W,Y$ as X,Vi as Y,FS as Z,Vn as _,Y as a,I$ as a0,a2 as a1,pH as a2,F$ as a3,B$ as a4,ht as a5,mH as a6,qS as a7,Q$ as a8,iH as a9,D$ as aA,j$ as aB,H$ as aC,O$ as aD,xb as aE,eu as aF,ni as aG,N$ as aH,kn as aI,W$ as aJ,K$ as aK,Av as aL,oH as aa,rH as ab,sH as ac,uH as ad,tH as ae,dH as af,fH as ag,hH as ah,aH as ai,lH as aj,cH as ak,eH as al,Qm as am,Am as an,Vr as ao,Kl as ap,Rm as aq,_4 as ar,w4 as as,m4 as at,Tx as au,p2 as av,bD as aw,$S as ax,bS as ay,L$ as az,P as b,$n as c,Gs as d,ii as e,yt as f,Td as g,Ld as h,hi as i,fi as j,Qr as k,Is as l,A$ as m,Lo as n,K as o,iu as p,qM as q,pe as r,Ye as s,it as t,Pe as u,$t as v,U$ as w,ps as x,Z$ as y,Hl as z};
