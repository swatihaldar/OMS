var b=(c,i,r)=>new Promise((v,n)=>{var u=s=>{try{l(r.next(s))}catch(a){n(a)}},w=s=>{try{l(r.throw(s))}catch(a){n(a)}},l=s=>s.done?v(s.value):Promise.resolve(s.value).then(u,w);l((r=r.apply(c,i)).next())});import{o,c as d,a as e,r as p,h as _,e as f,f as x,t as h,i as y,j as M,k as g,v as C,l as j,m as k,p as B,q as S,u as V}from"./index-Dv3bTM60.js";import{r as L}from"./UserIcon-DnFkM66p.js";function D(c,i){return o(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})])}function N(c,i){return o(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"})])}function Z(c,i){return o(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})])}function $(c,i){return o(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"})])}const A="/assets/oms/frontend/icon.png",E={class:"min-h-screen bg-gradient-to-b from-blue-50 to-white flex flex-col justify-center py-12 sm:px-6 lg:px-8"},I={class:"mt-8 sm:mx-auto sm:w-full sm:max-w-md md:max-w-lg p-4 sm:p-0"},P={class:"bg-white py-8 px-4 shadow-lg sm:rounded-xl sm:px-10 border border-gray-100"},T={key:0,class:"mb-4 bg-red-50 border-l-4 border-red-500 p-4 rounded-md"},U={class:"flex"},q={class:"flex-shrink-0"},H={class:"ml-3"},O={class:"text-sm text-red-700"},z={class:"mt-1 relative rounded-md shadow-sm"},F={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},R={class:"mt-1 relative rounded-md shadow-sm"},Y={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},J=["type"],W={class:"absolute inset-y-0 right-0 pr-3 flex items-center"},G={class:"flex items-center justify-between"},K={class:"flex items-center"},Q=["disabled"],X={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},ee={class:"mt-8 text-center text-xs text-gray-500"},re={__name:"Login",setup(c){const i=V(),r=p(""),v=p(""),n=p(!1),u=p(!1),w=p(!1),l=p(""),s=()=>b(this,null,function*(){n.value=!0,l.value="";try{const t=yield(yield fetch("/api/method/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({usr:r.value,pwd:v.value})})).json();if(t.message==="Logged In")i.push("/");else throw new Error(t.message||"Login failed")}catch(a){console.error("Login error:",a),l.value=a.message||"Invalid username or password. Please try again."}finally{n.value=!1}});return(a,t)=>(o(),d("div",E,[t[8]||(t[8]=_('<div class="sm:mx-auto sm:w-full sm:max-w-md"><div class="flex justify-center"><img class="h-16 w-auto" src="'+A+'" alt="Your Logo"></div><h2 class="mt-6 text-center text-3xl font-extrabold text-gray-900"> Welcome Back </h2><p class="mt-2 text-center text-sm text-gray-600"> Sign in to access your account </p></div>',1)),e("div",I,[e("div",P,[l.value?(o(),d("div",T,[e("div",U,[e("div",q,[f(x(D),{class:"h-5 w-5 text-red-500"})]),e("div",H,[e("p",O,h(l.value),1)])])])):y("",!0),e("form",{class:"space-y-6",onSubmit:M(s,["prevent"])},[e("div",null,[t[4]||(t[4]=e("label",{for:"email",class:"block text-sm font-medium text-gray-700"}," User ID ",-1)),e("div",z,[e("div",F,[f(x(L),{class:"h-5 w-5 text-gray-400"})]),g(e("input",{id:"email","onUpdate:modelValue":t[0]||(t[0]=m=>r.value=m),name:"email",type:"text",required:"",class:"appearance-none block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Enter your user ID"},null,512),[[C,r.value]])])]),e("div",null,[t[5]||(t[5]=e("label",{for:"password",class:"block text-sm font-medium text-gray-700"}," Password ",-1)),e("div",R,[e("div",Y,[f(x($),{class:"h-5 w-5 text-gray-400"})]),g(e("input",{id:"password","onUpdate:modelValue":t[1]||(t[1]=m=>v.value=m),name:"password",type:u.value?"text":"password",required:"",class:"appearance-none block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Enter your password"},null,8,J),[[j,v.value]]),e("div",W,[e("button",{type:"button",onClick:t[2]||(t[2]=m=>u.value=!u.value),class:"text-gray-400 hover:text-gray-500 focus:outline-none"},[u.value?(o(),k(x(Z),{key:0,class:"h-5 w-5"})):(o(),k(x(N),{key:1,class:"h-5 w-5"}))])])])]),e("div",G,[e("div",K,[g(e("input",{id:"remember-me","onUpdate:modelValue":t[3]||(t[3]=m=>w.value=m),name:"remember-me",type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[B,w.value]]),t[6]||(t[6]=e("label",{for:"remember-me",class:"ml-2 block text-sm text-gray-900"}," Remember me ",-1))])]),e("div",null,[e("button",{type:"submit",disabled:n.value,class:"w-full flex justify-center py-2.5 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 transition-colors"},[n.value?(o(),d("svg",X,t[7]||(t[7]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):y("",!0),S(" "+h(n.value?"Signing in...":"Sign in"),1)],8,Q)])],32)])]),e("div",ee,[e("p",null,"Â© "+h(new Date().getFullYear())+" Frappe OMS. All rights reserved.",1)])]))}};export{re as default};
